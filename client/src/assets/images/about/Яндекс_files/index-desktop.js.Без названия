(()=>{var e,t,n,i,o={3516:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,'.divkit-b5eca{height:0;left:0;pointer-events:none;position:absolute;top:0;visibility:hidden;width:0}.divkit-d1ad0{word-wrap:break-word;display:grid;font-size:10px;grid-template-columns:100%;grid-template-rows:100%;line-height:1.25;overflow:hidden;position:relative;word-break:break-word}@supports (overflow:clip){.divkit-d1ad0{overflow:clip}}.divkit-e0fd3,.divkit-ffa3a{cursor:pointer}.divkit-fa556{-webkit-user-select:none;-moz-user-select:none;user-select:none}.divkit-c9211 .divkit-e0fd3{transition:opacity .15s ease-out}.divkit-c9211 .divkit-e0fd3:hover{opacity:.7}.divkit-c9211 .divkit-e0fd3:active{opacity:.5}.divkit-d1ad0:not(.divkit-c9211) .divkit-ff685{display:none}.divkit-ad27d{overscroll-behavior:contain}.divkit-d8d15{-webkit-touch-callout:none}.divkit-b4897{color:inherit;white-space:pre-wrap}.divkit-b9de8{white-space:nowrap}.divkit-dfdba{display:inline-block}.divkit-c3dfb{text-decoration:underline line-through}.divkit-ca906{text-decoration:underline}.divkit-a8dd7{text-decoration:line-through}.divkit-cbf85{text-decoration:none}.divkit-d04cf{display:flex}.divkit-d1271{justify-content:flex-start;text-align:start}.divkit-c1cbb{justify-content:center;text-align:center}.divkit-adcd7{justify-content:flex-end;text-align:end}.divkit-d3b9b{align-items:flex-start}.divkit-fe406{align-items:center}.divkit-d88f8{align-items:flex-end}.divkit-d1c42{align-items:baseline}.divkit-f93dd{max-height:100%;min-height:0;min-width:0}.divkit-d16d9 .divkit-f93dd,.divkit-e0d91 .divkit-f93dd{overflow:hidden}@supports (overflow:clip){.divkit-d16d9 .divkit-f93dd,.divkit-e0d91 .divkit-f93dd{overflow:clip}}.divkit-e0d91 .divkit-f93dd{text-overflow:ellipsis;white-space:nowrap}.divkit-a4e1f .divkit-e0d91 .divkit-f93dd{text-overflow:clip}.divkit-d16d9 .divkit-f93dd{-webkit-box-orient:vertical;display:-webkit-box}.divkit-e92e9{-webkit-background-clip:text;background-clip:text;color:transparent}.divkit-e499e{display:inline-block;vertical-align:middle}.divkit-f7786{display:none}.divkit-ec6a1:focus-visible .divkit-f93dd .divkit-b4897,:focus-visible .divkit-ec6a1 .divkit-f93dd .divkit-b4897{color:var(--divkit-text-focus-color)!important}.divkit-febd5{box-sizing:border-box;flex-shrink:0;min-height:0;min-width:0;overflow:hidden;position:relative;text-decoration:none;z-index:0}@supports (overflow:clip){.divkit-febd5{overflow:clip}}.divkit-febd5{color:inherit}.divkit-ab97f{visibility:hidden}.divkit-e310b{justify-self:start}.divkit-b8989{justify-self:center}.divkit-e3daf{justify-self:end}.divkit-dc597{justify-self:stretch}.divkit-ea5fb{align-self:start}.divkit-ad8d2{align-self:center}.divkit-f7541{align-self:end}.divkit-e075a{align-self:stretch}.divkit-bb3dc.divkit-e310b{align-self:flex-start}.divkit-bb3dc.divkit-b8989{align-self:center}.divkit-bb3dc.divkit-e3daf{align-self:flex-end}.divkit-bb3dc.divkit-dc597{align-self:stretch}.divkit-b5712.divkit-ea5fb{align-self:flex-start}.divkit-b5712.divkit-ad8d2{align-self:center}.divkit-b5712.divkit-f7541{align-self:flex-end}.divkit-b5712.divkit-e075a{align-self:stretch}.divkit-b5712.divkit-e5919{align-self:baseline}.divkit-cb510{width:max-content}.divkit-c3a30{height:max-content}.divkit-ef2dd{max-width:100%}.divkit-ef2dd.divkit-b2fa8{width:auto}.divkit-bc814{max-height:100%}.divkit-bc814.divkit-b2fa8{height:auto}.divkit-ad574{grid-area:1/1/2/2}.divkit-ec1ca{bottom:0;left:0;position:absolute;right:0;top:0}.divkit-dfd51{scroll-snap-align:center}.divkit-eb77b{scroll-snap-align:start}.divkit-df618{box-sizing:border-box;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-e51f0{visibility:hidden}.divkit-a9de6{display:none!important}.divkit-bd06f{-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:var(--divkit-animation-opacity-start,1);transform:scale(var(--divkit-animation-scale-start,1))}.divkit-bd06f:active{opacity:var(--divkit-animation-opacity-end,1);transform:scale(var(--divkit-animation-scale-end,1))}.divkit-db524:focus,.divkit-db524:focus-visible{outline:none}.divkit-ece69{height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.divkit-f5b85{overflow:hidden}@supports (overflow:clip){.divkit-f5b85{overflow:clip}}.divkit-b763f{background-repeat:no-repeat;height:100%;left:0;position:absolute;top:0;width:100%}.divkit-debc3{display:none}.divkit-a9eff{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-cf175{align-items:center;display:flex;justify-content:center;position:absolute}.divkit-c9986{max-height:100%;max-width:100%}.divkit-b0274{display:flex}.divkit-a2585{align-content:flex-start;flex-wrap:wrap}.divkit-ba401{overflow:visible}.divkit-e569d{flex-direction:column}.divkit-e569d.divkit-a99d6{justify-content:flex-start}.divkit-e569d.divkit-d784f{justify-content:center}.divkit-e569d.divkit-d033c{justify-content:flex-end}.divkit-e569d.divkit-e094e{justify-content:space-between}.divkit-e569d.divkit-a71d9{justify-content:space-around}.divkit-e569d.divkit-c82a7{justify-content:space-evenly}.divkit-a2585.divkit-e569d.divkit-cd820{align-content:flex-start}.divkit-a2585.divkit-e569d.divkit-d4db9{align-content:center}.divkit-a2585.divkit-e569d.divkit-f7715{align-content:flex-end}.divkit-a2585.divkit-e569d.divkit-b36c2{align-content:space-between}.divkit-a2585.divkit-e569d.divkit-a5b18{align-content:space-around}.divkit-a2585.divkit-e569d.divkit-e8052{align-content:space-evenly}.divkit-d29da.divkit-cd820{justify-content:flex-start}.divkit-d29da.divkit-d4db9{justify-content:center}.divkit-d29da.divkit-f7715{justify-content:flex-end}.divkit-d29da.divkit-b36c2{justify-content:space-between}.divkit-d29da.divkit-a5b18{justify-content:space-around}.divkit-d29da.divkit-e8052{justify-content:space-evenly}.divkit-a2585.divkit-d29da.divkit-a99d6{align-content:flex-start}.divkit-a2585.divkit-d29da.divkit-d784f{align-content:center}.divkit-a2585.divkit-d29da.divkit-d033c{align-content:flex-end}.divkit-a2585.divkit-d29da.divkit-e094e{align-content:space-between}.divkit-a2585.divkit-d29da.divkit-a71d9{align-content:space-around}.divkit-a2585.divkit-d29da.divkit-c82a7{align-content:space-evenly}.divkit-e3078{display:grid;grid-template-columns:100%;grid-template-rows:100%}.divkit-ab686{align-items:center;display:flex;justify-content:center}.divkit-f467e{min-height:.1em}.divkit-bc7ad{min-width:.1em}.divkit-f101c{display:block}.divkit-dd314{min-height:0;min-width:0}.divkit-c3744{min-width:max-content}.divkit-fb6db{min-height:max-content}.divkit-d4c95{background-position:50% 50%;background-repeat:no-repeat;background-size:cover;display:block;height:100%;width:100%}.divkit-c3744 .divkit-d4c95{width:auto}.divkit-fb6db .divkit-d4c95{height:auto}.divkit-b441d .divkit-d4c95{visibility:hidden}.divkit-c46b3 .divkit-d4c95{transform:scaleX(-1)}.divkit-c7ac5{display:block;position:relative}.divkit-dfe61 .divkit-d4c95{height:100%;left:0;position:absolute;top:0;width:100%}.divkit-a5a8e .divkit-d4c95{animation-delay:var(--divkit-appearance-delay);animation-duration:var(--divkit-appearance-duration);animation-fill-mode:both;animation-iteration-count:1;animation-name:divkit-c3905}.divkit-beb15 .divkit-d4c95{visibility:hidden}.divkit-dd314[data-lottie=true] .divkit-d4c95{display:none}@keyframes divkit-c3905{0%{opacity:var(--divkit-appearance-fade-start)}to{opacity:1}}.divkit-e89ba{display:block}.divkit-c4b6b{height:100%;max-height:inherit;max-width:inherit;width:100%}.divkit-cada8 .divkit-c4b6b{-webkit-overflow-scrolling:touch;scrollbar-width:none}.divkit-cada8 .divkit-c4b6b::-webkit-scrollbar{display:none}.divkit-db3e3>.divkit-c4b6b{overflow-x:auto;overflow-y:hidden}.divkit-b4695>.divkit-c4b6b{overflow-x:hidden;overflow-y:auto}.divkit-a472d>.divkit-c4b6b{scroll-snap-type:mandatory;scroll-snap-type:both mandatory}.divkit-a472d>.divkit-c4b6b>.divkit-a805e{scroll-snap-align:start}.divkit-a805e{box-sizing:border-box;display:flex;height:100%;width:100%}.divkit-db3e3>.divkit-c4b6b>.divkit-a805e{flex-direction:column;min-width:min-content}.divkit-b4695>.divkit-c4b6b>.divkit-a805e{flex-direction:row;min-height:min-content}.divkit-d789e{box-sizing:border-box;display:inline-grid}.divkit-db3e3>.divkit-c4b6b>.divkit-a805e>.divkit-d789e{grid-auto-flow:column;grid-template-rows:100%;height:100%;justify-content:start;min-height:0;min-width:min-content}.divkit-b4695>.divkit-c4b6b>.divkit-a805e>.divkit-d789e{align-content:start;grid-auto-flow:row;grid-template-columns:100%;min-height:min-content;min-width:0;width:100%}.divkit-afe51:before{background:var(--divkit-gallery-arrow-bg,#fff);box-shadow:0 .2em .4em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-afe51:hover:before{box-shadow:0 .2em .8em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-afe51:active:before{box-shadow:0 .1em .4em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-dd66d{fill:var(--divkit-gallery-arrow-fg,#000)}.divkit-b7608{cursor:pointer;height:4.4em;margin-top:-2.2em;position:absolute;top:50%;width:4.4em}.divkit-b7608:before{border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;transition:.15s ease-out;transition-property:transform,box-shadow;width:100%}.divkit-b7608:hover:before{transform:scale(1.1)}.divkit-b7608:active:before{transform:scale(1.05)}.divkit-ccc86{bottom:0;height:3.2em;left:0;margin:auto;position:absolute;right:0;top:0;width:3.2em}.divkit-f25e0{left:.6em}.divkit-c5954{right:.6em}.divkit-a0314{display:grid;grid-template-columns:100%;grid-template-rows:100%;position:relative}.divkit-a56a1{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-ab450{pointer-events:auto;position:absolute;transform-origin:0 0}.divkit-c53cb{display:grid;grid-template-columns:100%;grid-template-rows:100%;height:100%;overflow:hidden;pointer-events:none;width:100%}@supports (overflow:clip){.divkit-c53cb{overflow:clip}}.divkit-cfde6{left:0;pointer-events:none;position:absolute;top:0;visibility:hidden}.divkit-ea2ab{pointer-events:auto;visibility:visible}',""]);const a=s},8718:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r),a=n(1667),l=n.n(a),c=new URL(n(5572),n.b),u=new URL(n(4679),n.b),d=new URL(n(4472),n.b),p=new URL(n(2455),n.b),h=s()(o()),g=l()(c),m=l()(u),f=l()(d),v=l()(p);h.push([e.id,"/* следующие css классы используется в галлерее и дивной верстке */\n.gallery__arrow_left {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    left: 0px;\n}\n.gallery__arrow_left::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n.gallery__arrow_left:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_left:active::before {\n    opacity: 0.45;\n}\n.gallery__arrow_right {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    right: 0px;\n}\n.gallery__arrow_right::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n.gallery__arrow_right:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_right:active::before {\n    opacity: 0.45;\n}\n.gallery_theme_dark .gallery__arrow_left {\n    background-color: #161617;\n}\n.gallery_theme_dark .gallery__arrow_right {\n    background-color: #161617;\n}\n.gallery_theme_dark .gallery__arrow_left::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg);\n}\n.gallery_theme_dark .gallery__arrow_right::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg);\n}\n/* standalone */\n.gallery__arrow_left_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    left: 0px;\n    border-radius: 50%;\n}\n.gallery__arrow_left_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+g+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_left_standalone:hover::before {\n    background-image: url("+m+");\n}\n.gallery__arrow_right_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    right: 0px;\n    border-radius: 50%;\n}\n.gallery__arrow_right_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+f+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_right_standalone:hover::before {\n    background-image: url("+v+");\n}\n.gallery__arrow_left_standalone,\n.gallery__arrow_right_standalone {\n    visibility: hidden;\n    opacity: 0;\n    transition: ease-out 0.15s;\n    transition-property: opacity, visibility;\n}\n.gallery:hover .gallery__arrow_left_standalone,\n.gallery:hover .gallery__arrow_right_standalone,\n.div-card:hover .gallery__arrow_left_standalone,\n.div-card:hover .gallery__arrow_right_standalone {\n    visibility: visible;\n    opacity: 1;\n}\n",""]);const _=h},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},1667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{e.exports=function(e){return e[1]}},4640:(e,t,n)=>{n.d(t,{Bs:()=>M.B,D5:()=>j.D5,rb:()=>I,iR:()=>M.i,ku:()=>b.k,Hc:()=>h,QI:()=>x,ox:()=>$,pK:()=>C,Oj:()=>p,Lk:()=>o.Lk,ZP:()=>i.Z,$i:()=>g,Ag:()=>d,$E:()=>v,lP:()=>m,pk:()=>r.p,O6:()=>u,CX:()=>c,fA:()=>f,kJ:()=>_});var i=n(2424),o=n(8057),r=n(1399);const s="https://rpc.alice.yandex.ru",a=((e,t=1,n=(e=>500*e**2))=>{if(t<=0)throw new Error("@retry Error: invalid retry init. Tries count have to be > 0");return(...i)=>{const o=(e,i,r)=>e(...i).catch((s=>{if(r<=1)throw new Error(`Function call "${e.name}" fail in ${t} retries. ${s.message}`);return(a=n(t-r),new Promise((e=>{setTimeout(e,a)}))).then((()=>o(e,i,r-1)));var a}));return o(e,i,t)}})(((e,t)=>fetch(e,t).then((t=>{if(!t.ok)throw new Error(`Error: Got status ${t.status} for request to ${e}`);return t.json()}))),4),l=async(e,t,n={})=>{const{basePath:i=s}=n,r=`${i}${e}`,l={method:"POST",headers:await(async(e={})=>{const{appId:t,uuid:n}=await(0,o.sd)();return Object.assign({"X-Ya-App-Id":t,"X-Ya-Uuid":n,"X-Ya-Device-Id":"","X-Ya-Language":"ru","Content-Type":"application/json"},e)})(n.headers),body:JSON.stringify(t),credentials:"include"};return a(r,l)},c=async(e,t=[],n,i)=>l("/dialog/remove_messages",{dialog_id:e,request_ids:t,do_remove_all:n},{basePath:i}),u=async(e,t)=>l("/dialog/remove_dialog",{dialog_id:e},{basePath:t}),d=e=>l("/dialog/list_dialogs",{},{basePath:e});const p=async(e,t={},n)=>{var{dialogId:i}=t,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(t,["dialogId"]);return l("/dialog/create_dialog_with_messages",Object.assign(Object.assign({},o),{dialog_id:i,request_ids:e}),{basePath:n})};var h;!function(e){e[e.NOT_SET=0]="NOT_SET",e[e.GOOD=1]="GOOD",e[e.BAD=2]="BAD"}(h||(h={}));const g=async(e,t=Number.MAX_SAFE_INTEGER,n,i=50,o)=>l("/dialog/read_dialog",{dialog_id:e,ts_max_ms:t,last_history_message_id:n,limit:i},{basePath:o}),m=()=>i.Z.sendVinsRequest({name:"@@mm_typed_callback",payload:{typed_callback_serialized:"Cjh0eXBlLmdvb2dsZWFwaXMuY29tL05BbGljZS5UV2ViQWxpY2VXZWxjb21lVHlwZWRDYWxsYmFjaw==",analytics:{origin:"Scenario",purpose:"purpose"}},type:"server_action"}),f=(e,t)=>{const n="positive"===t?"Like":"Dislike";return i.Z.sendVinsRequest({name:"@@mm_typed_callback",type:"server_action",payload:{typed_callback_struct:{typed_callback_name:`AliceResponse${n}TypedCallback`,payload:{request_id:e}},analytics:{origin:"Scenario",purpose:"purpose"}},ignore_answer:!0},{voiceSession:!1})},v=(e={})=>{const{onboardingType:t,isTextExpected:n,origin:o="Web",purpose:r="get_greetings",originInfo:s}=e;return i.Z.sendVinsRequest({name:"@@mm_semantic_frame",payload:{typed_semantic_frame:{onboarding_get_greetings_semantic_frame:Object.assign(Object.assign({},t&&{onboarding_type:{type_value:t}}),n&&{is_text_expected:{bool_value:n}})},analytics:Object.assign({purpose:r,origin:o},s&&{origin_info:s}),request_params:{disable_output_speech:!0,disable_should_listen:!0,is_parallel:!0}},type:"server_action"})},_=e=>{o.vp.errorHandler=e};var b=n(2385),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class x extends b.k{constructor(e={}){super("open_uri"),this._options=e,this._timeoutId=0}handleDirective(e,t){var n;const{beforeHandle:i,onHandle:r,skip:s=o.ZT}=this._options,a=(null==t?void 0:t.isUserEvent)?0:null!==(n=this._options.delay)&&void 0!==n?n:1200;if(s(e))return;this.cancel(),null==i||i(e);const{payload:l}=e,c=()=>{r?r(e,t):(null==t?void 0:t.isUserEvent)?window.open(l.uri,"_blank"):window.location.href=l.uri,this.cancel()};a?(this.setProgress(!0),this._timeoutId=window.setTimeout(c,a)):c()}cancel(){clearTimeout(this._timeoutId),this._timeoutId=void 0,this.setProgress(!1)}}y([o.ak],x.prototype,"handleDirective",null),y([o.ak],x.prototype,"cancel",null);var w=n(4828),k=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class $ extends b.k{constructor(e){super("print_text_in_message_view"),this.options=e,this._isSpeaking=!1,this._isSpeechFetched=!1}handleDirective(e,t){var n;this._isSpeaking=i.Z.state.voiceSession;const o=(null!==(n=null==t?void 0:t.directives)&&void 0!==n?n:[]).find((e=>"server_action"===e.type));this._currentDirective&&e?w.k.error("Got new PrintTextInMessageView directive before handled prev"):this._nextServerDirective&&o?w.k.error("Got new server directive before handled prev"):(this.setProgress(!0),this._currentDirective=e,this._nextServerDirective=o,this.handlePrintTextDirective())}cancel(){var e,t;null===(t=(e=this.options).onCancel)||void 0===t||t.call(e),this.clean()}get isSpeaking(){return this._isSpeaking}onSpeechFetched(){this._isSpeaking&&(this._currentDirective||this._nextServerDirective?(this._isSpeechFetched=!0,this.handleServerDirective()):this.clean())}handlePrintTextDirective(){if(!this._currentDirective||this._textAnimationTimeoutId)return;this.options.onHandle(this._currentDirective);const{payload:e}=this._currentDirective;if(this._currentDirective=void 0,!this._nextServerDirective)return void(this._isSpeaking&&!this._isSpeechFetched||this.clean());const t=e.symbols_per_second?e.text.length/e.symbols_per_second*1e3:0;this._textAnimationTimeoutId=window.setTimeout((()=>{this._textAnimationTimeoutId=void 0,this.handlePrintTextDirective()}),t);const n=e.prefetch_after_ms||0;this._serverDirectiveTimeoutId=window.setTimeout((()=>{this._serverDirectiveTimeoutId=void 0,this.handleServerDirective()}),n)}handleServerDirective(){this._currentDirective||!this._nextServerDirective||this._serverDirectiveTimeoutId||this._isSpeaking&&!this._isSpeechFetched||(i.Z.sendVinsRequest({type:"server_action",name:this._nextServerDirective.name,payload:this._nextServerDirective.payload},{voiceSession:this._isSpeaking}),this._nextServerDirective=void 0,this._isSpeechFetched=!1)}clean(){window.clearTimeout(this._serverDirectiveTimeoutId),window.clearTimeout(this._textAnimationTimeoutId),this.setProgress(!1),this._serverDirectiveTimeoutId=void 0,this._textAnimationTimeoutId=void 0,this._currentDirective=void 0,this._nextServerDirective=void 0,this._isSpeaking=!1,this._isSpeechFetched=!1}}k([o.ak],$.prototype,"handleDirective",null),k([o.ak],$.prototype,"clean",null);class C extends b.k{static isAvailable(){var e;return o.Ry.isObject(null===(e=window.yandex)||void 0===e?void 0:e.speechkit)}constructor(e){super(e.name),this._options=e}handleDirective(e){var t,n,i,o;null===(n=null===(t=window.yandex)||void 0===t?void 0:t.speechkit)||void 0===n||n.onExecuteDirectiveResult.addListener(this.handleExecuteDirective),this.setProgress(!0),null===(o=(i=this._options).onBeforeHandle)||void 0===o||o.call(i,e),this._timeoutId=window.setTimeout((()=>{var t,n,i,o;this._timeoutId=void 0,this.setProgress(!1),null===(n=(t=this._options).onHandle)||void 0===n||n.call(t,e),null===(o=null===(i=window.yandex)||void 0===i?void 0:i.speechkit)||void 0===o||o.executeDirective(e.name,JSON.stringify(e),!1)}),this._options.delay)}cancel(){var e,t;window.clearTimeout(this._timeoutId),this._timeoutId=void 0,null===(t=(e=this._options).onCancel)||void 0===t||t.call(e),this.removeListener(),this.setProgress(!1)}handleExecuteDirective(e,t){var n,i,o,r;"DIRECTIVE_ERROR_OK"===t?null===(i=null===(n=window.yandex)||void 0===n?void 0:n.speechkit)||void 0===i||i.executeDirective("",e,!0):null===(r=(o=this._options).onError)||void 0===r||r.call(o,t),this.removeListener()}removeListener(){var e,t;null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t||t.onExecuteDirectiveResult.removeListener(this.handleExecuteDirective)}}!function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([o.ak],C.prototype,"handleExecuteDirective",null);class I extends b.k{constructor(e){const{name:t,type:n,handleDirective:i,cancel:r=o.ZT,destroy:s=o.ZT}=e;super(t,n),this.handleDirective=i,this.cancel=r,this.destroy=s}}var M=n(5276),j=n(615)},8777:(e,t,n)=>{n.d(t,{W:()=>r});var i=n(8057),o=n(2346);class r{constructor(){this.queue=new i.wn(!0),this.active=!1,o.T.isRunning()&&this.queue.resume()}run(e){this.queue.push(new i.iQ(e))}resume(){this.active||(this.active=!0,this.queue.cancel(),o.T.ctx.addEventListener("statechange",this.handleAudioContextStateChange),this.handleAudioContextStateChange()),o.T.resume()}cancel(){this.active=!1,this.queue.cancel(),this.queue.pause(),o.T.ctx.removeEventListener("statechange",this.handleAudioContextStateChange)}handleAudioContextStateChange(){o.T.isRunning()&&this.queue.isPaused?this.queue.resume():o.T.isRunning()||this.queue.isPaused||this.queue.pause()}}!function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([i.ak],r.prototype,"handleAudioContextStateChange",null)},2424:(e,t,n)=>{n.d(t,{Z:()=>ge});var i=n(8057);class o extends Error{constructor(e,t){super(e),t&&(this.stack=t),Object.setPrototypeOf(this,o.prototype)}static is(e){return e instanceof this}}class r extends o{constructor(e,t){super(`TransportError, ${e}`,t),Object.setPrototypeOf(this,r.prototype)}}class s extends r{constructor(e){super("Request timeout",e),Object.setPrototypeOf(this,s.prototype)}}class a extends r{constructor(e,t,n){super("Connection closed",n),this.closeCode=e,this.closeReason=t,Object.setPrototypeOf(this,a.prototype)}}class l extends r{constructor(e,t){super("Malformed packet.",t),this.message=e,Object.setPrototypeOf(this,l.prototype)}}class c extends r{constructor(e,t,n="Transport not ready",i){super(n,i),this.closeCode=e,this.closeReason=t,Object.setPrototypeOf(this,c.prototype)}}class u extends o{constructor(e,t){super(`StreamClosed, ${e}`,t),Object.setPrototypeOf(this,u.prototype)}}const d="Vins";var p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class h{get hasPendingInput(){const e=["text_input","voice_input","suggested_input","server_action"];return Array.from(this._requests.values()).some((({status:t,event:n,isParallel:i,isIgnoreAnswer:o})=>!i&&!o&&3!==t&&e.includes(n.type)))}constructor(e,t){this.transport=e,this.requestFactory=t,this.onError=new i.vp,this.onResponse=new i.vp,this.onStreamingResponse=new i.vp,this._queue=new i.wn(!0),this._requests=new Map,this.transport.onStatusChanged.on(this.handleStatusChange),this.transport.onMessage.on(this.handleMessage)}cancel(){this._queue.cancel(),Array.from(this._requests.values()).forEach((e=>{0!==e.status?(2===e.status&&this.transport.sendEvent("System","CancelRequest",{requestMessageId:e.messageId}),this._requests.set(e.messageId,Object.assign(Object.assign({},e),{status:3}))):this._requests.delete(e.messageId)}))}sendRequest(e,t,n){this.transport.resume();const o=n.messageId||this.transport.createMessageId(),{streamId:r,dialogId:s,dialogType:a,voiceSession:l=!1,resetSession:c,timeout:p,lang:h,format:g,mime:m,onSent:f=i.ZT,forcePrevRequestId:v}=n,_=!!i.Ry.getValue(t,"payload","request_params","is_parallel"),b="server_action"===t.type&&!!t.ignore_answer,y={event:t,status:0,messageId:o,isParallel:_,isIgnoreAnswer:b};this._requests.set(o,y);const x=new Promise(((n,x)=>{this._queue.push(new i.iQ((i=>{const w=this.requestFactory({event:t,requestId:i,prevRequestId:null!=v?v:this._prevRequestId,dialogId:s,dialogType:a,lang:h,voiceSession:l,resetSession:c,format:g,mime:m});return this._requests.set(o,Object.assign(Object.assign({},y),{status:1})),f(),this.transport.sendRequest(d,e,w,{streamId:r,messageId:o,timeout:p}).then((e=>{var t,i;b||_||v||(this._prevRequestId=null===(t=e.header)||void 0===t?void 0:t.request_id);const r=this._requests.get(o);if(3===(null==r?void 0:r.status))return this._requests.delete(o),void x(new Error("Request was cancelled"));(null===(i=e.response)||void 0===i?void 0:i.is_streaming)&&r?this._requests.set(r.messageId,Object.assign(Object.assign({},r),{status:2})):this._requests.delete(o),n(e),b||Promise.resolve().then((()=>{this.onResponse.emit({messageId:o,response:e})}))}),(e=>{this._requests.delete(o),x(e),e instanceof u||Promise.resolve().then((()=>{this.onError.emit({messageId:o,error:e})}))}))}),{data:{messageId:o}}))}));return this.transport.isReady&&this._queue.resume(),{messageId:o,response:x}}setPrevRequestId(e){this._prevRequestId=e}handleMessage(e){const t=e.header.refMessageId;if(!t||!function(e){return e.header.namespace===d&&"DeferredAliceResponse"===e.header.name}(e))return;const n=Array.from(this._requests.values()).find((({messageId:e,status:n})=>e===t&&2===n));n&&(e.payload.json_response.is_last&&this._requests.delete(n.messageId),this.onStreamingResponse.emit({messageId:t,response:e.payload}))}handleStatusChange(e){const t=e=>i.Ry.isObject(e.data)&&"messageId"in e.data&&"string"==typeof e.data.messageId?e.data.messageId:"";switch(e){case 0:{this._queue.pause();const e=new a(this.transport.lastCloseCode,this.transport.lastCloseReason);this._queue.forEach((n=>{this.onError&&this.onError.emit({messageId:t(n),error:e})})),this.cancel();break}case 2:this._queue.resume()}}updateRequestFactory(e){this.requestFactory=e}}p([i.ak],h.prototype,"cancel",null),p([i.ak],h.prototype,"sendRequest",null),p([i.ak],h.prototype,"setPrevRequestId",null),p([i.ak],h.prototype,"handleMessage",null),p([i.ak],h.prototype,"handleStatusChange",null);const g="ru-RU";function m(e){return function({event:t,requestId:n,prevRequestId:i,voiceSession:o,dialogId:r,dialogType:s,resetSession:a,format:l,mime:c,lang:u=g}){var d,p,h,m,f;return{application:{app_id:e.appId,app_version:e.appVersion,platform:null!==(d=e.platform)&&void 0!==d?d:navigator.platform.toLowerCase(),os_version:null!==(p=e.osVersion)&&void 0!==p?p:navigator.userAgent.toLowerCase(),uuid:e.uuid,lang:u,client_time:(new Date).toISOString().slice(0,19).replace(/[:+-]/g,""),timezone:e.timezone,timestamp:String(Date.now()).slice(0,-3)},header:{prev_req_id:i,sequence_number:null,request_id:n,dialog_id:r,dialog_type:s},request:{event:t,voice_session:!e.silentMode&&Boolean(o),experiments:null!==(h=e.experiments)&&void 0!==h?h:[],additional_options:{bass_url:e.bassUrl,bass_options:{screen_scale_factor:window.devicePixelRatio||1},origin_domain:e.originDomain,supported_features:null!==(m=e.supported_features)&&void 0!==m?m:[],unsupported_features:null!==(f=e.unsupported_features)&&void 0!==f?f:[]},location:e.location,reset_session:a,megamind_cookies:e.megamind_cookies},format:l,mime:c,topic:e.vinsTopic,vinsUrl:e.vinsUrl,alice_2_settings:e.aliceSettings}}}var f=n(5276);var v=n(615);class _ extends r{constructor(e,t){super(`Uniproxy: ${e}`,t),Object.setPrototypeOf(this,_.prototype)}}const b={UNKNOWN:0,INVALID_COOKIE:1,"internal session not allowed from external IP":2,"No SynchronizeState was sent":3,ACCESS_DENIED:4,expired_token:4,INVALID_PARAMS:5};const y="unknown exception";class x extends _{constructor(e,t,n){var i;super(function(e){if(!e)return y;const{error:t,details:n}=e;if(t)return t.message||y;if(n){const{text:e,code:t,scope:i}=n;return e||t||i?`Scope [${i||"unknown"}], Code [${t||"unknown"}], ${e||""}`:y}return y}(e),n),this.payload=e,this.header=t,this.payload=e,this.code=(i=e)&&(function(e){const{details:t}=e;if(t)return b[t.code]||b[t.text]}(i)||function(e){const{error:t}=e;if(t)return b[t.message]}(i))||0,Object.setPrototypeOf(this,x.prototype)}codeIs(e){return this.code===e}}class w extends x{constructor(e,t,n){super(e,t||{name:"SynchronizeState",namespace:"System"},n),Object.setPrototypeOf(this,w.prototype)}}var k=n(3530);class ${constructor(e,t=1e4,n){this.onResult=e,this.timeout=new i.B7((()=>{this.result(new n)}),t)}result(e,t){this.clearTimeout(),e?this.onResult(e):this.onResult(void 0,t)}clearTimeout(){this.timeout&&(this.timeout.cancel(),this.timeout=void 0)}}class C{constructor(e=s){this.RequestTimeoutErrorCtr=e,this.awaiters=new Map,this.seqNo=1}event(e){const t=e(this.seqNo);return this.seqNo++,t}request(e,t){return new Promise(((n,i)=>{const o=e(this.seqNo);this.seqNo++;const r=new $(((e,t)=>{this.remove(o),e?i(e):n(t)}),t,this.RequestTimeoutErrorCtr);this.awaiters.set(o,r)}))}result(e,t,n){const i=this.awaiters.get(e);return!!i&&(t?i.result(t):i.result(void 0,n),!0)}drop(e){this.awaiters.forEach((t=>t.result(e))),this.awaiters.clear(),this.seqNo=1}remove(e){return this.awaiters.delete(e)}}var I=n(5907),M=n(8115);const j=e=>{const{namespace:t,name:n,messageId:i,seqNumber:o,streamId:r,payload:s}=e;return{event:{header:Object.assign({namespace:t,name:n,messageId:i,seqNumber:o},r&&{streamId:r}),payload:s}}};var S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class T{constructor(e,t){this.transport=e,this.config=t,this.requests=new C,this.onStream=new i.vp,this.onStreamControl=new i.vp,this.onMessage=new i.vp,this.onError=new i.vp,this.onStatusChanged=new i.vp,this.status=0,this.nextStreamId=-1,this.transport.onMessage.on(this.handleMessage),this.transport.onStatusChanged.on(this.handleStatusChange)}open(e,t){try{this.syncStateResponse=void 0,this.syncStateConfig=e,this.requests.drop(new a(4005,"reconnect")),this.changeStatus(1),this.transport.open(null==t?void 0:t.transportOpenTimeoutMS)}catch(e){this.close(4005,(0,M.T)(e).message)}}close(e,t){this.cancelSuspend(),this.transport.close(e,t)}get isReady(){return 2===this.status}createMessageId(){return(0,I.L)()}sendEvent(e,t,n,{messageId:i=this.createMessageId(),streamId:o}={}){return this.cancelSuspend(),this.requests.event((r=>(this.send(j({namespace:e,name:t,messageId:i,seqNumber:r,streamId:o,payload:n})),i)))}sendRequest(e,t,n,{messageId:i=this.createMessageId(),streamId:o,timeout:r}={}){return this.isReady?(this.cancelSuspend(),this.requests.request((r=>(this.send(j({namespace:e,name:t,messageId:i,seqNumber:r,streamId:o,payload:n})),i)),r)):Promise.reject(new c(this.lastCloseCode,this.lastCloseReason))}sendStreamData(e,t){const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e),this.send(new Blob([n,t]))}startStream(){return this.cancelSuspend(),this.nextStreamId+=2,this.nextStreamId}closeStream(e,t,n=0){this.cancelSuspend(),this.send({streamcontrol:{action:0,streamId:e,reason:n,messageId:t}}),this.requests.result(t,new u("Stream was closed"))}get lastCloseCode(){return this.transport.lastCloseCode}get lastCloseReason(){return this.transport.lastCloseReason}send(e,t=!1){if(t&&2!==this.transport.status||!t&&2!==this.status)throw new c(this.lastCloseCode,this.lastCloseReason);this.transport.send(e instanceof Blob?e:JSON.stringify(e))}sendSynchronizeState(){const e=this.syncStateConfig||{},{interceptor:t,waitSynchronizeStateResponse:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["interceptor","waitSynchronizeStateResponse"]),o=e=>{const t=this.createMessageId();return this.send(j({namespace:"System",name:"SynchronizeState",messageId:t,seqNumber:e,payload:i}),!0),t},r=e=>{const t=(e=>w.is(e)?e:x.is(e)?new w(e.payload):new w({error:{type:"Error",message:e.message}}))(e);this.checkNeedCloseTransport(t),this.onError.emit(t)};if(n)this.requests.request(o).then((e=>{if(e.error)throw new w({details:e.error});t&&t(e),this.syncStateResponse=e,this.changeStatus(2)})).catch((e=>{r(e)}));else try{this.requests.event(o)&&this.changeStatus(2)}catch(e){r((0,M.T)(e))}}handleStatusChange(e){0===e&&this.handleClose(),2===e&&this.handleOpen()}handleMessage(e){try{if(e instanceof ArrayBuffer)return this.handleStream(e);if("string"!=typeof e)throw new l("Message packet should be string or ArrayBuffer");const n=function(e){try{const t=JSON.parse(e);if(!t)throw new Error("Empty");return t}catch(t){const n=(0,M.T)(t),i=`${n.message}. [First 100 symbols of message]: ${(e||"").slice(0,100)}`;throw new l(i,n.stack)}}(e);if(t=n,k.R.hasOwn(t,"streamcontrol"))this.handleStreamControl(n.streamcontrol);else{if(!(e=>k.R.hasOwn(e,"directive"))(n))throw new l("Streamcontrol or directive were not found in uniproxy packet");this.handleDirective(n.directive)}}catch(e){this.onError.emit((0,M.T)(e))}var t}handleStream(e){const t=new DataView(e);this.onStream.emit({streamId:t.getUint32(0),data:t.buffer.slice(4)})}handleStreamControl(e){this.onStreamControl.emit(e)}handleDirective(e){if((e=>{const{name:t,namespace:n}=e.header;return"System"===n&&("EventException"===t||"InvalidAuth"===t)})(e))return this.handleException(e);this.handleResponse(e)}handleException({header:e,payload:t}){const n=new x(t,e);this.checkNeedCloseTransport(n),this.onError.emit(n)}handleResponse({header:e,payload:t}){!e.eventId&&e.refMessageId&&this.requests.result(e.refMessageId,void 0,t)||this.onMessage.emit({header:e,payload:t})}handleClose(){const{lastCloseCode:e,lastCloseReason:t}=this;this.syncStateResponse=void 0,this.requests.drop(new a(e,t)),this.changeStatus(0)}handleOpen(){this.sendSynchronizeState()}changeStatus(e){this.status=e,this.onStatusChanged.emit(e)}touch(){this.cancelSuspend()}resume(){this.cancelSuspend(),0===this.status&&this.establishConnection()}suspend(){this.config.suspendable&&0!==this.status&&(this.cancelSuspend(),this.suspendTimer=new i.B7((()=>this.close(4005)),3e5))}establishConnection(){var e;this.open({auth_token:(e=this.config).apiKey,uuid:e.uuid,vins:{application:{app_id:e.appId,platform:e.platform}}})}cancelSuspend(){var e;null===(e=this.suspendTimer)||void 0===e||e.cancel()}checkNeedCloseTransport(e){e.codeIs(3)&&this.close()}}S([i.ak],T.prototype,"handleStatusChange",null),S([i.ak],T.prototype,"handleMessage",null);var E=n(8777),L=n(2346);class D{constructor(e,t,n){this.streamFactory=e,this.activeBufferIndex=0,this.stopped=!0,this.format="",this.audioContext=new E.W,this.decoder=t(n.decoderDescriptor),this.decoder.resume()}start(e){if(!this.stopped)return;const{onStart:t,onError:n,onFinished:o,format:r}=e,s=(0,i.SF)();this.stop(),this.audioContext.resume(),this.decoder.resume(),this.streamId=s,this.format=r,this.stopped=!1,this.onStart=t,this.onError=n,this.onFinished=o,this.onChunkEnded=()=>this.handleEnded(s),this.onChunkError=()=>this.handleError(s)}stop(){this.stopped||(this.stream&&this.stream.break(),this.clean())}destroy(){this.stop(),this.audioContext.cancel(),this.decoder&&this.decoder.destroy()}onPackage(e){const t=this.streamId;this.stream||(this.stream=this.streamFactory({streamId:t,onBufferReady:this.handleBufferReady,format:this.format})),this.stream?this.decoder?this.stream.add(e):this.error(t,new Error("Decoder does not exists")):this.error(t,new Error("Stream does not exists"))}onStreamFinished(){this.stream&&this.stream.finish()}handleBufferReady(e,t,n){this.ensureStreamId(n)&&(e?this.audioContext.run((()=>{this.doDecode(n,e,t)})):this.stop())}doDecode(e,t,n){this.ensureStreamId(e)&&t&&e&&this.decoder.decode({buffer:t,callback:t=>this.handleDecodeAudioData(e,t,n),errback:t=>this.error(e,t)})}ensureStreamId(e){return!!this.streamId&&!!e&&this.streamId===e}handleDecodeAudioData(e,t,n){this.ensureStreamId(e)&&(this.stopped||(this.audioBuffers||(this.audioBuffers=[]),this.audioBuffers[n]=t,this.audioContext.run((()=>{this.playBuffer(e)}))))}finished(){const{onFinished:e}=this;e&&e()}activeSourceDestroy(){this.activeSource&&(this.activeSource.stop(),this.activeSource.disconnect(),this.onChunkEnded&&this.activeSource.removeEventListener("ended",this.onChunkEnded),this.onChunkError&&this.activeSource.removeEventListener("error",this.onChunkError),this.activeSource=void 0)}clean(){this.stopped=!0,this.audioContext.cancel(),this.stream=void 0,this.audioBuffers=void 0,this.activeBufferIndex=0,this.streamId=void 0,this.decoder.cancel(),this.activeSourceDestroy(),this.onStart=void 0,this.onError=void 0,this.onFinished=void 0,this.onChunkEnded=void 0,this.onChunkError=void 0}error(e,t){if(!this.ensureStreamId(e))return;const{onError:n}=this;this.clean(),n&&n(t)}playBuffer(e,t=!1){if(!this.ensureStreamId(e))return;if(!this.audioBuffers||!this.audioBuffers.length)return;const n=this.audioBuffers[this.activeBufferIndex];!n||this.activeSource&&!t||(this.activeSourceDestroy(),this.activeSource=(0,i.kU)(n,L.T,{ended:this.onChunkEnded,error:this.onChunkError}),0===this.activeBufferIndex&&this.onStart&&this.onStart())}handleError(e){this.error(e,new Error("BufferSource error"))}handleEnded(e){if(!this.ensureStreamId(e))return;if(this.activeSourceDestroy(),!this.audioBuffers||!this.stream)return void this.clean();const{activeBufferIndex:t}=this;this.activeBufferIndex+=1,this.audioBuffers[t]=void 0,this.stream.finished&&this.stream.index===t?this.finished():this.audioContext.run((()=>{this.playBuffer(e,!0)}))}}!function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);r>3&&s&&Object.defineProperty(t,n,s)}([i.ak],D.prototype,"handleBufferReady",null);class z{constructor(e){this.queue=new i.ci,this.audioContextController=new E.W,this.worker=new Worker(e.workerPath),this.worker.onmessage=e=>this.handleMessage(e),this.worker.onerror=e=>this.onerror(e)}resume(){this.audioContextController.resume()}decode({buffer:e,callback:t,errback:n}){this.queue.push({buffer:e,callback:t,errback:n}),this.execute()}cancel(){this.activeItem=void 0,this.queue.reset(),this.audioContextController.cancel()}destroy(){this.cancel(),this.worker.terminate()}execute(){this.activeItem||(this.activeItem=this.queue.shift(),this.activeItem&&this.worker.postMessage(this.activeItem.buffer))}next(){this.activeItem=void 0,this.execute()}handleMessage(e){this.audioContextController.run((()=>{if(!this.activeItem)return;const{callback:t}=this.activeItem,n=L.T.ctx.createBuffer(2,e.data.samplesLeft.length,48e3);n.copyToChannel(e.data.samplesLeft,0),n.copyToChannel(e.data.samplesRight,1),t(n),this.next()}))}onerror(e){this.activeItem&&(this.activeItem.errback&&this.activeItem.errback(e.error),this.next())}}class O{constructor(){this.audioContextController=new E.W}resume(){this.audioContextController.resume()}decode({buffer:e,callback:t,errback:n}){this.audioContextController.run((()=>{L.T.ctx.decodeAudioData(e,t,n)}))}cancel(){this.audioContextController.cancel()}destroy(){this.cancel()}}const A=e=>e?new z(e):new O;class N{constructor(e){this.offset=0,this.buffer=new ArrayBuffer(e)}add(e,t){const n=t?t.byteLength:0,i=0===this.offset;if(e.byteLength+(i?n:0)+this.offset>this.buffer.byteLength)return!1;const o=new Uint8Array(this.buffer);return 0===this.offset&&t&&(o.set(new Uint8Array(t),this.offset),this.offset+=t.byteLength),o.set(new Uint8Array(e),this.offset),this.offset+=e.byteLength,!0}relax(){return this.buffer=this.buffer.slice(0,this.offset)}}class R{constructor({onBufferReady:e,streamId:t}){this.index=-1,this.finished=!1,this.breaked=!1,this.onBufferReady=e,this.streamId=t}createBuffer(e=0){this.index++,this.pendingBuffer=new N(Math.max(e,0===this.index?this.preloadBufferSize:this.bufferSize))}insert(e,t){const n=t?t.byteLength:0,i=e.byteLength+n;this.pendingBuffer||this.createBuffer(i),this.pendingBuffer&&(this.pendingBuffer.add(e,t)||(this.ready(),this.createBuffer(i),this.pendingBuffer.add(e,t)))}finish(){this.finished=!0,this.ready()}break(){this.breaked=!0,this.pendingBuffer=void 0}ready(){this.pendingBuffer?(this.onBufferReady(this.getChunk(this.pendingBuffer.relax()),this.index,this.streamId),this.pendingBuffer=void 0):this.onBufferReady(void 0,this.index,this.streamId)}}const B=1332770163,P=1214603620,H=1415669619;function U(e,t,n){const i=e.slice(t,t+n),o=new DataView(i);let r="data";return i.byteLength>=4&&o.getUint32(0)===B&&(o.getUint32(4)===P?r="head":o.getUint32(4)===H&&(r="tag")),{offset:t,type:r,size:n}}function V(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}class G extends R{constructor(){super(...arguments),this.preloadBufferSize=2e4,this.bufferSize=4e4}static isOggOpus(e=""){return"audio/opus"===e}add(e){const t=function(e){const t=[];let n=0;const i=new DataView(e);for(;n<e.byteLength;){const o=n;if(1332176723!==i.getUint32(n))break;const r=i.getUint8(n+26);let s=n+26+1;const a=s+r;n+=26+r+1;const l=[];for(;s<a;s++){const t=i.getUint8(s);l.push(U(e,n,t)),n+=t}t.push({offset:o,size:n-o,segments:l})}return t}(e);let n=-1,i=-1;for(const o of t){const{segments:t,size:r,offset:s}=o;t.length&&("head"===t[0].type?(-1!==n&&this.currentHeader?(this.insert(e.slice(n,i),this.currentHeader),n=-1,i=-1):this.pendingBuffer&&this.pendingBuffer.offset&&this.ready(),this.currentHeader=e.slice(s,r+s)):"tag"===t[0].type?this.currentHeader&&(this.currentHeader=V(this.currentHeader,e.slice(s,r+s))):-1===n?(n=s,i=s+r):i+=r)}-1!==n&&this.currentHeader&&this.insert(e.slice(n,i),this.currentHeader)}getChunk(e){return e}}const q=/audio\/x-pcm;bit=(\d*);rate=(\d*)/;class F extends R{static isPCM(e=""){return q.test(e)}constructor(e){super(e),this.preloadBufferSize=2e4,this.bufferSize=4e4,this.bit=15,this.rate=16e3,this.channelCount=1;const[,t="",n=""]=(e.format||"").match(q)||[],i=parseInt(t,10),o=parseInt(n,10);this.bit=isNaN(i)?void 0:i,this.rate=isNaN(o)?void 0:o}add(e){this.insert(e)}getChunk(e){return function(e,t=1,n=15,i=16e3){const o=e.byteLength,r=new Uint8Array(44+o),s=new DataView(r.buffer);let a=0;return r.set(new Uint8Array(e),44),s.setInt32(a,1380533830),a+=4,s.setInt32(a,o+36,!0),a+=4,s.setInt32(a,1463899717),a+=4,s.setInt32(a,1718449184),a+=4,s.setInt32(a,16,!0),a+=4,s.setInt16(a,1,!0),a+=2,s.setInt16(a,t,!0),a+=2,s.setInt32(a,i,!0),a+=4,s.setInt32(a,i*t*n/8,!0),a+=4,s.setInt16(a,t*n/8,!0),a+=2,s.setInt16(a,n,!0),a+=2,s.setInt32(a,1684108385),a+=4,s.setInt32(a,o,!0),s.buffer}(e,this.channelCount,this.bit,this.rate)}}function Z(e){return G.isOggOpus(e.format)?new G(e):F.isPCM(e.format)?new F(e):void 0}var Y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class W{constructor(e,t){this.transport=e,this.queue=new i.wn(!0),this.currentStreamId=-1,this.currentMessageId="",this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onStreamFinished=new i.vp,this.onFinished=new i.vp,this.onError=new i.vp,this.streamPlayer=new D(Z,A,t),this.transport.onStatusChanged.on(this.handleTransportStatusChanged),2===this.transport.status&&this.queue.resume()}generate(e){const t=this.transport.createMessageId();this.queue.push(new i.iQ((()=>{this.setCurrentMessageId(t),this.transport.sendEvent("TTS","Generate",{text:e},{messageId:t})}),{tag:"Generate"}))}setCurrentMessageId(e){this.currentMessageId=e,this.status.value===v.D5.SUSPENDED&&this.status.setValue(v.D5.THINKING),this.transport.onError.on(this.handleUniproxyError),this.transport.onMessage.on(this.handleMessage),this.transport.onStream.on(this.handleStream),this.transport.onStreamControl.on(this.handleStreamControl)}stop(){this.transport.onError.off(this.handleUniproxyError),this.transport.onMessage.off(this.handleMessage),this.transport.onStream.off(this.handleStream),this.transport.onStreamControl.off(this.handleStreamControl),-1!==this.currentStreamId&&this.transport.closeStream(this.currentStreamId,this.currentMessageId,5),this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.stop(),this.queue.cancel(),this.transport.suspend(),this.status.setValue(v.D5.SUSPENDED)}destroy(){this.stop(),this.streamPlayer.destroy(),this.transport.onStatusChanged.off(this.handleTransportStatusChanged)}handleTransportStatusChanged(e){switch(e){case 2:this.queue.resume();break;case 0:this.queue.pause(),this.queue.cancel()}}handleStream(e){this.currentStreamId===e.streamId&&this.streamPlayer.onPackage(e.data)}handleStreamControl(e){const{action:t,streamId:n}=e;if(0===t&&n===this.currentStreamId){const{currentMessageId:e,currentStreamId:t}=this;this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.onStreamFinished(),this.onStreamFinished.emit({messageId:e,streamId:t})}}handleUniproxyError(e){x.is(e)&&e.header.refMessageId===this.currentMessageId&&this.handleError(e)}handleError(e){const{currentMessageId:t}=this;this.stop(),this.onError.emit({error:e,messageId:t})}handleStart(){this.status.setValue(v.D5.SPEAKING),this.onStart.emit({messageId:this.currentMessageId})}handleFinished(){const{currentMessageId:e}=this;this.status.setValue(v.D5.SUSPENDED),this.onFinished.emit({messageId:e})}handleSpeak(e){const{header:{streamId:t,refMessageId:n=""}}=e;void 0!==t?n===this.currentMessageId?(this.currentStreamId=t,this.streamPlayer.start({onStart:this.handleStart,onError:this.handleError,onFinished:this.handleFinished,format:e.payload.format})):this.transport.closeStream(t,n):this.handleError(new Error("Stream id was not defined"))}handleMessage(e){var t;"TTS"===(t=e).header.namespace&&"Speak"===t.header.name&&this.handleSpeak(e)}}W.getSupportedFormat=e=>{const t=new Audio;for(const n of["audio/ogg;codecs=opus","audio/x-pcm;bit=16;rate=16000"])try{if(!t.canPlayType(n))throw new Error(`Can't play audio format: ${n}`);return{format:n}}catch(t){if(e[n])return{format:n,decoderDescriptor:e[n]}}},Y([i.ak],W.prototype,"generate",null),Y([i.ak],W.prototype,"setCurrentMessageId",null),Y([i.ak],W.prototype,"stop",null),Y([i.ak],W.prototype,"destroy",null),Y([i.ak],W.prototype,"handleTransportStatusChanged",null),Y([i.ak],W.prototype,"handleStream",null),Y([i.ak],W.prototype,"handleStreamControl",null),Y([i.ak],W.prototype,"handleUniproxyError",null),Y([i.ak],W.prototype,"handleError",null),Y([i.ak],W.prototype,"handleStart",null),Y([i.ak],W.prototype,"handleFinished",null),Y([i.ak],W.prototype,"handleSpeak",null),Y([i.ak],W.prototype,"handleMessage",null);var X=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class K{constructor(e){this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.stopped=!0,this.transport=e.transport,this.onRecognition=e.onRecognition,this.onError=e.onError,this.onStart=e.onStart,this.onStop=e.onStop,this.silenceTimeout=e.silenceTimeout||0}start(e){this.stop(),this.transport.onStatusChanged.on(this.handleStatusChanged),this.transport.isReady?this.initializeRecognition(e):this.onReady=()=>this.initializeRecognition(e)}stop(e={}){if(this.stopped)return;this.handleRequestSent=void 0,this.stopped=!0;const{currentEventId:t}=this,{timeout:n}=e,{reason:o=(n?0:8)}=e;this.streamId&&t&&this.transport.closeStream(this.streamId,t,o),n?this.closeTimer=new i.B7((()=>{this.throwError(new Error("timeout"))}),n):(this.clean(),!e.silent&&this.onStop&&this.onStop(t))}onData(e){this.buffer.push(e),this.stopped||this.handleData()}initializeRecognition(e){this.onReady=void 0,this.transport.onMessage.on(this.handleMessage),this.transport.onStreamControl.on(this.handleStreamControl),this.transport.onError.on(this.handleError),this.streamId=this.transport.startStream();try{if(this.handleRequestSent=()=>{this.stopped=!1,this.handleData(),this.silenceTimeout&&(this.silenceTimer=new i.B7((()=>this.stop()),this.silenceTimeout))},this.currentEventId=e(this.streamId,(()=>{var e;null===(e=this.handleRequestSent)||void 0===e||e.call(this)})),!this.currentEventId)throw new Error("Request failed");this.onStart&&this.onStart(this.currentEventId)}catch(e){this.throwError((0,M.T)(e))}}clean(){var e,t;this.streamId=0,this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.onReady=void 0,this.handleRequestSent=void 0,this.stopped=!0,this.transport.onError.off(this.handleError),this.transport.onMessage.off(this.handleMessage),this.transport.onStreamControl.off(this.handleStreamControl),this.transport.onStatusChanged.off(this.handleStatusChanged),null===(e=this.closeTimer)||void 0===e||e.cancel(),null===(t=this.silenceTimer)||void 0===t||t.cancel()}handleData(){if(this.currentEventId&&this.streamId)for(;this.indexBuffer<this.buffer.length;this.indexBuffer++)try{this.transport.sendStreamData(this.streamId,this.buffer[this.indexBuffer])}catch(e){this.throwError((0,M.T)(e))}}handleStreamControl(e){const{reason:t,streamId:n}=e;n===this.streamId&&(0===t||8===t?(this.streamId=0,this.stop()):this.throwError(new a(this.transport.lastCloseCode,this.transport.lastCloseReason)))}handleMessage(e){var t,n;(n=e)&&"ASR"===n.header.namespace&&"Result"===n.header.name&&e.header.eventId===this.currentEventId&&(null===(t=this.closeTimer)||void 0===t||t.cancel(),this.handleASRResult(e))}handleStatusChanged(e){switch(e){case 0:this.throwError(new a(this.transport.lastCloseCode,this.transport.lastCloseReason));break;case 2:this.onReady&&this.onReady()}}handleASRResult({header:e,payload:t}){var n;if("InternalError"===t.responseCode)return void this.throwError(new x({details:{code:"InternalError",scope:"ASR",text:"ASR internal error"}},e));const i=t.endOfUtt||t.earlyEndOfUtt,o=t.recognition[0]?t.recognition[0].normalized:"";(o||i)&&(null===(n=this.silenceTimer)||void 0===n||n.cancel()),this.onRecognition&&this.currentEventId&&this.onRecognition(this.currentEventId,{text:o,finished:i}),this.stopped&&this.clean()}handleError(e){if(!e||!x.is(e))return;const{header:t}=e;t&&t.refMessageId===this.currentEventId&&this.throwError(e)}throwError(e){const{onError:t,currentEventId:n}=this;this.clean(),t&&t(n,e)}}X([i.ak],K.prototype,"start",null),X([i.ak],K.prototype,"stop",null),X([i.ak],K.prototype,"onData",null),X([i.ak],K.prototype,"handleStreamControl",null),X([i.ak],K.prototype,"handleMessage",null),X([i.ak],K.prototype,"handleStatusChanged",null),X([i.ak],K.prototype,"handleError",null);const Q=()=>{var e;const{MediaRecorder:t,AudioContext:n,webkitAudioContext:i}=window,o=null===(e=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===e?void 0:e.getUserMedia;return Boolean(o&&(t||n||i))};var J=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class ee{constructor(e,t){this.formatDescriptor=e,this.convertorProvider=t,this.indexData=0,this.dataBuffer=[],this.stopped=!0,this.timeSlice=1e3,this.onResult=new i.vp,this.onErrorResult=new i.vp,this.recorderFactoryPromise=function(e){var t;const o={mimeType:e.mime,audioBitsPerSecond:16e3};return(null===(t=e.decoderDescriptor)||void 0===t?void 0:t.polyfillRequired)||"audio/x-pcm"===o.mimeType?n.e(788).then(n.bind(n,6936)).then((({MediaRecorderPolyfill:e,PCMEncoder:t})=>{const n=new t;return t=>new e(t,Object.assign(Object.assign({},o),{encoder:n}))})):Promise.resolve((e=>{const t=new window.MediaRecorder(e,o);return Object.assign(t,{destroy:i.ZT})}))}(this.formatDescriptor)}start(e=1e3,t){var n;return this.timeSlice=e,Q()?Promise.all([this.recorderFactoryPromise,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}}),null===(n=this.convertorProvider)||void 0===n?void 0:n.call(this)]).then((([n,i,o])=>{this.converter=o?new o:void 0;const r=n(i);if(this.mediaRecorder=r,"inactive"===r.state){r.addEventListener("dataavailable",this.handleDataAvailable),r.addEventListener("error",this.handleError),r.addEventListener("start",t);const n=()=>{i.getAudioTracks().forEach((e=>e.stop())),r.removeEventListener("stop",n)};r.addEventListener("stop",n),r.start(e)}return this.stopped=!1,i})):Promise.reject(new Error("Media devices are not supported"))}stop(){const{mediaRecorder:e}=this;e&&!this.stopped&&(this.stopped=!0,"inactive"!==e.state&&e.stop(),this.timerId=window.setTimeout((()=>{this.finishData()}),this.timeSlice))}destroy(){this.stop(),this.clear()}handleDataAvailable(e){this.onData&&this.onData(e.data),this.converter?this.converter.onData(e.data,this.indexData++).catch(this.handleError):this.dataBuffer.push(e.data),this.stopped&&0!==e.data.size&&this.finishData()}finishData(){this.timerId&&clearTimeout(this.timerId);const e=this.converter?this.converter.getResultData():this.dataBuffer;this.onResult.emit(e),this.clear()}handleError(e){this.stop();const t=(0,M.T)(e);this.onErrorResult.emit(t),this.onError&&this.onError(t)}clear(){const{mediaRecorder:e}=this;e&&(this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0),this.converter&&(this.converter.stop(),this.converter=void 0),e.removeEventListener("dataavailable",this.handleDataAvailable),e.removeEventListener("error",this.handleError))}}J([i.ak],ee.prototype,"handleDataAvailable",null),J([i.ak],ee.prototype,"finishData",null),J([i.ak],ee.prototype,"handleError",null),J([i.ak],ee.prototype,"clear",null);var te=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class ne{constructor(e,t,n){this.transport=e,this.formatDescriptor=t,this.sendVoiceEvent=n,this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onError=new i.vp,this.onStop=new i.vp,this.onRecognition=new i.vp,this.currentMessageId="",this.microphone=new ee(this.formatDescriptor),this.microphone.onData=this.handleMicrophoneData}start(e){this.destroy(),this.status.setValue(v.D5.THINKING);const t=(null==e?void 0:e.messageId)||this.transport.createMessageId();return this.currentMessageId=t,this.asr=new K({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:1e4}),this.asr.start(((t,n)=>this.sendVoiceEvent(t,Object.assign(Object.assign({},e),{messageId:this.currentMessageId,onSent:n})))),this.microphone.start(200,(()=>{this.currentMessageId&&(this.onStart.emit({messageId:this.currentMessageId}),this.status.setValue(v.D5.LISTENING))})).catch(this.throwError),t}stop(e={}){const{currentMessageId:t}=this;t&&(this.clean(),e.silent||this.onStop.emit({messageId:t}))}destroy(){this.stop({silent:!0}),this.microphone.destroy()}clean(){this.microphone.stop(),this.asr&&(this.asr.stop({reason:7,silent:!0}),this.asr=void 0),this.currentMessageId="",this.status.setValue(v.D5.SUSPENDED)}handleMicrophoneData(e){this.asr&&this.asr.onData(e)}throwError(e){const{currentMessageId:t}=this;this.clean(),t&&this.onError.emit({messageId:t,error:e})}handleRecognition(e,t){this.onRecognition.emit({messageId:e,recognition:t})}handleError(e,t){this.throwError(t)}handleStop(){this.stop()}}ne.getSupportedFormat=function(){if(Q()){if(!window.MediaRecorder||!window.MediaRecorder.isTypeSupported)return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}};for(const e of["audio/webm;codecs=opus","audio/ogg;codecs=opus"])if(window.MediaRecorder.isTypeSupported(e))return{mime:e};return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}}}},te([i.ak],ne.prototype,"start",null),te([i.ak],ne.prototype,"stop",null),te([i.ak],ne.prototype,"destroy",null),te([i.ak],ne.prototype,"handleMicrophoneData",null),te([i.ak],ne.prototype,"throwError",null),te([i.ak],ne.prototype,"handleRecognition",null),te([i.ak],ne.prototype,"handleError",null),te([i.ak],ne.prototype,"handleStop",null);var ie=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class oe{static isAvailable(){var e;return i.Ry.isObject(null===(e=window.yandex)||void 0===e?void 0:e.spotter)}constructor(e,t,n){var o,r,s,a;this.transport=e,this.sendVoiceEvent=t,this.beforeStartCallback=n,this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onError=new i.vp,this.onStop=new i.vp,this.onRecognition=new i.vp,this.currentMessageId="",this.spotterStarted=!1,null===(r=null===(o=window.yandex)||void 0===o?void 0:o.spotter)||void 0===r||r.onMicDataAvailable.addListener(this.handleSpotter),null===(a=null===(s=window.yandex)||void 0===s?void 0:s.spotter)||void 0===a||a.onCaptureError.addListener((e=>this.throwError(new Error(e)))),ge.on("status",(()=>{ge.status===v.D5.SUSPENDED?this.startSpotter():this.status.value===v.D5.SUSPENDED&&this.stopSpotter()})),Promise.resolve().then((()=>{ge.status===v.D5.SUSPENDED&&this.startSpotter()}))}startSpotter(){var e,t;this.spotterStarted||(null===(t=null===(e=window.yandex)||void 0===e?void 0:e.spotter)||void 0===t||t.startReceiveMicData(),this.spotterStarted=!0)}stopSpotter(){var e,t;this.spotterStarted&&(null===(t=null===(e=window.yandex)||void 0===e?void 0:e.spotter)||void 0===t||t.stopReceiveMicData(),this.spotterStarted=!1)}start(){this.beforeStartCallback(),this.destroy(),this.currentMessageId=this.transport.createMessageId(),this.status.setValue(v.D5.LISTENING),this.onStart.emit({messageId:this.currentMessageId}),this.asr=new K({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:1e4}),this.asr.start(((e,t)=>this.sendVoiceEvent(e,{messageId:this.currentMessageId,onSent:t,mime:"audio/x-pcm;bit=16;rate=16000"})))}stop(e={}){const{currentMessageId:t}=this;t&&(this.stopSpotter(),this.clean(),e.silent||this.onStop.emit({messageId:t}))}destroy(){this.stop({silent:!0})}clean(){this.asr&&(this.asr.stop({reason:7,silent:!0}),this.asr=void 0),this.currentMessageId="",this.status.setValue(v.D5.SUSPENDED)}handleSpotter(e){if(this.spotterStarted&&(this.currentMessageId||this.start(),this.asr)){const t=new Uint8Array(e),n=new Blob([t],{type:"audio/x-pcm;bit=16;rate=16000"});this.asr.onData(n)}}throwError(e){const{currentMessageId:t}=this;this.clean(),t&&this.onError.emit({messageId:t,error:e})}handleRecognition(e,t){this.onRecognition.emit({messageId:e,recognition:t})}handleError(e,t){this.stopSpotter(),this.throwError(t)}handleStop(){this.stop()}}ie([i.ak],oe.prototype,"start",null),ie([i.ak],oe.prototype,"stop",null),ie([i.ak],oe.prototype,"destroy",null),ie([i.ak],oe.prototype,"handleSpotter",null),ie([i.ak],oe.prototype,"throwError",null),ie([i.ak],oe.prototype,"handleRecognition",null),ie([i.ak],oe.prototype,"handleError",null),ie([i.ak],oe.prototype,"handleStop",null);var re=n(2385),se=n(1399),ae=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class le{get directiveHandlers(){return Array.from(this.directiveHandlersMap.values())}constructor(e,t,n={},o){var r,s,a;this.transport=e,this.currentDialogInfo={dialogId:null},this.directiveHandlersMap=new Map,this.status=new i.qb(v.D5.SUSPENDED),this.onListeningStart=new i.vp,this.onListeningStop=new i.vp,this.onListeningError=new i.vp,this.onRecognition=new i.vp,this.onSpeechStart=new i.vp,this.onSpeechFinished=new i.vp,this.onSpeechError=new i.vp,this.onVinsResponse=new i.vp,this.onVinsStreamResponse=new i.vp,this.onVinsError=new i.vp,this.ttsFormatDescriptor=W.getSupportedFormat(n),this.mimeFormatDescriptor=ne.getSupportedFormat(),this.vins=new h(e,t),this.vins.onResponse.on((({messageId:e,response:t})=>{this.onVinsResponse.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,response:t,preventTTS:this.ttsStop})),this.vins.hasPendingInput||this.transport.suspend()})),this.vins.onStreamingResponse.on((e=>{const{cancel_response:t}=e.response.json_response;if(t){const e=t.directives.find((e=>"server_action"===e.type));e&&this.sendVinsRequest("TextInput",Object.assign(Object.assign({},e),{type:"server_action"}),{voiceSession:ge.state.voiceSession}),this.ttsStop()}this.onVinsStreamResponse.emit(e),this.updateStatus(),this.vins.hasPendingInput||this.transport.suspend()})),this.vins.onError.on((({messageId:e,error:t})=>{this.transport.suspend(),this.onVinsError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,error:t}))})),this.ttsFormatDescriptor&&(this.tts=new W(e,this.ttsFormatDescriptor),this.tts.onStart.on((({messageId:e})=>{this.transport.touch(),this.onSpeechStart.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e}))})),this.tts.onStreamFinished.on((()=>{this.directiveHandlers.forEach((e=>e.onSpeechFetched()))})),this.tts.onFinished.on((({messageId:e})=>{var t;this.directiveHandlers.some((e=>e.isSpeaking))||(this.transport.suspend(),null===(t=this.tts)||void 0===t||t.stop(),this.onSpeechFinished.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e})))})),this.tts.onError.on((({error:e,messageId:t})=>{this.transport.suspend(),this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,error:e}))}))),this.mimeFormatDescriptor&&(this.voiceInput=new ne(e,this.mimeFormatDescriptor,this.sendVoiceEvent),this.initInputListeners(this.voiceInput)),(0,se.p)(o.appId,o.platform)&&oe.isAvailable()&&(this.yabroSpotterInput=new oe(this.transport,this.sendVoiceEvent,this.resume),this.initInputListeners(this.yabroSpotterInput)),null===(r=this.voiceInput)||void 0===r||r.status.onChange.on(this.updateStatus),null===(s=this.yabroSpotterInput)||void 0===s||s.status.onChange.on(this.updateStatus),null===(a=this.tts)||void 0===a||a.status.onChange.on(this.updateStatus),re.k.updateStatus=this.updateStatus,this.updateStatus()}startVoiceInput(e){if(this.voiceInput)return this.resume(),this.voiceInput.start(e);this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:new Error("Voice input is not supported"),messageId:(null==e?void 0:e.messageId)||""}))}sendVinsRequest(e,t,n={}){var o,r;const s=this.vins.sendRequest(e,t,Object.assign(Object.assign(Object.assign({},this.currentDialogInfo),{voiceSession:this.ttsFormatDescriptor&&n.voiceSession,timeout:3e5,format:null===(o=this.ttsFormatDescriptor)||void 0===o?void 0:o.format,mime:null===(r=this.mimeFormatDescriptor)||void 0===r?void 0:r.mime}),n));return this.updateStatus(),s.response.then((e=>{var n,i,o;const r="server_action"===t.type&&!!t.ignore_answer;this.tts&&((null===(n=e.voice_response)||void 0===n?void 0:n.has_voice_response)||(null===(o=null===(i=e.voice_response)||void 0===i?void 0:i.output_speech)||void 0===o?void 0:o.text))&&!r&&(this.tts.setCurrentMessageId(s.messageId),L.T.resume())})).catch(i.ZT).then(this.updateStatus),s.messageId}synthesize(e){this.tts?(this.resume(),this.tts.generate(e)):this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:new Error("TTS is not supported"),messageId:""}))}setDialogId(e,t=f.i.EXTERNAL_SKILL){this.currentDialogInfo={dialogId:e,dialogType:t}}setPrevRequestId(e){this.vins.setPrevRequestId(e)}ttsStop(){var e;null===(e=this.tts)||void 0===e||e.stop()}cancel(e){var t,n,i;(null==e?void 0:e.doNotSuspendTransport)||this.transport.suspend(),null===(t=this.voiceInput)||void 0===t||t.stop(e),null===(n=this.yabroSpotterInput)||void 0===n||n.stop(e),null===(i=this.tts)||void 0===i||i.stop(),this.vins.cancel(),this.updateStatus()}destroy(){var e,t,n;this.cancel(),null===(e=this.voiceInput)||void 0===e||e.destroy(),null===(t=this.yabroSpotterInput)||void 0===t||t.destroy(),null===(n=this.tts)||void 0===n||n.destroy(),this.onListeningStart.clear(),this.onListeningStop.clear(),this.onListeningError.clear(),this.onRecognition.clear(),this.onSpeechStart.clear(),this.onSpeechFinished.clear(),this.onSpeechError.clear(),this.onVinsResponse.clear(),this.onVinsError.clear()}get isRecorderSupported(){return Boolean(this.voiceInput)}updateRequestFactory(e){this.vins.updateRequestFactory(e)}getStatusValue(){var e,t,n,i,o,r;return(null===(e=this.voiceInput)||void 0===e?void 0:e.status.value)===v.D5.LISTENING||(null===(t=this.yabroSpotterInput)||void 0===t?void 0:t.status.value)===v.D5.LISTENING?v.D5.LISTENING:(null===(n=this.tts)||void 0===n?void 0:n.status.value)===v.D5.SPEAKING||this.directiveHandlers.some((e=>e.isSpeaking))?v.D5.SPEAKING:(null===(i=this.voiceInput)||void 0===i?void 0:i.status.value)===v.D5.THINKING||(null===(o=this.yabroSpotterInput)||void 0===o?void 0:o.status.value)===v.D5.THINKING||(null===(r=this.tts)||void 0===r?void 0:r.status.value)===v.D5.THINKING||this.directiveHandlers.some((e=>e.inProgress))||this.vins.hasPendingInput?v.D5.THINKING:v.D5.SUSPENDED}updateStatus(){this.status.setValue(this.getStatusValue())}sendVoiceEvent(e,t={}){return this.sendVinsRequest("VoiceInput",{type:"voice_input"},Object.assign({streamId:e,voiceSession:!0},t))}resume(){this.transport.resume(),L.T.resume()}initInputListeners(e){e.onStart.on((({messageId:e})=>{this.transport.touch(),this.onListeningStart.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e}))})),e.onStop.on((({messageId:e,reason:t})=>{this.transport.suspend(),this.onListeningStop.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,reason:t}))})),e.onError.on((({error:e,messageId:t})=>{this.transport.suspend(),this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,error:e}))})),e.onRecognition.on((({messageId:e,recognition:t})=>{this.onRecognition.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,recognition:t}))}))}}ae([i.ak],le.prototype,"startVoiceInput",null),ae([i.ak],le.prototype,"sendVinsRequest",null),ae([i.ak],le.prototype,"synthesize",null),ae([i.ak],le.prototype,"setDialogId",null),ae([i.ak],le.prototype,"setPrevRequestId",null),ae([i.ak],le.prototype,"ttsStop",null),ae([i.ak],le.prototype,"cancel",null),ae([i.ak],le.prototype,"destroy",null),ae([i.ak],le.prototype,"updateStatus",null),ae([i.ak],le.prototype,"sendVoiceEvent",null),ae([i.ak],le.prototype,"resume",null);var ce=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class ue{constructor(e,t="arraybuffer"){this.url=e,this.binaryType=t,this.onStatusChanged=new i.vp,this.onMessage=new i.vp,this.status=0,this.lastCloseCode=4005,this.lastCloseReason="",this.networkMonitoring=!1}open(e=2e3){if(!this.url)throw new r("Websocket: Url was not specified");this.websocket&&this.close(4005,"reconnecting",!0),this.startNetworkMonitoring(),this.changeStatus(1);try{const t=new WebSocket(this.url);this.websocket=t,t.binaryType=this.binaryType,t.onopen=()=>{this.clearConnectionTimeout(),this.changeStatus(2)},t.onclose=e=>{this.close(e.code,e.reason)},t.onmessage=e=>{this.onMessage.emit(e.data)},this.connectionTimeout=new i.B7((()=>this.close(4002,"Websocket: connection timeout")),e)}catch(e){this.close(4005,(0,M.T)(e).message)}}close(e=1e3,t="",n=!1){if(this.stopNetworkMonitoring(),this.clearConnectionTimeout(),this.lastCloseCode=e,this.lastCloseReason=t,this.websocket){const e=this.websocket;e.onopen=null,e.onmessage=null,e.onclose=null,e.readyState===WebSocket.OPEN&&e.close(),e.readyState===WebSocket.CONNECTING&&(e.onopen=()=>{e.onopen=null,e.close()}),this.websocket=void 0}n||this.changeStatus(0)}send(e){if(!this.websocket)throw new c(this.lastCloseCode,this.lastCloseReason,"Websocket: websocket instance doesn't exists");if(this.websocket.readyState!==WebSocket.OPEN)throw new c(this.lastCloseCode,this.lastCloseReason,`Websocket: not ready, [readyState=${this.websocket.readyState}]`);try{this.websocket.send(e)}catch(e){const t=(0,M.T)(e);throw new l(`Websocket: ${t.message}`,t.stack)}}changeStatus(e){this.status=e,this.onStatusChanged.emit(e)}clearConnectionTimeout(){this.connectionTimeout&&(this.connectionTimeout.cancel(),this.connectionTimeout=void 0)}onOffline(){this.close(4001)}onOnline(){this.open(0)}startNetworkMonitoring(){this.networkMonitoring||(window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline),this.networkMonitoring=!0)}stopNetworkMonitoring(){this.networkMonitoring&&(window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline),this.networkMonitoring=!1)}}ce([i.ak],ue.prototype,"open",null),ce([i.ak],ue.prototype,"close",null),ce([i.ak],ue.prototype,"send",null);var de=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};const pe={shouldListen:!1,voiceSession:!1};class he{constructor(){this.state=Object.assign({},pe),this._cacheAudioBuffer={},this._events={},this._soundlessMicRequests=new Set}get status(){return this.speechkit.status.value}get info(){return this._info}init(e){const{appId:t=v.tj.WEB_DESKTOP,appVersion:n,uuid:o=(0,i.Lk)(),vinsTopic:r="desktopgeneral",platform:s=navigator.platform.toLowerCase(),osVersion:a=navigator.userAgent.toLowerCase(),timezone:l=Intl.DateTimeFormat().resolvedOptions().timeZone,location:c,originDomain:u,vinsUrl:d,bassUrl:p,experiments:h,supported_features:g,unsupported_features:f,megamind_cookies:_,apiKey:b,suspendable:y=!0,uniproxyUrl:x="wss://uniproxy.alice.yandex.net/uni.ws",decoders:w,directiveHandlers:k=[],isWebKit:$=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),silentMode:C=!1}=e;this._isWebKit=$,L.T.init();const I=new ue(x),M=new T(I,{apiKey:b,appId:t,suspendable:y,uuid:o,platform:s});return this._vinsConfig={uuid:o,appId:t,appVersion:n,bassUrl:p,experiments:h,location:c,osVersion:a,platform:s,timezone:l,supported_features:g,unsupported_features:f,vinsTopic:r,vinsUrl:d,megamind_cookies:_,silentMode:C,originDomain:u},this._info=Object.assign(Object.assign({},this._vinsConfig),{uniproxyUrl:x,isInit:!0}),this._speechkit=new le(M,m(this._vinsConfig),w,{appId:t,platform:s}),k.forEach((e=>this.speechkit.directiveHandlersMap.set(e.key,e))),this.initListeners(),this}startVoiceInput(e){if(this.status===v.D5.LISTENING)return void this.getEventHandlers("listeningerror").forEach((t=>t({dialogId:(null==e?void 0:e.dialogId)||"",messageId:(null==e?void 0:e.messageId)||"",error:new Error("Alice already LISTENING")})));this.setState({shouldListen:!1});const t=this.speechkit.startVoiceInput(e);(null==e?void 0:e.skipMicSounds)&&t&&this._soundlessMicRequests.add(t)}sendVinsRequest(e,t,n="TextInput"){this.speechkit.sendVinsRequest(n,e,t)}playAudioByUrl(e){var t;if(null===(t=this._vinsConfig)||void 0===t?void 0:t.silentMode)return;if(!this._isWebKit)return void new Audio(e).play();const n=this._cacheAudioBuffer[e];n?(0,i.kU)(n,L.T):fetch(e).then((e=>e.arrayBuffer())).then((t=>{L.T.ctx.decodeAudioData(t,(t=>{(0,i.kU)(t,L.T),this._cacheAudioBuffer[e]=t}))}))}synthesize(e){this.speechkit.synthesize(e)}on(e,t){return this.getEventHandlers(e).add(t),()=>this.off(e,t)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};return this.on(e,t),this.on(e,n),n}off(e,t){this.getEventHandlers(e).delete(t)}addDirectiveHandler(e){this.speechkit.directiveHandlersMap.set(e.key,e)}setDialogId(e,t){this.speechkit.setDialogId(e,t)}setPrevRequestId(e){this.speechkit.setPrevRequestId(e)}ttsStop(){this.speechkit.ttsStop()}cancel(){this.setState(pe),this.speechkit.cancel(),this.cancelDirectives(),this.getEventHandlers("cancel").forEach((e=>e()))}updateRequestConfig(e){this._vinsConfig&&(this._vinsConfig=Object.assign(Object.assign({},this._vinsConfig),e),this.speechkit.updateRequestFactory(m(this._vinsConfig)))}destroy(){this.speechkit.directiveHandlersMap.forEach((e=>e.destroy())),this.speechkit.directiveHandlersMap.clear(),Object.values(this._events).forEach((e=>e.clear())),this.speechkit.destroy()}setState(e){Object.assign(this.state,e)}initListeners(){this.getEventHandlers("init").forEach((e=>e())),this.speechkit.status.onChange.on((()=>{this.getEventHandlers("status").forEach((e=>e(this.status)))})),this.speechkit.onSpeechStart.on((e=>{this.getEventHandlers("speechstart").forEach((t=>t(e)))})),this.speechkit.onSpeechFinished.on((e=>{this.getEventHandlers("speechend").forEach((t=>t(e)))})),this.speechkit.onSpeechError.on((e=>{this.getEventHandlers("speecherror").forEach((t=>t(e)))})),this.speechkit.onListeningStart.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/start.mp3"),this.getEventHandlers("listeningstart").forEach((t=>t(e)))})),this.speechkit.onListeningStop.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/cancel.mp3"),this._soundlessMicRequests.delete(e.messageId),this.getEventHandlers("listeningend").forEach((t=>t(e)))})),this.speechkit.onListeningError.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/error.mp3"),this._soundlessMicRequests.delete(e.messageId),this.getEventHandlers("listeningerror").forEach((t=>t(e)))})),this.speechkit.onRecognition.on((e=>{this.getEventHandlers("recognition").forEach((t=>t(e)))})),this.speechkit.onVinsResponse.on((e=>{var t,n,i,o,r,s;const{voice_response:a}=e.response;a&&this.setState({shouldListen:a.should_listen||!1,voiceSession:Boolean(a.has_voice_response||(null===(t=a.output_speech)||void 0===t?void 0:t.text))}),this.getEventHandlers("vins").forEach((t=>t(e)));const l=null===(i=null===(n=e.response.response)||void 0===n?void 0:n.directives)||void 0===i?void 0:i.some((e=>"print_text_in_message_view"===e.name)),c=null===(r=null===(o=e.response.response)||void 0===o?void 0:o.directives)||void 0===r?void 0:r.filter((e=>!(l&&"@@mm_stack_engine_get_next"===e.name)));c&&this.executeDirectives(c,{directives:null===(s=e.response.response)||void 0===s?void 0:s.directives,request:{voiceSession:this.state.voiceSession}})})),this.speechkit.onVinsStreamResponse.on((e=>{this.getEventHandlers("vinsstream").forEach((t=>{t(e)}))})),this.speechkit.onVinsError.on((e=>{this.getEventHandlers("vinserror").forEach((t=>t(e)))}))}executeDirectives(e,t){e.forEach((e=>{(e=>"server_action"===e.type)(e)?this.sendVinsRequest(e,null==t?void 0:t.request):this.executeClientDirective(e,t)}))}executeClientDirective(e,t){const n=e.type+e.name,i=this.speechkit.directiveHandlersMap.get(n);i?i.handleDirective(e,t):this.getEventHandlers("warning").forEach((()=>new Error(`No handler for Directive: ${e.name}`)))}cancelDirectives(){this.speechkit.directiveHandlersMap.forEach((e=>e.cancel()))}getEventHandlers(e){const t=this._events[e];if(t)return t;{const t=new Set;return this._events[e]=t,t}}get speechkit(){const e=this._speechkit;if(!e)throw new o("js-alicekit not initialized");return e}}de([i.ak],he.prototype,"init",null),de([i.ak],he.prototype,"startVoiceInput",null),de([i.ak],he.prototype,"sendVinsRequest",null),de([i.ak],he.prototype,"playAudioByUrl",null),de([i.ak],he.prototype,"synthesize",null),de([i.ak],he.prototype,"addDirectiveHandler",null),de([i.ak],he.prototype,"setDialogId",null),de([i.ak],he.prototype,"setPrevRequestId",null),de([i.ak],he.prototype,"ttsStop",null),de([i.ak],he.prototype,"cancel",null),de([i.ak],he.prototype,"updateRequestConfig",null),de([i.ak],he.prototype,"destroy",null);const ge=new he},2346:(e,t,n)=>{n.d(t,{T:()=>a});var i=n(4828);const o=e=>r(e)?e.resume().catch((e=>i.k.error("Failed to resume AudioContext",e))):Promise.resolve(),r=e=>"suspended"===e.state||"interrupted"===e.state;let s;const a={get ctx(){return s},init:()=>{s||(s=(()=>{const e=new(window.AudioContext||window.webkitAudioContext);return(e=>{if(!r(e))return;const t=["touchstart","touchend","mousedown","keydown"],n=()=>{o(e).then(i)},i=()=>t.forEach((e=>document.body.removeEventListener(e,n)));t.forEach((e=>document.body.addEventListener(e,n)))})(e),e})())},resume:()=>o(s),isSuspended:()=>r(s),isRunning:()=>"running"===s.state}},615:(e,t,n)=>{n.d(t,{D5:()=>r,t4:()=>i,tj:()=>o});const i={WINDOWS:"windows"},o={WEB_DESKTOP:"ru.yandex.web.desktop",YABRO:"yabro"},r={THINKING:"thinking",LISTENING:"listening",SUSPENDED:"suspended",SPEAKING:"speaking"}},2385:(e,t,n)=>{n.d(t,{k:()=>i});class i{constructor(e,t="client_action"){this.name=e,this.type=t,this._inProgress=!1}get inProgress(){return this._inProgress}get isSpeaking(){return!1}onSpeechFetched(){}cancel(){}destroy(){this.cancel()}get key(){return this.type+this.name}setProgress(e){this._inProgress!==e&&(this._inProgress=e,i.updateStatus())}}i.updateStatus=()=>{}},8115:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(8057);function o(e){return function(e){return i.Ry.isObject(e)&&"string"==typeof e.name&&"string"==typeof e.message&&(!("stack"in e)||"string"==typeof e.stack)}(e)?e:{name:i.Ry.isObject(e)&&e.constructor.name||typeof e,message:i.Ry.isObject(e)?function(e){if("string"==typeof e.message)return e.message;if(e.toString!==Object.prototype.toString)return e.toString();try{return JSON.stringify(e)}catch(t){return String(e)}}(e):String(e)}}},1399:(e,t,n)=>{n.d(t,{p:()=>o});var i=n(615);const o=(e,t)=>e===i.tj.YABRO&&t===i.t4.WINDOWS},4828:(e,t,n)=>{n.d(t,{k:()=>i});const i={error:(e,t="")=>console.error(e,String(t)),warn:(e,t="")=>console.warn(e,String(t))}},5276:(e,t,n)=>{var i,o;n.d(t,{B:()=>o,i:()=>i}),function(e){e[e.EXTERNAL_SKILL=1]="EXTERNAL_SKILL",e[e.DEDICATED_CHAT=2]="DEDICATED_CHAT"}(i||(i={})),function(e){e.BASE="Base",e.PRO="Pro"}(o||(o={}))},4057:(e,t,n)=>{n.d(t,{S:()=>i});const i=(e="xxxx-xxxx-xxxx-xxxx")=>e.replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},5907:(e,t,n)=>{n.d(t,{L:()=>o});var i=n(4057);const o=()=>(0,i.S)("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},8057:(e,t,n)=>{n.d(t,{vp:()=>r,ci:()=>p,qb:()=>_,iQ:()=>v,wn:()=>g,B7:()=>u,ak:()=>l,SF:()=>b.S,Lk:()=>m.L,sd:()=>w,ZT:()=>o,Ry:()=>s.R,kU:()=>k});var i=n(8115);const o=()=>{};class r{constructor(){this.listeners=new Set}on(e){if(!this.listeners.has(e))return this.listeners.add(e),()=>this.off(e)}off(e){this.listeners.delete(e)}once(e){const t=()=>{this.off(e),this.off(t)};this.on(e),this.on(t)}emit(e){if(this.listeners)for(const t of this.listeners)try{t(e)}catch(e){r.errorHandler((0,i.T)(e))}}clear(){this.listeners=new Set}}r.errorHandler=o;var s=n(3530);const a=e=>"function"==typeof e,l=(e,t,n)=>{if(a(e))throw new TypeError(`bind decorator can't be applied to static method ${t.toString()}`);let i=n.value,o=!1;return{configurable:!0,get:function(){if(o||this===e||s.R.hasOwn(this,t)||!a(i))return i;const n=i.bind(this);return o=!0,Object.defineProperty(this,t,{configurable:!0,get:()=>n,set(e){i=e,delete this[t]}}),o=!1,n},set(e){i=e}}};var c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class u{constructor(e,t,n=500){this.callback=e,this.timeout=t,this.step=n,this.timeoutId=void 0,this.endTime=0,this.endTime=Date.now()+t,this.tick()}cancel(){this.timeoutId&&clearTimeout(this.timeoutId)}tick(){const e=Date.now();if(this.endTime<=e||this.timeout<=0)return this.timeoutId=void 0,void this.callback();this.timeoutId=setTimeout(this.tick,this.endTime-e>this.step?this.step:this.endTime-e)}}c([l],u.prototype,"cancel",null),c([l],u.prototype,"tick",null);var d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class p{constructor(){this.queue={},this.head=0,this.tail=0}push(e){this.queue[this.tail]=e,this.tail++}shift(){return this.removeByIndex(this.head)}forEach(e){for(let t=this.head;t<this.tail;t++)e(this.queue[t],t)}removeByIndex(e){const t=this.queue[e];return t&&(delete this.queue[e],this.head++),t}reset(){this.queue={},this.head=0,this.tail=0}get length(){return this.tail-this.head}}d([l],p.prototype,"push",null),d([l],p.prototype,"shift",null),d([l],p.prototype,"forEach",null),d([l],p.prototype,"removeByIndex",null),d([l],p.prototype,"reset",null);var h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class g{constructor(e=!1){this.isPaused=e,this.queue=new p,this.taskIds={},this.isExecuting=!1,this.isCanceling=!1}pause(){this.isPaused=!0}resume(){this.isPaused&&(this.isPaused=!1,this.execute())}push(e,t){return!this.isCanceling&&(t&&this.cancel(t),this.queue.push(e),this.taskIds[e.id]=!0,this.execute(),!0)}cancel(e,t){if(!e)return void this.cancelAll(t);this.isCanceling=!0;const{id:n,tag:i}=e;this.queue.forEach(((e,o)=>{n!==e.id&&i!==e.tag||this.cancelTask(o,t)})),this.isCanceling=!1}forEach(e){return this.queue.forEach(e)}hasTaskId(e){var t;return null!==(t=this.taskIds[e])&&void 0!==t&&t}get length(){return this.queue.length}execute(){var e;if(!this.isPaused&&!this.isExecuting){for(this.isExecuting=!0;this.length&&!this.isPaused;)null===(e=this.queue.shift())||void 0===e||e.run();this.isExecuting=!1}}cancelAll(e){this.isCanceling=!0,this.queue.forEach((t=>t.cancel(e))),this.queue.reset(),this.taskIds={},this.isCanceling=!1}cancelTask(e,t){const n=this.queue.removeByIndex(e);n.cancel(t),delete this.taskIds[n.id]}}h([l],g.prototype,"pause",null),h([l],g.prototype,"resume",null),h([l],g.prototype,"push",null),h([l],g.prototype,"cancel",null),h([l],g.prototype,"forEach",null),h([l],g.prototype,"hasTaskId",null);var m=n(5907),f=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};class v{constructor(e,{tag:t="default",id:n=(0,m.L)(),data:i,onDone:r=o,onCancel:s=o}={}){this.task=e,this.tag=t,this.id=n,this.data=i,this.onCancel=s,this.onDone=r}async run(){try{const e=this.task(this.id);return e?e.then((()=>{this.onDone()})).catch((e=>{this.cancel(e)})):(this.onDone(),Promise.resolve())}catch(e){const t=(0,i.T)(e);return this.cancel(t),Promise.reject(t)}}cancel(e){try{this.onCancel(e)}catch(e){}}}f([l],v.prototype,"run",null),f([l],v.prototype,"cancel",null);class _{get value(){return this._value}constructor(e){this._value=e,this.onChange=new r}setValue(e){this._value!==e&&(this._value=e,this.onChange.emit())}}var b=n(4057),y=n(2424),x=n(4828);const w=()=>y.Z.info?Promise.resolve(y.Z.info):(x.k.warn("JsAliceKit should be initialized before use"),new Promise(((e,t)=>y.Z.once("init",(()=>{y.Z.info?e(y.Z.info):t("JsAliceKit.info not exists after init")}))))),k=(e,t,n)=>{t.resume();const i=t.ctx.createBufferSource();i.buffer=e,i.connect(t.ctx.destination);const o=t.ctx.createGain();if(i.connect(o),o.connect(t.ctx.destination),o.gain.value=1,n)for(const e in n){const t=n[e];t&&i.addEventListener(e,t)}return"noteOn"in i&&a(i.noteOn)?i.noteOn(0):i.start(),i}},3530:(e,t,n)=>{n.d(t,{R:()=>r});const i=e=>"object"==typeof e&&null!==e,o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={isObject:i,hasOwn:o,getValue:(e,...t)=>t.reduce(((e,t)=>i(e)&&o(e,t)?e[t]:void 0),e)}},3379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],u=r[c]||0,d="".concat(c," ").concat(u);r[c]=u+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var g=o(h,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:g,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=n(r[s]);t[a].references--}for(var l=i(e,o),c=0;c<r.length;c++){var u=n(r[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=l}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9756:(e,t,n)=>{n.d(t,{x:()=>o});const i=(e,t)=>Math.abs(t.clientX-e.clientX)>5&&Math.abs(t.clientX-e.clientX)>Math.abs(t.clientY-e.clientY);function o(e){let t=null;const n=e=>{t={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}},o=n=>{t&&i(t,n.touches[0])&&e.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!0}}))},r=()=>{e.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!1}})),t=null};return e.addEventListener("touchstart",n,{passive:!0,capture:!0}),e.addEventListener("touchmove",o,{passive:!0,capture:!0}),e.addEventListener("touchend",r,{passive:!0,capture:!0}),{destroy(){e.removeEventListener("touchstart",n,!0),e.removeEventListener("touchmove",o,!0),e.removeEventListener("touchend",r,!0)}}}},2331:(e,t,n)=>{n.d(t,{e:()=>o,h:()=>i});const i={writing:"Алиса печатает...",thinking:"Алиса думает..."},o=Symbol()},2212:(e,t,n)=>{n.d(t,{U:()=>r,z:()=>i});var i,o=n(4640);!function(e){e.ALICE="alice",e.MICROPHONE="microphone"}(i||(i={}));const r=o.D5},8940:(e,t,n)=>{n.d(t,{_f:()=>i,el:()=>s,xx:()=>r,zb:()=>o});const i="menu-item-click-notifier-data",o="messageMenuCtx",r="alice.standalone.firstWelcomeAlreadyBeen",s="alice.standalone.utils";Symbol()},8396:(e,t,n)=>{n.d(t,{MV:()=>i,Yj:()=>s,gu:()=>o,kl:()=>l,lA:()=>r,ze:()=>a});const i=["b7c42cab-db61-46ba-871a-b10a6ecf3e0d","801be5bb-046e-4222-ad37-b377af50121a","43fa5448-258c-4de6-b656-80bd88200b7b"],o=["331cdecb-e371-4939-bb4b-530e4dcbbebe","64d5364a-a8da-40dd-9e02-b775d7fc46e2","6f6c71f9-0e1a-4cf1-890e-1306b226dbe2"],r=[...i,...o,"df75fa12-a1f8-4a56-a9aa-70ffbc80ea60","9df9b1cd-3a5a-45af-93de-31db24d3f5a7","cc4d8e93-9f42-48a8-939a-1bed3e1ee463"],s=["search_use_cloud_ui","weather_use_cloud_ui","enable_open_link_and_cloud_ui","hw_onboarding_enable_greetings","remove_feedback_suggests","shopping_list","enable_external_skills_for_webdesktop_and_webtouch","send_show_view_directive_on_supports_show_view_layer_content_interface","use_app_host_pure_Dialogovo_scenario","div2cards_in_external_skills_for_web_standalone"],a=["open_link","server_action","cloud_ui","cloud_first_screen_div","cloud_ui_filling","show_promo","show_view_layer_content","reminders_and_todos","div2_cards","print_text_in_message_view","player_pause_directive","supports_rich_json_cards_in_fullscreen_mode_in_skills"],l=[{id:"2",title:"Что ты умеешь?",command:"Что ты умеешь?",url:"https://yastatic.net/s3/home/alice_shortcut_logos/what.svg",type:"default"},{id:"5",title:"Игры с Алисой",command:"Игры с Алисой",url:"https://yastatic.net/s3/home/alice_shortcut_logos/games.svg",type:"default"}]},1735:(e,t,n)=>{n.d(t,{JC:()=>U,xx:()=>R,f1:()=>B});var i=n(8489),o=n(4950),r=n(4640),s=n(1233),a=n(9824),l=n(2192),c=n(8962),u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};class d{get info(){return(0,o.U2)(this.store).info}get isDefault(){return this.info.id===l.lD}get isDialog(){var e;return null===(e=this.config.isDialog)||void 0===e||e}constructor(e,t,n={}){this.type=e,this.store=t,this.config=n,this.isHistoryLoaded=!1,this.isHistoryLoading=!1,this.hasMessages=!1,this.subscribersStore=new Map,this.isHistoryEmpty=!0,this.hidden=!1,this.subscribe=t.subscribe,this.addMessage=t.addMessage,this.assignToChatInfo=t.assignToChatInfo,this.removeMessagesByRequestId=t.removeMessagesByRequestId,this.assignToMessagesByRequestId=t.assignToMessagesByRequestId,this.hideMessagesByRequestId=t.hideMessagesByRequestId,this.setMarkMessagesByRequestId=t.setMarkMessagesByRequestId,this.setOutputStatus=t.setOutputStatus,this.cancel=t.cancel,this.updateLastMessage=t.updateLastMessage,this.updateChat=t.updateChat,this.block=t.block,n.isNewChat&&(this.isHistoryLoaded=!0),this.subscribeStore((({messages:e})=>{if(!e.length)return;const t=this.isDialog&&!this.hasMessages;this.hasMessages=!0,t&&this.loadHistory()})),n.immediatelyLoadHistory&&Promise.resolve().then((()=>this.loadHistory()))}loadHistory(){return Promise.resolve(void 0)}checkCanLoad(){return!this.isHistoryLoaded&&!this.isHistoryLoading&&(!this.isDialog||this.isDialog&&this.hasMessages)}closeChat(){this.reset(),this.store.reset()}destroy(){this.unsubscribeStore()}subscribeStore(e){const t=this.store.subscribe(e);return this.subscribersStore.set(e,t),t}unsubscribeStore(e){var t;if(e)return null===(t=this.subscribersStore.get(e))||void 0===t?void 0:t();this.subscribersStore.forEach((e=>e())),this.subscribersStore.clear()}onLoadHistory(e=[],t=!0){var n,i;this.isHistoryEmpty=this.isHistoryEmpty&&!e.length,this.isHistoryLoaded=t,this.isHistoryLoading=!1,null===(i=(n=this.config).onLoadHistory)||void 0===i||i.call(n,e)}reset(){this.hasMessages=!1,this.isHistoryLoaded=!1,this.isHistoryLoading=!1}}var p=n(2792);const h=e=>{try{if(localStorage.getItem(l.aq)!==e){localStorage.setItem(l.aq,e);for(let e=0,{length:t}=localStorage;e<t;++e){const t=localStorage.key(e);null!==t&&t.startsWith(l.Wz)&&localStorage.removeItem(t)}}}catch(e){}};class g extends d{get maxMessagesInLS(){return this.config.maxMessagesInLS}constructor(e,t){super("ls",e,t),this.config=t,this.subscribeStore((({messages:e})=>{this.writeHistory(e)}))}getHistory(){try{const e=localStorage.getItem(this.config.localStorageKey);return e&&JSON.parse(e)}catch(e){}}loadHistory(){return new Promise((e=>{if(!this.checkCanLoad())return e(void 0);const t=this.getHistory();if(!Array.isArray(t))return this.onLoadHistory(),e([]);const n=t.map((e=>{var t;if("object"==typeof e&&null!==e)return"bubbles"in(t=e)&&"date"in t&&Array.isArray(t.bubbles)?Object.assign(Object.assign({},e),{date:new Date(e.date),isCurrentSession:void 0}):"text"in e&&"string"==typeof e.text?Object.assign(Object.assign({},e),{id:(0,p.O)(),date:"date"in e&&"string"==typeof e.date?new Date(e.date):new Date,bubbles:[{id:(0,p.O)(),type:"text",text:e.text}],isCurrentSession:void 0}):void 0})).filter((e=>Boolean(e)));this.onLoadHistory(n),this.store.setHistory(n),e(n)}))}writeHistory(e){if(!this.isHistoryLoaded)return;this.config.localType&&h(this.config.localType);const t=e.map(s.dX).filter((e=>!e.isWelcomeMessage&&e.bubbles.length)).slice(-this.maxMessagesInLS).map(s.bK);try{localStorage.setItem(this.config.localStorageKey,JSON.stringify(t))}catch(e){}}}var m=n(4090);class f extends d{constructor(e,t,n,i,o){super("backend",e,t),this.aliceKit=n,this.outputBus=i,this.arpcUrl=t.arpcUrl,this.removeMessagesByRequestId=(t,i=!1)=>n.removeChatMessages(this.info.id,t?[t]:void 0,i,this.arpcUrl).then((()=>e.removeMessagesByRequestId(t,i))),this.setMarkMessagesByRequestId=(t,i)=>(n.sendFeedback(t,i===r.Hc.BAD?"negative":"positive"),e.setMarkMessagesByRequestId(t,i)),this.addMessage=e=>{this.store.addMessage(e),o()},this.subscribeStore((({messages:t,info:n})=>{if(n.title&&n.subtitle)return;const i=(0,a.CT)(t);if(!i)return;const r=(e=>{var t;const n=e.bubbles.find((e=>"text"===e.type));return null!==(t=null==n?void 0:n.text)&&void 0!==t?t:""})(i);r&&(!n.title&&i.isUserAuthor&&e.assignToChatInfo({title:r}),n.subtitle||i.isUserAuthor||e.assignToChatInfo({subtitle:r}),o())}))}loadHistory(){if(!this.checkCanLoad())return Promise.resolve(void 0);this.isHistoryLoading=!0;const e=(0,o.U2)(this.store).messages[0],t=(null==e?void 0:e.date)?e.date.getTime():Number.MAX_SAFE_INTEGER,n=null==e?void 0:e.id,i=this.info.id;return this.aliceKit.getChatHistory(i,t,n,20,this.arpcUrl).then((({messages:e})=>{this.isHistoryLoading=!1;const t=!e||e.length<20,n=(0,m.ux)(e);return this.onLoadHistory(n,t),this.store.setHistory(n),n})).catch((e=>{this.isHistoryLoading=!1,this.outputBus.emit("errorThrown",Error(`Error while getting chat history: ${e.message}`))}))}}const v={data:{},getItem:e=>{var t;return null!==(t=v.data[e])&&void 0!==t?t:null},key:e=>{var t;return null!==(t=Object.values(v.data)[e])&&void 0!==t?t:null},setItem:(e,t)=>v.data[e]=t,clear:()=>v.data={},removeItem:e=>v[e]&&delete v[e],get length(){return Object.keys(v.data).length}},_=(e,t,n)=>{const{namespace:i="",cleanIf:r=(e=>void 0===e),storage:s=v,onError:a}=n;e=[i,e].filter(Boolean).join(".");let l="";try{l=s.getItem(e)}catch(e){a(e instanceof Error?e:Error("unknkoun"))}if(l)try{t=JSON.parse(l)}catch(e){a(e instanceof Error?e:Error("unknkoun"))}const c=(0,o.fZ)(t,n.start);return c.subscribe((t=>{r(t)?Promise.resolve().then((()=>s.removeItem(e))).catch(a):Promise.resolve().then((()=>s.setItem(e,JSON.stringify(t)))).catch(a)})),c};var b=n(8940);const y=(e,t)=>e.id===l.lD?-1:t.id===l.lD?1:e.updateDate||t.updateDate?e.updateDate?t.updateDate?t.updateDate.getTime()-e.updateDate.getTime():1:-1:0,x=e=>!e.hidden&&!e.isDialog&&Boolean(e.info.title||e.info.subtitle||(0,o.U2)(e).messages.length);var w=n(4398),k=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const $=({aliceKit:e,arpcUrl:t,outputBus:n,isOnboardingExp:i,status:d,aliceButterflyStores:p})=>{const m=p.getButterflyStoresData().arpcUrl||t,v=_(b.xx,!1,{storage:localStorage,cleanIf:e=>!e,onError:e=>n.emit("errorThrown",Error(`Error in welcome message storable: ${e.message}`))});let $;$={type:"ls",isDialog:!0,localStorageKey:"alice.defaultChat",maxMessagesInLS:50,immediatelyLoadHistory:!1};const C=(e=>{switch(e){case c.O.PRO:return r.Bs.PRO;case c.O.BASE_LOGGED:case c.O.BASE_UNLOGGED:default:return r.Bs.BASE}})(d),I={id:l.lD,mode:C,title:"Главный чат",subtitle:"Спроси у Алисы"},M=(0,o.fZ)({chatsLoaded:!1,allChats:{[I.id]:S($,I)},activeChatId:I.id});function j(){M.update((e=>{var{allChats:t}=e,n=k(e,["allChats"]);return Object.assign({allChats:Object.assign({},t)},n)}))}function S(t,i,p){d!==c.O.DEFAULT&&h(d===c.O.BASE_UNLOGGED?"unlogged":"logged");const v=(e=>"ls"===(null==e?void 0:e.type))(t),_=((e,t,n,i=[],d=!1)=>{const p={info:t,isMessagesHidden:!1,messages:[],suggests:[],isHistoryLoaded:!1,canRequestAnswer:n===c.O.PRO||t.mode!==r.Bs.PRO},h=(0,o.fZ)(Object.assign(Object.assign({},p),{isHistoryLoaded:d,messages:i})),g=(e,t)=>h.update((n=>{var i,{messages:o,suggests:r}=n,s=u(n,["messages","suggests"]);return Object.assign(Object.assign({},s),{suggests:(null===(i=(0,a.CT)(o))||void 0===i?void 0:i.requestId)===e&&t.suggests?t.suggests:r,messages:o.map((n=>n.requestId===e?Object.assign(Object.assign({},n),t):n))})})),{subscribe:m}=(0,o.nK)(h,(e=>{const t=e.isMessagesHidden?[]:e.messages.filter((e=>!e.hidden&&0!==e.bubbles.length)),i=e.info.id===l.lD,o=n===c.O.PRO&&!i&&!t.length&&e.isHistoryLoaded,r=(0,a.CT)(t),u=r&&(0,s.f)(r),d=!e.isMessagesHidden&&(0,s.xn)(e.messages)?e.suggests:[],p=t.findIndex((({isCurrentSession:e,isUserAuthor:t,bubbles:n})=>Boolean(e&&t&&n.length))),h=(0,a.qr)(t,(({isCurrentSession:e,isUserAuthor:t,bubbles:n})=>Boolean(e&&t&&n.length)));return Object.assign(Object.assign({},e),{isDefault:i,canChangeModel:o,messages:t,suggests:d,isChanging:u,firstUserMessageInSessionIndex:p,lastUserMessageInSessionIndex:h})}));return{subscribe:m,block:()=>h.update((e=>Object.assign(Object.assign({},e),{canRequestAnswer:!1}))),addMessage:e=>{var{suggests:t}=e,n=u(e,["suggests"]);return h.update((e=>{var{messages:i,info:o}=e,r=u(e,["messages","info"]);return Object.assign(Object.assign({},r),{suggests:null!=t?t:r.suggests,info:Object.assign(Object.assign({},o),{updateDate:new Date}),messages:[...i,Object.assign(Object.assign({},(0,s.dX)(Object.assign(Object.assign({},n),{isCurrentSession:!0}))),{date:new Date})]})}))},updateLastMessage:(e,t)=>h.update((n=>{var i,{messages:o,suggests:r}=n,l=u(n,["messages","suggests"]);const c=(0,a.CT)(o);if(!c)return Object.assign({messages:o,suggests:r},l);const d=(0,s.VJ)(c.bubbles,e.bubbles||[],t),p=(0,s.dX)(Object.assign(Object.assign(Object.assign({},c),e),{bubbles:d}));return Object.assign(Object.assign({},l),{suggests:null!==(i=e.suggests)&&void 0!==i?i:r,messages:[...o.slice(0,-1),p]})})),cancel:()=>h.update((e=>{var{messages:t}=e,n=u(e,["messages"]);const i=(0,a.CT)(t);return i?Object.assign(Object.assign({},n),{messages:[...t.slice(0,-1),(0,s.bK)(i)]}):Object.assign({messages:t},n)})),setHistory:e=>{h.update((t=>{var{messages:n,isHistoryLoaded:i}=t,o=u(t,["messages","isHistoryLoaded"]);return Object.assign(Object.assign({},o),{isHistoryLoaded:!0,messages:[...e,...n]})}))},setOutputStatus:e=>{h.update((t=>Object.assign(Object.assign({},t),{outputStatus:e})))},removeMessagesByRequestId:(t,n=!1)=>h.update((i=>{var o,r,{messages:s,suggests:l}=i,c=u(i,["messages","suggests"]);const d=(null===(o=(0,a.CT)(s))||void 0===o?void 0:o.requestId)===t,p=n?[]:s.filter((e=>e.requestId!==t));if(n||d){const t=null===(r=p.slice().reverse().find((e=>e.requestId)))||void 0===r?void 0:r.requestId;e.setPrevRequestId(t)}return Object.assign(Object.assign({},c),{suggests:n||d?[]:l,messages:p})})),assignToMessagesByRequestId:g,hideMessagesByRequestId:t=>h.update((n=>{var i,{messages:o}=n,r=u(n,["messages"]);return(null===(i=(0,a.CT)(o))||void 0===i?void 0:i.requestId)===t&&e.cancel(),Object.assign(Object.assign({},r),{messages:o.map((e=>e.requestId===t?(0,s.bK)(Object.assign(Object.assign({},e),{hidden:!0})):e))})})),setMarkMessagesByRequestId:(e,t)=>{if(!t)return!1;const n=(0,o.U2)(h).messages,i=n[(0,s.Kf)(n,e)];return!(!i||i.mark===t||(g(e,{mark:t}),0))},assignToChatInfo:e=>{h.update((t=>{var{info:n}=t,i=u(t,["info"]);return Object.assign(Object.assign({},i),{info:Object.assign(Object.assign({},n),e)})}))},updateChat:e=>h.update((t=>Object.assign(Object.assign({},t),e))),reset:()=>h.update((({info:e})=>Object.assign(Object.assign({},p),{info:e})))}})(e,i,d,p,t.isNewChat);return v?new g(_,t):new f(_,Object.assign(Object.assign({},t),{arpcUrl:m}),e,n,j)}function T(e,t={},n){const{id:i=(0,r.Lk)(),mode:o=C,creationDate:s=new Date,updateDate:a=s,title:l,subtitle:c}=t;return M.update((r=>{var{allChats:u}=r,d=k(r,["allChats"]);return Object.assign(Object.assign({},d),{allChats:Object.assign(Object.assign({},u),{[i]:S(Object.assign(Object.assign({},e),{isNewChat:!t.id}),{id:i,mode:o,creationDate:s,updateDate:a,title:l,subtitle:c},n)})})})),i}function E(e){const{activeChatId:t,allChats:n}=(0,o.U2)(M),i=n[e];i&&i.destroy(),L(t===e?l.lD:t)}function L(t){M.update((n=>{var i,{activeChatId:o,allChats:s}=n,l=k(n,["activeChatId","allChats"]);const c=s[t];return c&&t!==o?(D(),null===(i=s[o])||void 0===i||i.closeChat(),e.setDialogId(c.isDefault?null:t,c.isDialog?r.iR.EXTERNAL_SKILL:r.iR.DEDICATED_CHAT),c.loadHistory().then(((t=[])=>{var n;const i=c.isDialog||null===(n=(0,a.CT)(t))||void 0===n?void 0:n.requestId;e.setPrevRequestId(i)})),Object.assign(Object.assign({},l),{allChats:s,activeChatId:t})):Object.assign({activeChatId:o,allChats:s},l)}))}function D(){const{activeChatId:t,allChats:n}=(0,o.U2)(M);n[t]&&n[t].cancel(),e.cancel()}const{subscribe:z}=(0,o.nK)(M,(e=>Object.assign(Object.assign({},e),{currentChat:e.allChats[e.activeChatId],visibleChatInfoList:Object.values(e.allChats).filter(x).map((e=>(0,o.U2)(e).info)).sort(y)})));return{firstInteractionAlreadyBeen:v,loadChatList:(0,w.h)((function(){return e.getChatList(m).then((e=>{var t;(null==e?void 0:e.dialogs)&&e.dialogs.forEach((e=>{var t,n;T({type:"backend",isDialog:!1},{id:e.dialog_id,title:e.title,subtitle:e.subtitle,creationDate:new Date(Number(e.creation_ts_ms)),updateDate:new Date(Number(null!==(t=e.last_update_ts_ms)&&void 0!==t?t:e.creation_ts_ms)),icon:e.logo_url,mode:null===(n=e.alice_2_settings)||void 0===n?void 0:n.mode})})),n.emit("stat",{path:"chat_list_on_start",customParams:{value:(null===(t=null==e?void 0:e.dialogs)||void 0===t?void 0:t.length.toString())||"0"},eventType:"tech"})})).then((()=>{M.update((e=>{var{chatsLoaded:t}=e,n=k(e,["chatsLoaded"]);return Object.assign(Object.assign({},n),{chatsLoaded:!0})}))})).catch((e=>{n.emit("errorThrown",Error(`Error while getting chats list: ${e.message}`))}))})),createChat:T,createChatWithMessages:async function(t){const{activeChatId:n}=(0,o.U2)(M),i=n!==l.lD?n:void 0,r=await e.createChatWithMessages(t,{dialogId:i},m),{dialog_id:s,title:a,subtitle:c,creation_ts_ms:u,last_update_ts_ms:d,alice_2_settings:p}=r.dialog,h=new Date(Number(u)),g=new Date(Number(null!=d?d:u)),f={id:s,mode:null==p?void 0:p.mode,title:a,subtitle:c,creationDate:h,updateDate:g};return T({type:"backend",isDialog:!1},f),L(f.id),f},createNewChat:function(){L(T({type:"backend",isDialog:!1}))},removeChat:function(t){"backend"!==(0,o.U2)(M).allChats[t].type?E(t):e.removeChat(t,m).then((()=>E(t)))},removeChatMessages:function(e){const{allChats:t}=(0,o.U2)(M),n=t[e];n&&n.removeMessagesByRequestId(void 0,!0)},setHiddenChat:function(e,t){const{activeChatId:n,allChats:i}=(0,o.U2)(M),r=i[e];r&&(r.hidden=t),L(n===e?l.lD:n)},setHiddenChatMessages:function(e,t){const{allChats:n}=(0,o.U2)(M),i=n[e];i&&i.updateChat({isMessagesHidden:t})},setActiveChatId:L,cancel:D,subscribe:z}};var C=n(6461);const I=(()=>{var e;let t={theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",isSetByUser:!1};const n=(0,C.A)("yp");if(n)switch(null===(e=n.match(/skin\.(\w)/))||void 0===e?void 0:e[1]){case"d":t={theme:"dark",isSetByUser:!0};break;case"l":t={theme:"light",isSetByUser:!0}}return t})();(0,o.PX)(I,(e=>{}));var M=n(2212);const j=e=>(0,o.PX)(M.U.SUSPENDED,(t=>{const{aliceBus:n}=e,i=e=>t(e),o=e.onInit((()=>{t(e.getStatus()),n.on("status",i)}));return()=>{o(),n.off("status",i)}})),S=(0,o.fZ)({hidden:!1,top:0}),T=e=>{const t="alice.settings",n=(e=>{const t={silentMode:{title:"Тихий режим",text:"Алиса будет отвечать только текстом",isActive:!1}};return e&&(t.standaloneDebug={title:"Дебаг режим",text:"Может приходить дебаг информация в ответе",isActive:!1}),t})(e);let i=null,r="";try{r=localStorage.getItem(t),r&&(i=JSON.parse(r))}catch(e){}e||delete(i||n).standaloneDebug;const{subscribe:s,update:a}=(0,o.fZ)(i||n);return{subscribe:s,setEnabled:(e,n)=>{a((i=>{const o=i[e];if(o){o.isActive=n;try{localStorage.setItem(t,JSON.stringify(i))}catch(e){}}return i}))}}};var E=n(8396);const L=e=>{const t="alice.sidebar.is.expanded",n=(()=>{try{return"1"!==localStorage.getItem(t)}catch(t){return e.emit("stat",{path:"sidebar.cant_get_ls_state",eventType:"tech"}),!0}})(),{subscribe:i,set:r,update:s}=(0,o.fZ)({collapsed:n});function a(){r({collapsed:!0})}return i((({collapsed:e})=>{const n=e?"":"1";localStorage.setItem(t,n)})),{collapse:a,expand:function(e=!1){e&&setTimeout(a,3e3),r({collapsed:!1})},toggle:function(){s((({collapsed:e})=>({collapsed:!e})))},subscribe:i}},D="aliceButterfly",z={storage:sessionStorage,namespace:D},O=e=>{const t=t=>{e.emit("errorThrown",Error(`Error in alice butterfly storable: ${t.message}`))},n=_("uuid",void 0,{namespace:D,onError:t}),i=_("shouldBeUpdate",!1,{namespace:D,cleanIf:e=>!e,onError:t}),r=_("uniProxyUrl",void 0,Object.assign(Object.assign({},z),{cleanIf:e=>!e,onError:t})),s=_("vinsUrl",void 0,Object.assign(Object.assign({},z),{cleanIf:e=>!e,onError:t})),a=_("arpcUrl",void 0,Object.assign(Object.assign({},z),{cleanIf:e=>!e,onError:t})),l=_("experiments",[],Object.assign(Object.assign({},z),{cleanIf:e=>!(null==e?void 0:e.length),onError:t})),c=_("supported_features",[],Object.assign(Object.assign({},z),{cleanIf:e=>!(null==e?void 0:e.length),onError:t})),u=_("unsupported_features",[],Object.assign(Object.assign({},z),{cleanIf:e=>!(null==e?void 0:e.length),onError:t})),d=_("ab_experiments",{},Object.assign(Object.assign({},z),{cleanIf:e=>p(e),onError:t}));function p(e){return e||(e=(0,o.U2)(d)),!e||!Object.values(e).some((e=>Object.keys(e).length))}const h=(0,o.nK)(d,(e=>{if(!d)return[];const t=Object.values(e).flatMap((e=>Object.keys(e)));return Array.from(new Set(t))}));return{aliceButterflyUUID:n,aliceButterflyShouldBeUpdate:i,aliceButterflyUniProxyUrl:r,aliceButterflyVinsUrl:s,aliceButterflyArpcUrl:a,aliceButterflyExperiments:l,aliceButterflySupportedFeatures:c,aliceButterflyUnsupportedFeatures:u,aliceButterflyABExperiments:d,aliceButterflyABExperimentsIsEmpty:p,aliceButterflyTestIds:h,getButterflyStoresData:()=>{const e=e=>{var t;return(null===(t=(0,o.U2)(e))||void 0===t?void 0:t.trim())||void 0};return{uniProxyUrl:e(r),vinsUrl:e(s),arpcUrl:e(a),experiments:(0,o.U2)(l).filter(Boolean),supportedFeatures:(0,o.U2)(c).filter(Boolean),unsupportedFeatures:(0,o.U2)(u).filter(Boolean),testIds:(0,o.U2)(h)}},setButterflyUUID:e=>n.set(e)}},A=(e,t)=>{const n=t.includes("alice_shortcut_standalone")||t.includes("alice_base_launch"),i=t.includes("alice_image_generation")&&t.includes("alice_image_generation_shortcut"),o=t.includes("alice_ecom_dialog_shortcut_enable"),r=[{id:"1234",title:"Чат с Алисой",subtitle:"YaGPT",text:"новый",command:"",directives:[{type:"client_action",name:"open_uri",payload:{uri:"https://a.ya.ru",isNewTab:!0,skipOverride:!0,skipHideCloudElements:Boolean(!1)}},{type:"client_action",name:"close_alice",payload:{}}],isVisible:n,type:"promo"},{id:"322",title:"YaART",subtitle:"Алиса, давай нарисуем",command:"Запусти навык Давай нарисуем",url:"https://yastatic.net/s3/home/alice_popup/image_generation.svg",isVisible:i,type:"default"},{id:"7",title:"YaGPT 2",subtitle:"Алиса, давай придумаем",command:"Запусти навык «Давай придумаем»",url:"https://yastatic.net/s3/home/alice_popup/alice-gpt4.svg",isVisible:!n,type:"default"},{id:"123",title:"Давай выберем",command:"Запусти навык Давай выберем товар",url:"https://yastatic.net/s3/home/alice_popup/ecomAssistant.svg",isVisible:o,type:"default"}].filter((e=>e.isVisible));return r.length&&(r[0].shouldAnimateBorder=!0),[...e,...r,...E.kl]},N=e=>{let t="";return t="a.ya.ru"===location.hostname?"ayaru":location.pathname.startsWith("/search")?"serp":"home",t+="_"+(e?"mobile":"desktop"),`https://plus.yandex.ru/home?service_name=alice_pro&utm_source=${t}&retpath=https%3A%2F%2Fa.ya.ru%2F&redirectOnlyOnSuccess=1`},R=new i.v,B=Symbol();let P,H;function U(e,t,n){return{openOrCreate:({appId:i,yandexuid:o,topDomain:r,uniproxyUrl:s,vinsUrl:a,arpcUrl:l,baseZIndex:u=0,oggDecoderWorkerPath:d,os:p,overrideOpenUriDirective:h,theme:g,location:m,container:f,promoUrlIos:v,promoUrlAndroid:_,promoQrLink:b,isSafari:y,howToSetUpMicLink:x,testShortcuts:w=[],isTablet:k,abFlags:C,startPhrase:I,preventListenOnStart:M,elementFocusOnClose:E,aliceExperiments:D=[],supportedFeatures:z=[],unsupportedFeatures:U=[],shouldOpenYaGpt:q=!1,yaGptOpenPhrase:F,deeplink:Z,deeplinkUrl:Y,userData:W,closeOnDialogDispose:X=!1,positionStatic:K})=>{var Q;const J=A(w,C),ee=r||window.location.hostname.split(".").slice(-2).join("."),te=C.includes("alice_image_generation"),ne=p.toLowerCase(),{isMobile:ie,isLib:oe}=n,re=C.includes("alice_desktop_fullscreen_chat")&&!ie;S.set({hidden:!1,top:0});const se=!(Z||I||q),ae=Boolean(!1),le=C.includes("alice_onboarding"),ce=Boolean(C.includes("alice_enable_new_oknyx")&&!1),ue=C.includes("alice_enable_find_poi_standalone"),de=O(R);if(H||(H=t({appId:i,isSafari:y,location:m,oggDecoderWorkerPath:d,os:ne,originDomain:ee,uniproxyUrl:null!=s?s:`wss://uniproxy.alice.${ee}/uni.ws`,vinsUrl:a,yandexuid:o,isFullscreenExp:re,experiments:D.concat(n.experiments||[]).concat(ae?["analytics_info"]:[]).concat(ue?["enable_find_poi_standalone"]:[]),supportedFeatures:z.concat(n.supportedFeatures||[]).concat(te?["supports_yart_skill_image_generation"]:[]),unsupportedFeatures:U.concat(n.unsupportedFeatures||[]),outputBus:R,aliceButterflyStores:de})),null===(Q=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===Q?void 0:Q.query){const e="microphone";navigator.permissions.query({name:e}).then((e=>{R.emit("stat",{path:"permission_microphone."+e.state,eventType:"tech"})})).catch((e=>{R.emit("stat",{path:"permission_microphone.query_error",eventType:"tech"})}))}if(P)se&&H.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),P.$set({hidden:!1,startPhrase:I,shouldOpenYaGpt:q,yaGptOpenPhrase:F,deeplink:Z,closeOnDialogDispose:X});else{const t=(0,c.l)(C,W),n="ios"===ne,i={buyProLink:N(ie),howToSetUpMicLink:x,shortcuts:J,promoUrlAndroid:_,promoUrlIos:v,promoQrLink:b,promoUrlMobile:n?v:_,os:ne,isIOS:n,baseZIndex:u,isEnableProPromoExp:C.includes("alice_enable_pro_promo"),isFullscreenExp:re,isOnboardingExp:le,isAliceFullscreenRedirectExp:C.includes("alice_redirect_to_fullscreen"),isAliceEnableNewOknyxExp:ce,isAliceDisableInRegion:C.includes("alice_disable_in_region"),aliceButterflyStores:de,allChatsStore:$({aliceKit:H,arpcUrl:null!=l?l:`https://rpc.alice.${ee}`,outputBus:R,isOnboardingExp:le,status:t,aliceButterflyStores:de}),aliceState:j(H),settingsStore:T(ae),sidebarStore:L(R),aliceKit:H,outputBus:R,isMobile:ie,isLib:oe,positionStatic:K,status:t},o=new Map([[B,i]]),r=V(),s=null!=Y?Y:r,a=null!=Z?Z:s&&G(s);P=new e({target:f,props:{hidden:!1,outputBus:R,overrideOpenUriDirective:h,theme:g,isTablet:k,startPhrase:I,preventListenOnStart:M,elementFocusOnClose:E,shouldOpenYaGpt:q,yaGptOpenPhrase:F,deeplink:a,closeOnDialogDispose:X,userData:oe&&!C.includes("alice_pro_allowed")?{hasStandaloneAccess:!0,isLoggedUser:!0}:W},context:o})}R.emit("stat",{path:`theme.${g}`,eventType:"tech"})},changeTheme:e=>{if(!P)throw Error("Application isn't created");P.$set({theme:e})},hide:()=>{P&&P.$set({hidden:!0})},outputBus:R}}const V=()=>{const e="alice_deeplink",t=new URL(window.location.href),n=t.searchParams.get(e);if(n)return t.searchParams.delete(e),window.history.replaceState(window.history.state,"",t.toString()),n},G=e=>{try{const t=decodeURIComponent(e);return JSON.parse(t)}catch(t){R.emit("stat",{path:"deeplink.parse_error",eventType:"tech",customParams:{rawDeeplink:e,error:t instanceof Error?t.message:""}})}}},9771:(e,t,n)=>{n.d(t,{t:()=>i});const i=e=>[{id:0,tag:"p",attrs:{},text:e}]},2192:(e,t,n)=>{n.d(t,{Wz:()=>o,aq:()=>r,lD:()=>i});const i="",o="alice.chat",r="alice.history"},1233:(e,t,n)=>{n.d(t,{Kf:()=>o,Os:()=>h,VJ:()=>u,bK:()=>s,dX:()=>r,f:()=>l,xn:()=>c});var i=n(9824);const o=(e,t)=>e.findIndex((e=>e.requestId===t)),r=e=>Object.assign(Object.assign({},e),{bubbles:e.bubbles.filter((e=>"text"!==e.type||e.text))}),s=e=>Object.assign(Object.assign({},e),{isStreaming:!1,bubbles:e.bubbles.map((e=>"text"===e.type?Object.assign(Object.assign({},e),{isProgressive:!1,isAnimatingEnded:!0}):e))}),a=e=>Boolean("text"===e.type&&e.isProgressive&&!e.isAnimatingEnded),l=e=>Boolean(e.isStreaming)||e.bubbles.some(a),c=e=>{const t=(0,i.CT)(e);return!(!t||t.hidden||l(t))&&(t.isUserAuthor?!t.bubbles.length&&c(e.slice(0,-1)):Boolean(t.bubbles.length))},u=(e,t,n)=>{switch(n){case"merge":return d(e,t);case"update":return p(e,t);case"replace":return t}},d=(e,t)=>{const n=[...e];return t.forEach((e=>{const t=n.findIndex((t=>t.id===e.id)),i=((e,t)=>t&&"text"===t.type&&"text"===e.type?Object.assign(Object.assign({},e),{text:e.text||t.text,isProgressive:e.isProgressive||t.isProgressive,isAnimatingEnded:e.isAnimatingEnded||t.isAnimatingEnded}):Object.assign({},e))(e,n[t]);-1!==t?n[t]=i:n.push(i)})),n},p=(e,t)=>e.map((e=>{var n;return null!==(n=t.find((t=>t.id===e.id)))&&void 0!==n?n:e})),h=e=>{const t=e.findIndex(a);return-1===t?e:e.slice(0,t+1)}},4090:(e,t,n)=>{n.d(t,{Yl:()=>r,ux:()=>a});var i=n(4640),o=n(2792);const r=e=>"ls"===e.type,s=e=>"object"==typeof e&&null!==e&&"request"in e,a=e=>e?e.map((({content:e,history_message_id:t,message_mark:n,ts_ms:r,request_id:a})=>{var l,c;const u=[];s(e)?u.push({id:(0,o.O)(),type:"text",text:e.request.request_text}):null===(l=e.response.cards)||void 0===l||l.forEach((e=>{if(e.text_card)u.push({id:(0,o.O)(),type:"text",text:e.text_card.text});else if(e.text_with_buttons_card)u.push({id:(0,o.O)(),type:"text",text:e.text_with_buttons_card.text,buttons:e.text_with_buttons_card.buttons});else if(e.div2_card){const{palette:t}=e.div2_card;u.push({id:(0,o.O)(),type:"divJson",divJson:{card:e.div2_card.body.card,templates:e.div2_card.body.templates,palette:t?{light:Object.keys(t.light).map((e=>({name:e,color:t.light[e]}))),dark:Object.keys(t.dark).map((e=>({name:e,color:t.dark[e]})))}:void 0}})}else if(e.rich_json_card){const t=JSON.parse(e.rich_json_card.body);u.push({id:(0,o.O)(),type:"richJson",richJson:t,hideBorders:e.hide_borders})}}));const d=s(e)||null===(c=e.response.cards)||void 0===c?void 0:c.flatMap((e=>{var t,n;return null!==(n=null===(t=e.sources_card)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]})).map((e=>new URL(e)));return{isUserAuthor:s(e),id:t,requestId:a,bubbles:u,sources:d,date:new Date(Number(r)),mark:null!=n?n:i.Hc.NOT_SET}})).filter((e=>Boolean(e.bubbles.length))):[]},9824:(e,t,n)=>{n.d(t,{CT:()=>o,V4:()=>i,qr:()=>r});const i=(...e)=>Array.from(new Set(e.flat())),o=e=>e[e.length-1],r=(e,t)=>{let n=e.length-1;for(;n>=0;){if(t(e[n]))return n;n-=1}return-1}},4398:(e,t,n)=>{n.d(t,{h:()=>i});const i=e=>{let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)}},8489:(e,t,n)=>{n.d(t,{v:()=>i});class i{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const i=n.indexOf(t);i>=0&&n.splice(i,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e,...t){const n=this._events[e];n&&n.slice().forEach((e=>{e.apply(void 0,t)}))}}},6461:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{var t;return(null===(t=document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]+)`))||void 0===t?void 0:t.pop())||""}},8962:(e,t,n)=>{var i;n.d(t,{O:()=>i,l:()=>o}),function(e){e.DEFAULT="default",e.BASE_UNLOGGED="base_unlogged",e.BASE_LOGGED="base_logged",e.PRO="pro"}(i||(i={}));const o=(e,t)=>i.DEFAULT},1538:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>{}},2792:(e,t,n)=>{n.d(t,{O:()=>o,x:()=>s});const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",o=(e=20)=>Array.from({length:e},(()=>i.charAt(Math.floor(Math.random()*i.length)))).join(""),r=/(^|(\s|[^\p{N}\p{L}])+)\S+(\s+$)?/gu,s=e=>e.match(r)||[]},981:(e,t,n)=>{n.d(t,{P:()=>i});const i=(e,t=0,n=!0)=>{let i,o=n,r=0,s=!1;function a(...a){if(s)return;const l=Date.now()-r;r=Date.now(),n&&l>=t&&(o=!0),o?(o=!1,e.apply(this,a)):(clearTimeout(i),i=setTimeout((()=>{r=Date.now(),e.apply(this,a)}),t))}return a.cancel=()=>{clearTimeout(i),s=!0},a}},5572:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiMwRjExMTkiLz4KPC9zdmc+Cg=="},4679:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiM3YTU1ZmYiLz4KPC9zdmc+Cg=="},4472:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNTg2MTIgOC4wMDI4OUw0Ljc5NjEyIDEyLjc5NTlDNC42MDg2MSAxMi45ODM1IDQuNTAzMzIgMTMuMjM4IDQuNTAzNDIgMTMuNTAzMkM0LjUwMzUxIDEzLjc2ODUgNC42MDg5OCAxNC4wMjI5IDQuNzk2NjIgMTQuMjEwNEM0Ljk4NDI2IDE0LjM5NzkgNS4yMzg3IDE0LjUwMzIgNS41MDM5NyAxNC41MDMxQzUuNzY5MjQgMTQuNTAzIDYuMDIzNjEgMTQuMzk3NSA2LjIxMTEyIDE0LjIwOTlMMTEuNzA3MSA4LjcwOTg5QzExLjg5NDYgOC41MjIzNiAxMS45OTk5IDguMjY4MDUgMTEuOTk5OSA4LjAwMjg5QzExLjk5OTkgNy43Mzc3MiAxMS44OTQ2IDcuNDgzNDIgMTEuNzA3MSA3LjI5NTg5TDYuMjExMTIgMS43OTU4OUM2LjAyMzYxIDEuNjA4MjUgNS43NjkyNCAxLjUwMjc4IDUuNTAzOTcgMS41MDI2OUM1LjIzODcgMS41MDI1OSA0Ljk4NDI2IDEuNjA3ODggNC43OTY2MiAxLjc5NTM5QzQuNjA4OTggMS45ODI5IDQuNTAzNTEgMi4yMzcyNiA0LjUwMzQyIDIuNTAyNTNDNC41MDMzMiAyLjc2NzggNC42MDg2MSAzLjAyMjI1IDQuNzk2MTIgMy4yMDk4OUw5LjU4NjEyIDguMDAyODlaIiBmaWxsPSIjMEYxMTE5Ii8+Cjwvc3ZnPgo="},2455:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNTg2MTIgOC4wMDI4OUw0Ljc5NjEyIDEyLjc5NTlDNC42MDg2MSAxMi45ODM1IDQuNTAzMzIgMTMuMjM4IDQuNTAzNDIgMTMuNTAzMkM0LjUwMzUxIDEzLjc2ODUgNC42MDg5OCAxNC4wMjI5IDQuNzk2NjIgMTQuMjEwNEM0Ljk4NDI2IDE0LjM5NzkgNS4yMzg3IDE0LjUwMzIgNS41MDM5NyAxNC41MDMxQzUuNzY5MjQgMTQuNTAzIDYuMDIzNjEgMTQuMzk3NSA2LjIxMTEyIDE0LjIwOTlMMTEuNzA3MSA4LjcwOTg5QzExLjg5NDYgOC41MjIzNiAxMS45OTk5IDguMjY4MDUgMTEuOTk5OSA4LjAwMjg5QzExLjk5OTkgNy43Mzc3MiAxMS44OTQ2IDcuNDgzNDIgMTEuNzA3MSA3LjI5NTg5TDYuMjExMTIgMS43OTU4OUM2LjAyMzYxIDEuNjA4MjUgNS43NjkyNCAxLjUwMjc4IDUuNTAzOTcgMS41MDI2OUM1LjIzODcgMS41MDI1OSA0Ljk4NDI2IDEuNjA3ODggNC43OTY2MiAxLjc5NTM5QzQuNjA4OTggMS45ODI5IDQuNTAzNTEgMi4yMzcyNiA0LjUwMzQyIDIuNTAyNTNDNC41MDMzMiAyLjc2NzggNC42MDg2MSAzLjAyMjI1IDQuNzk2MTIgMy4yMDk4OUw5LjU4NjEyIDguMDAyODlaIiBmaWxsPSIjN2E1NWZmIi8+Cjwvc3ZnPgo="},4982:(e,t,n)=>{n.d(t,{H3:()=>i.H3E,Ky:()=>i.KyG,ev:()=>i.evW,fw:()=>i.fwp,gx:()=>i.gx3,v:()=>i.vax});var i=n(77)},77:(e,t,n)=>{function i(){}n.d(t,{FWw:()=>re,f_C:()=>st,TVh:()=>$,hjT:()=>Se,P$F:()=>je,gx3:()=>me,R3I:()=>z,qOq:()=>O,f0i:()=>r,Ljt:()=>X,akz:()=>et,VnY:()=>xe,cKT:()=>be,gbL:()=>Pe,FIv:()=>f,vV4:()=>se,YCL:()=>tt,HCz:()=>Ge,eZl:()=>qe,nuO:()=>v,vpE:()=>it,RMB:()=>H,ogt:()=>P,bGB:()=>U,cSb:()=>F,NXn:()=>Ye,fwp:()=>_e,VOJ:()=>x,u2N:()=>b,gCg:()=>Qe,LoY:()=>Ke,$XI:()=>m,lig:()=>E,dvw:()=>Be,CR_:()=>Fe,yRu:()=>o,S1n:()=>ot,$Tr:()=>B,sBU:()=>c,oLt:()=>Z,yef:()=>nt,ZTd:()=>i,AqN:()=>h,H1I:()=>w,evW:()=>fe,H3E:()=>ge,cly:()=>We,AT7:()=>Y,j7q:()=>l,N8:()=>u,vax:()=>ve,rTO:()=>te,Kp5:()=>ee,BmG:()=>ne,fxP:()=>k,czc:()=>ie,DhX:()=>q,Jn4:()=>p,XET:()=>W,LdU:()=>g,bi5:()=>V,fLW:()=>G,KyG:()=>Me,VHj:()=>oe,Ui:()=>He,etI:()=>Ue,xfz:()=>Ze,GQg:()=>Xe,kmG:()=>y});const o=e=>e;function r(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function a(){return Object.create(null)}function l(e){e.forEach(s)}function c(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let d;function p(e,t){return e===t||(d||(d=document.createElement("a")),d.href=t,e===d.href)}function h(e,t){return e!=e?t==t:e!==t}function g(e,...t){if(null==e){for(const e of t)e(void 0);return i}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function m(e){let t;return g(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push(g(t,n))}function v(e,t,n,i){if(e){const o=_(e,t,n,i);return e[0](o)}}function _(e,t,n,i){return e[1]&&i?r(n.ctx.slice(),e[1](i(t))):n.ctx}function b(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}function y(e,t,n,i,o,r){if(o){const s=_(t,n,i,r);e.p(s,o)}}function x(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function w(e){return null==e?"":e}function k(e,t,n){return e.set(n),t}function $(e){return e&&c(e.destroy)?e.destroy:i}const C="undefined"!=typeof window;let I=C?()=>window.performance.now():()=>Date.now(),M=C?e=>requestAnimationFrame(e):i;const j=new Set;function S(e){j.forEach((t=>{t.c(e)||(j.delete(t),t.f())})),0!==j.size&&M(S)}function T(e){let t;return 0===j.size&&M(S),{promise:new Promise((n=>{j.add(t={c:e,f:n})})),abort(){j.delete(t)}}}const E="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class L{_listeners="WeakMap"in E?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((e=>{for(const t of e)L.entries.set(t.target,t),this._listeners.get(t.target)?.(t)})))}}L.entries="WeakMap"in E?new WeakMap:void 0;let D=!1;function z(e,t){e.appendChild(t)}function O(e,t,n){const i=A(e);if(!i.getElementById(t)){const e=U("style");e.id=t,e.textContent=n,R(i,e)}}function A(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function N(e){const t=U("style");return t.textContent="/* empty */",R(A(e),t),t.sheet}function R(e,t){return z(e.head||e,t),t.sheet}function B(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function H(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function U(e){return document.createElement(e)}function V(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function G(e){return document.createTextNode(e)}function q(){return G(" ")}function F(){return G("")}function Z(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Y(e){return function(t){return t.preventDefault(),e.call(this,t)}}function W(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function X(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const K=["width","height"];function Q(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)null==t[i]?e.removeAttribute(i):"style"===i?e.style.cssText=t[i]:"__value"===i?e.value=e[i]=t[i]:n[i]&&n[i].set&&-1===K.indexOf(i)?e[i]=t[i]:X(e,i,t[i])}function J(e,t){Object.keys(t).forEach((n=>{!function(e,t,n){const i=t.toLowerCase();i in e?e[i]="boolean"==typeof e[i]&&""===n||n:t in e?e[t]="boolean"==typeof e[t]&&""===n||n:X(e,t,n)}(e,n,t[n])}))}function ee(e){return/-/.test(e)?J:Q}function te(e,t){t=""+t,e.data!==t&&(e.data=t)}function ne(e,t){e.value=null==t?"":t}function ie(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function oe(e,t,n){e.classList.toggle(t,!!n)}class re{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=V(t.nodeName):this.e=U(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)B(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(P)}}function se(e,t){return new e(t)}const ae=new Map;let le,ce=0;function ue(e,t,n,i,o,r,s,a=0){const l=16.666/i;let c="{\n";for(let e=0;e<=1;e+=l){const i=t+(n-t)*r(e);c+=100*e+`%{${s(i,1-i)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=A(e),{stylesheet:h,rules:g}=ae.get(p)||function(e,t){const n={stylesheet:N(t),rules:{}};return ae.set(e,n),n}(p,e);g[d]||(g[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${i}ms linear ${o}ms 1 both`,ce+=1,d}function de(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),ce-=o,ce||M((()=>{ce||(ae.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)})),ae.clear())})))}function pe(e){le=e}function he(){if(!le)throw new Error("Function called outside component initialization");return le}function ge(e){he().$$.on_mount.push(e)}function me(e){he().$$.after_update.push(e)}function fe(e){he().$$.on_destroy.push(e)}function ve(e,t){return he().$$.context.set(e,t),t}function _e(e){return he().$$.context.get(e)}function be(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ye=[],xe=[];let we=[];const ke=[],$e=Promise.resolve();let Ce=!1;function Ie(){Ce||(Ce=!0,$e.then(De))}function Me(){return Ie(),$e}function je(e){we.push(e)}function Se(e){ke.push(e)}const Te=new Set;let Ee,Le=0;function De(){if(0!==Le)return;const e=le;do{try{for(;Le<ye.length;){const e=ye[Le];Le++,pe(e),ze(e.$$)}}catch(e){throw ye.length=0,Le=0,e}for(pe(null),ye.length=0,Le=0;xe.length;)xe.pop()();for(let e=0;e<we.length;e+=1){const t=we[e];Te.has(t)||(Te.add(t),t())}we.length=0}while(ye.length);for(;ke.length;)ke.pop()();Ce=!1,Te.clear(),pe(e)}function ze(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(je)}}function Oe(){return Ee||(Ee=Promise.resolve(),Ee.then((()=>{Ee=null}))),Ee}function Ae(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}(`${t?"intro":"outro"}${n}`))}const Ne=new Set;let Re;function Be(){Re={r:0,c:[],p:Re}}function Pe(){Re.r||l(Re.c),Re=Re.p}function He(e,t){e&&e.i&&(Ne.delete(e),e.i(t))}function Ue(e,t,n,i){if(e&&e.o){if(Ne.has(e))return;Ne.add(e),Re.c.push((()=>{Ne.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const Ve={duration:0};function Ge(e,t,n){const r={direction:"in"};let s,a,l=t(e,n,r),u=!1,d=0;function p(){s&&de(e,s)}function h(){const{delay:t=0,duration:n=300,easing:r=o,tick:c=i,css:h}=l||Ve;h&&(s=ue(e,0,1,n,t,r,h,d++)),c(0,1);const g=I()+t,m=g+n;a&&a.abort(),u=!0,je((()=>Ae(e,!0,"start"))),a=T((t=>{if(u){if(t>=m)return c(1,0),Ae(e,!0,"end"),p(),u=!1;if(t>=g){const e=r((t-g)/n);c(e,1-e)}}return u}))}let g=!1;return{start(){g||(g=!0,de(e),c(l)?(l=l(r),Oe().then(h)):h())},invalidate(){g=!1},end(){u&&(p(),u=!1)}}}function qe(e,t,n){const r={direction:"out"};let s,a=t(e,n,r),u=!0;const d=Re;let p;function h(){const{delay:t=0,duration:n=300,easing:r=o,tick:c=i,css:h}=a||Ve;h&&(s=ue(e,1,0,n,t,r,h));const g=I()+t,m=g+n;je((()=>Ae(e,!1,"start"))),"inert"in e&&(p=e.inert,e.inert=!0),T((t=>{if(u){if(t>=m)return c(0,1),Ae(e,!1,"end"),--d.r||l(d.c),!1;if(t>=g){const e=r((t-g)/n);c(1-e,e)}}return u}))}return d.r+=1,c(a)?Oe().then((()=>{a=a(r),h()})):h(),{end(t){t&&"inert"in e&&(e.inert=p),t&&a.tick&&a.tick(1,0),u&&(s&&de(e,s),u=!1)}}}function Fe(e,t){const n=t.token={};function i(e,i,o,r){if(t.token!==n)return;t.resolved=r;let s=t.ctx;void 0!==o&&(s=s.slice(),s[o]=r);const a=e&&(t.current=e)(s);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==i&&e&&(Be(),Ue(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Pe())})):t.block.d(1),a.c(),He(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[i]=a),l&&De()}if(!(o=e)||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then){if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}else{const n=he();if(e.then((e=>{pe(n),i(t.then,1,t.value,e),pe(null)}),(e=>{if(pe(n),i(t.catch,2,t.error,e),pe(null),!t.hasCatch)throw e})),t.current!==t.pending)return i(t.pending,0),!0}var o}function Ze(e,t,n){const i=t.slice(),{resolved:o}=e;e.current===e.then&&(i[e.value]=o),e.current===e.catch&&(i[e.error]=o),e.block.p(i,n)}function Ye(e){return void 0!==e?.length?e:Array.from(e)}function We(e,t){Ue(e,1,1,(()=>{t.delete(e.key)}))}function Xe(e,t,n,i,o,r,s,a,c,u,d,p){let h=e.length,g=r.length,m=h;const f={};for(;m--;)f[e[m].key]=m;const v=[],_=new Map,b=new Map,y=[];for(m=g;m--;){const e=p(o,r,m),a=n(e);let l=s.get(a);l?i&&y.push((()=>l.p(e,t))):(l=u(a,e),l.c()),_.set(a,v[m]=l),a in f&&b.set(a,Math.abs(m-f[a]))}const x=new Set,w=new Set;function k(e){He(e,1),e.m(a,d),s.set(e.key,e),d=e.first,g--}for(;h&&g;){const t=v[g-1],n=e[h-1],i=t.key,o=n.key;t===n?(d=t.first,h--,g--):_.has(o)?!s.has(i)||x.has(i)?k(t):w.has(o)?h--:b.get(i)>b.get(o)?(w.add(i),k(t)):(x.add(o),h--):(c(n,s),h--)}for(;h--;){const t=e[h];_.has(t.key)||c(t,s)}for(;g;)k(v[g-1]);return l(y),v}function Ke(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],a=t[r];if(a){for(const e in s)e in a||(i[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[r]=a}else for(const e in s)o[e]=1}for(const e in i)e in n||(n[e]=void 0);return n}function Qe(e){return"object"==typeof e&&null!==e?e:{}}let Je;function et(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function tt(e){e&&e.c()}function nt(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),je((()=>{const t=e.$$.on_mount.map(s).filter(c);e.$$.on_destroy?e.$$.on_destroy.push(...t):l(t),e.$$.on_mount=[]})),o.forEach(je)}function it(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];we.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),we=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,t,n,o,r,s,c=null,u=[-1]){const d=le;pe(e);const p=e.$$={fragment:null,ctx:[],props:s,update:i,not_equal:r,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};c&&c(p.root);let h=!1;if(p.ctx=n?n(e,t.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&function(e,t){-1===e.$$.dirty[0]&&(ye.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),h=!0,l(p.before_update),p.fragment=!!o&&o(p.ctx),t.target){if(t.hydrate){D=!0;const e=(g=t.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(e),e.forEach(P)}else p.fragment&&p.fragment.c();t.intro&&He(e.$$.fragment),nt(e,t.target,t.anchor),D=!1,De()}var g;pe(d)}function rt(e,t,n,i){const o=n[e]?.type;if(t="Boolean"===o&&"boolean"!=typeof t?null!=t:t,!i||!n[e])return t;if("toAttribute"===i)switch(o){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Je=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function e(e){return()=>{let t;return{c:function(){t=U("slot"),"default"!==e&&X(t,"name",e)},m:function(e,n){B(e,t,n)},d:function(e){e&&P(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const o of this.$$s)o in n&&(t[o]=[e(o)]);for(const r of this.attributes){const s=this.$$g_p(r.name);s in this.$$d||(this.$$d[s]=rt(s,r.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)a in this.$$d||void 0===this[a]||(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const i=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=rt(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(const l in this.$$l)for(const c of this.$$l[l]){const u=this.$$c.$on(l,c);this.$$l_u.set(c,u)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=rt(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class st{$$=void 0;$$set=void 0;$destroy(){it(this,1),this.$destroy=i}$on(e,t){if(!c(t))return i;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}},4950:(e,t,n)=>{n.d(t,{PX:()=>r,U2:()=>i.$XI,fZ:()=>s,nK:()=>a});var i=n(77);const o=[];function r(e,t){return{subscribe:s(e,t).subscribe}}function s(e,t=i.ZTd){let n;const r=new Set;function s(t){if((0,i.N8)(e,t)&&(e=t,n)){const t=!o.length;for(const t of r)t[1](),o.push(t,e);if(t){for(let e=0;e<o.length;e+=2)o[e][0](o[e+1]);o.length=0}}}function a(t){s(t(e))}return{set:s,update:a,subscribe:function(o,l=i.ZTd){const c=[o,l];return r.add(c),1===r.size&&(n=t(s,a)||i.ZTd),o(e),()=>{r.delete(c),0===r.size&&n&&(n(),n=null)}}}}function a(e,t,n){const o=!Array.isArray(e),s=o?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return r(n,((e,n)=>{let r=!1;const l=[];let c=0,u=i.ZTd;const d=()=>{if(c)return;u();const r=t(o?l[0]:l,e,n);a?e(r):u=(0,i.sBU)(r)?r:i.ZTd},p=s.map(((e,t)=>(0,i.LdU)(e,(e=>{l[t]=e,c&=~(1<<t),r&&d()}),(()=>{c|=1<<t}))));return r=!0,d(),function(){(0,i.j7q)(p),u(),r=!1}}))}}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.exports}s.m=o,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,s.d(o,r),o},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>(({9:"markdown",319:"rich-json",780:"rich-json-mobile",788:"media-recorder-polyfill"}[e]||e)+".js"),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="AliceForWeb:",s.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).type="text/javascript",a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+o),a.src=e),n[e]=[t];var p=(t,i)=>{a.onerror=a.onload=null,clearTimeout(h);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(i))),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="https://yastatic.net/s3/home-static/alice-web/68/desktop/",(()=>{s.b=document.baseURI||self.location.href;var e={372:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=o);var r=s.p+s.u(t),a=new Error;s.l(r,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,a,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(t&&t(n);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkAliceForWeb=self.webpackChunkAliceForWeb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0;var a={};(()=>{s.r(a),s.d(a,{default:()=>iv,lib:()=>nv});var e=s(77),t=s(4982);function n(t){let n,o,r,s,a;const l=t[2].default,c=(0,e.nuO)(l,t,t[1],null);return{c(){n=(0,e.bGB)("div"),c&&c.c(),n.hidden=!0},m(l,u){(0,e.$Tr)(l,n,u),c&&c.m(n,null),r=!0,s||(a=(0,e.TVh)(o=i.call(null,n,t[0])),s=!0)},p(t,[n]){c&&c.p&&(!r||2&n)&&(0,e.kmG)(c,l,t,t[1],r?(0,e.u2N)(l,t[1],n,null):(0,e.VOJ)(t[1]),null),o&&(0,e.sBU)(o.update)&&1&n&&o.update.call(null,t[0])},i(t){r||((0,e.Ui)(c,t),r=!0)},o(t){(0,e.etI)(c,t),r=!1},d(t){t&&(0,e.ogt)(n),c&&c.d(t),s=!1,a()}}}function i(e,n="body"){let i;async function o(o){if("string"==typeof(n=o)){if(i=document.querySelector(n),null===i&&(await(0,t.Ky)(),i=document.querySelector(n)),null===i)throw new Error(`No element found matching css selector: "${n}"`)}else{if(!(n instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===n?"null":typeof n}. Allowed types: string (CSS selector) or HTMLElement.`);i=n}i.appendChild(e),e.hidden=!1}return o(n),{update:o,destroy:function(){e.parentNode&&e.parentNode.removeChild(e)}}}function o(e,t,n){let{$$slots:i={},$$scope:o}=t,{target:r="body"}=t;return e.$$set=e=>{"target"in e&&n(0,r=e.target),"$$scope"in e&&n(1,o=e.$$scope)},[r,o,i]}class r extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,o,n,e.N8,{target:0})}}const l=r,c="M 13.35 28 C 13.35 30.1809 13.8265 32.2504 14.6812 34.1102 C 15.7181 36.3666 17.3115 38.3142 19.2856 39.7774 C 21.721 41.5824 24.7358 42.65 27.9996 42.65 C 31.2351 42.65 34.2258 41.6009 36.6501 39.8242 C 38.6762 38.3394 40.3066 36.3466 41.3536 34.0334 C 42.1864 32.1934 42.65 30.1508 42.65 28 C 42.65 25.8083 42.1686 23.7289 41.3057 21.8619 C 40.101 19.2553 38.1529 17.0625 35.7334 15.5556 C 33.4888 14.1576 30.8386 13.35 28 13.35 C 25.1956 13.35 22.5751 14.1381 20.3479 15.505 C 17.8609 17.0313 15.8644 19.2794 14.6502 21.9577 C 13.815 23.7999 13.35 25.8456 13.35 28 Z",u="M 13.145 37.695 c 2.2908 2.2654 8.3997 3.6271 14.6358 3.6526 6.2361 -0.0255 12.345 -1.3872 14.6358 -3.6526 5.7016 -5.5998 -8.1452 -27.1336 -14.6231 -27.159 -6.4907 0.0255 -20.3502 21.5465 -14.6358 27.159 Z",d="M 18 28.5 C 18 31.25 18 31.5006 18 33 C 18 36 20 38 23 38 C 25 38 25 38 28 38 C 31 38 30.8537 38 33 38 C 36 38 38 36 38 33 C 38 31.5 38 31.25 38 28.5 C 38 25.25 38 25.0584 38 23 C 38 20 36 18 33 18 C 30.8557 18 31 18 28 18 C 25 18 24.5 18 23 18 C 20 18 18 20 18 23 C 18 25.4558 18 25.25 18 28.5 Z",p="M 22 23.5 C 22 26.25 22 26.5006 22 28 C 22 31 24.1889 33.4473 27 33.9158 C 27.6088 34.0173 28.0678 34 28 34 C 27.9322 34 28.3722 34.0211 29 33.9158 C 31.79 33.448 34 31 34 28 C 34 26.5 34 26.25 34 23.5 C 34 20.25 34 20.0584 34 18 C 34 15 31.8721 12.605 29 12.0857 C 28.6364 12.0199 28.2706 12 28 12 C 27.7294 12 27.3007 12.037 27 12.0857 C 24.2154 12.5361 22 15 22 18 C 22 20.4558 22 20.25 22 23.5 Z",h="M 27 38.9552 L 27 43.0033 C 27 43.5538 27.4439 44 28 44 L 28 44 C 28.5523 44 29 43.5523 29 43.0033 L 29 38.9552 C 34.6065 38.4499 39 33.738 39 28 C 39 28 39 27 38 27 C 37 27 37 28 37 28 C 37 32.9706 32.9706 37 28 37 C 23.0294 37 19 32.9706 19 28 C 19 28 19 27 18 27 C 17 27 17 28 17 28 C 17 33.738 21.3935 38.4499 27 38.9552 Z";var g=s(2212);function m(t){(0,e.qOq)(t,"svelte-10m6pdy",".yamb-oknyx-core__transform-point.svelte-10m6pdy{transform:scale(1)}")}function f(t){let n,i;return{c(){n=(0,e.bi5)("path"),(0,e.Ljt)(n,"fill","#fff"),(0,e.Ljt)(n,"d",i=t[3][t[0]]),(0,e.Ljt)(n,"transform","translate(-28, -28)")},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){1&o&&i!==(i=t[3][t[0]])&&(0,e.Ljt)(n,"d",i)},d(t){t&&(0,e.ogt)(n)}}}function v(t){let n,i,o,r,s,a;return{c(){n=(0,e.bi5)("g"),i=(0,e.bi5)("path"),r=(0,e.bi5)("path"),(0,e.Ljt)(i,"fill","#fff"),(0,e.Ljt)(i,"d",o=t[4][t[0]]),(0,e.Ljt)(r,"fill","#fff"),(0,e.Ljt)(r,"opacity",s=t[2]?1:0),(0,e.Ljt)(r,"d",a=h),(0,e.Ljt)(n,"transform","translate(-28, -28)")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),(0,e.R3I)(n,r)},p(t,n){1&n&&o!==(o=t[4][t[0]])&&(0,e.Ljt)(i,"d",o),4&n&&s!==(s=t[2]?1:0)&&(0,e.Ljt)(r,"opacity",s)},d(t){t&&(0,e.ogt)(n)}}}function _(t){let n,i;function o(e,t){return e[1]===g.z.MICROPHONE?v:f}let r=o(t),s=r(t);return{c(){n=(0,e.bi5)("g"),i=(0,e.bi5)("g"),s.c(),(0,e.Ljt)(i,"class","yamb-oknyx-core__transform-point svelte-10m6pdy"),(0,e.Ljt)(n,"transform","translate(28, 28)")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),s.m(i,null)},p(e,[t]){r===(r=o(e))&&s?s.p(e,t):(s.d(1),s=r(e),s&&(s.c(),s.m(i,null)))},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),s.d()}}}function b(e,t,n){let i,{state:o}=t,{logo:r}=t;const s={[g.U.LISTENING]:c,[g.U.SPEAKING]:d,[g.U.SUSPENDED]:u,[g.U.THINKING]:""},a={[g.U.LISTENING]:c,[g.U.SPEAKING]:d,[g.U.SUSPENDED]:p,[g.U.THINKING]:""};return e.$$set=e=>{"state"in e&&n(0,o=e.state),"logo"in e&&n(1,r=e.logo)},e.$$.update=()=>{1&e.$$.dirty&&n(2,i=o===g.U.SUSPENDED)},[o,r,i,s,a]}class y extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,b,_,e.N8,{state:0,logo:1},m)}}const x=y;function w(e){const t=t=>{switch(t.key){case"Enter":case" ":t.preventDefault(),e.dispatchEvent(new Event("accessibleclick"))}},n=()=>{e.dispatchEvent(new Event("accessibleclick"))};return e.addEventListener("keyup",t),e.addEventListener("click",n),{destroy(){e.removeEventListener("keyup",t),e.removeEventListener("click",n)}}}const k='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(4, 4)">\n        <circle class="yamb-oknyx__arrow-circle" cx="16" cy="16" r="16" fill="none"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0001 11.8005L22.6001 17.4005L24.0001 16.0005L16.0001 8.00049L8.00006 16.0005L9.40006 17.4005L15.0001 11.8005L15.0001 24.0005L17.0001 24.0005L17.0001 11.8005Z" fill="white"/>\n    </g>\n</svg>\n';var $=s(8940);function C(t){(0,e.qOq)(t,"svelte-1a5qaex",".yamb-oknyx.svelte-1a5qaex.svelte-1a5qaex{-webkit-tap-highlight-color:transparent;float:right;width:70px;height:70px;padding-left:10px;outline:none}.yamb-oknyx_standalone.svelte-1a5qaex.svelte-1a5qaex{padding:0;width:50px;height:50px}.yamb-oknyx_bottom.svelte-1a5qaex.svelte-1a5qaex{padding-left:3px}.yamb-oknyx__container.svelte-1a5qaex.svelte-1a5qaex{width:70px;height:70px;background:var(--alice-oknyx-background)}.yamb-oknyx_standalone.svelte-1a5qaex .yamb-oknyx__container.svelte-1a5qaex{width:50px;height:50px}.yamb-oknyx__svg-wrapper.svelte-1a5qaex.svelte-1a5qaex{width:55px;height:55px;position:absolute;z-index:1;margin-top:7.5px;margin-left:7.5px}.yamb-oknyx_state_listening.svelte-1a5qaex:not(.yamb-oknyx_standalone) .yamb-oknyx__svg-wrapper.svelte-1a5qaex{width:70px;height:70px;margin:0}.yamb-oknyx_standalone.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex{margin-top:-2.5px;margin-left:2.5px}.yamb-oknyx_standalone.yamb-oknyx_state_suspended.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex,.yamb-oknyx__arrow-wrapper.svelte-1a5qaex.svelte-1a5qaex{width:40px;height:40px;margin-top:5px;margin-left:7.5px}.yamb-oknyx__arrow-wrapper.svelte-1a5qaex.svelte-1a5qaex{cursor:pointer}.yamb-oknyx__arrow-circle{fill:var(--arrow-circle-fill)}svg.svelte-1a5qaex.svelte-1a5qaex{width:100%;height:100%;position:relative;pointer-events:none}.yamb-oknyx_state_suspended.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex::before{opacity:0.6}.yamb-oknyx_state_listening.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex,.yamb-oknyx_state_speaking.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex,.yamb-oknyx_state_suspended.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex,.yamb-oknyx_state_thinking.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex{cursor:pointer}.yamb-oknyx_disabled.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex{cursor:default}.yamb-oknyx_state_listening.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex{animation:svelte-1a5qaex-pulse 0.3s infinite ease-in-out alternate}.yamb-oknyx__svg-wrapper.svelte-1a5qaex.svelte-1a5qaex::after{will-change:contents, animation}.yamb-oknyx_state_thinking.svelte-1a5qaex .yamb-oknyx__svg-wrapper.svelte-1a5qaex::after{content:'';position:absolute;box-shadow:0 -11.6px #fff,\n            -10.1px 5.82px #fff,\n            10.1px 5.82px #fff;height:10px;border-radius:100%;background:transparent;left:calc(50% - 5px);top:calc(50% - 5px);width:10px;z-index:1;animation:svelte-1a5qaex-thinking-scale 0.3s linear,\n            svelte-1a5qaex-thinking 1s 0.3s infinite linear}@keyframes svelte-1a5qaex-thinking-scale{0%{opacity:0;transform:scale(0) rotate(0)}100%{opacity:1;transform:scale(1) rotate(180deg)}}@keyframes svelte-1a5qaex-thinking{0%{transform:scale(1) rotate(180deg)}100%{transform:scale(1) rotate(540deg)}}@keyframes svelte-1a5qaex-pulse{0%{transform:scale(1)}100%{transform:scale(1.2)}}")}function I(t){let n;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class","yamb-oknyx__arrow-wrapper svelte-1a5qaex")},m(t,i){(0,e.$Tr)(t,n,i),n.innerHTML=k},p:e.ZTd,i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function M(t){let n,i,o,r,s,a,l;return a=new x({props:{logo:t[1],state:t[2]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("g"),r=(0,e.bi5)("g"),s=(0,e.bi5)("circle"),(0,e.YCL)(a.$$.fragment),(0,e.Ljt)(s,"cx","28"),(0,e.Ljt)(s,"cy","28"),(0,e.Ljt)(s,"r","28"),(0,e.Ljt)(s,"fill",t[0]),(0,e.Ljt)(r,"transform","translate(-28, -28)"),(0,e.Ljt)(o,"transform","translate(35, 35)"),(0,e.Ljt)(o,"class","yamb-oknyx__circle"),(0,e.Ljt)(i,"viewBox","0 0 70 70"),(0,e.Ljt)(i,"class","svelte-1a5qaex"),(0,e.Ljt)(n,"class","yamb-oknyx__svg-wrapper svelte-1a5qaex")},m(t,c){(0,e.$Tr)(t,n,c),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,r),(0,e.R3I)(r,s),(0,e.yef)(a,r,null),l=!0},p(t,n){(!l||1&n)&&(0,e.Ljt)(s,"fill",t[0]);const i={};2&n&&(i.logo=t[1]),4&n&&(i.state=t[2]),a.$set(i)},i(t){l||((0,e.Ui)(a.$$.fragment,t),l=!0)},o(t){(0,e.etI)(a.$$.fragment,t),l=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(a)}}}function j(t){let n,i,o,r,s,a,l,c,u,d;const p=[M,I],h=[];function m(e,t){return e[4]?0:1}return o=m(t),r=h[o]=p[o](t),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),r.c(),(0,e.Ljt)(i,"class","yamb-oknyx__container svelte-1a5qaex"),(0,e.Ljt)(n,"class",s="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-1a5qaex"),(0,e.Ljt)(n,"aria-label",a=t[5](t[2])),(0,e.Ljt)(n,"tabindex","0"),(0,e.Ljt)(n,"role","button"),(0,e.VHj)(n,"yamb-oknyx_bottom",t[3]),(0,e.VHj)(n,"yamb-oknyx_standalone",!1),(0,e.czc)(n,"--arrow-circle-fill",t[1]===g.z.ALICE?"#7A55FF":"#4E66FE")},m(r,s){(0,e.$Tr)(r,n,s),(0,e.R3I)(n,i),h[o].m(i,null),c=!0,u||(d=[(0,e.TVh)(l=w.call(null,n)),(0,e.oLt)(n,"accessibleclick",t[6]),(0,e.oLt)(n,"touchend",(0,e.AT7)(t[6]),{passive:!1})],u=!0)},p(t,[l]){let u=o;o=m(t),o===u?h[o].p(t,l):((0,e.dvw)(),(0,e.etI)(h[u],1,1,(()=>{h[u]=null})),(0,e.gbL)(),r=h[o],r?r.p(t,l):(r=h[o]=p[o](t),r.c()),(0,e.Ui)(r,1),r.m(i,null)),(!c||6&l&&s!==(s="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-1a5qaex"))&&(0,e.Ljt)(n,"class",s),(!c||4&l&&a!==(a=t[5](t[2])))&&(0,e.Ljt)(n,"aria-label",a),(!c||14&l)&&(0,e.VHj)(n,"yamb-oknyx_bottom",t[3]),(!c||6&l)&&(0,e.VHj)(n,"yamb-oknyx_standalone",!1),2&l&&(0,e.czc)(n,"--arrow-circle-fill",t[1]===g.z.ALICE?"#7A55FF":"#4E66FE")},i(t){c||((0,e.Ui)(r),c=!0)},o(t){(0,e.etI)(r),c=!1},d(t){t&&(0,e.ogt)(n),h[o].d(),u=!1,(0,e.j7q)(d)}}}function S(e,n,i){let{color:o}=n,{logo:r}=n,{state:s}=n,{onClick:a}=n,{isBottomChat:l=!1}=n,{isInputEmpty:c=!0}=n;const u=(0,t.fw)($.el),d=null==u?void 0:u.submitTextInInput;return e.$$set=e=>{"color"in e&&i(0,o=e.color),"logo"in e&&i(1,r=e.logo),"state"in e&&i(2,s=e.state),"onClick"in e&&i(7,a=e.onClick),"isBottomChat"in e&&i(3,l=e.isBottomChat),"isInputEmpty"in e&&i(4,c=e.isInputEmpty)},[o,r,s,l,c,e=>e===g.U.SUSPENDED?"Алиса, начни слушать":"Алиса, стоп",()=>{!c&&d?d():a()},a]}class T extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,S,j,e.N8,{color:0,logo:1,state:2,onClick:7,isBottomChat:3,isInputEmpty:4},C)}}const E=T;var L=s(1538);function D(t){let n;return{c(){n=(0,e.bGB)("div")},m(i,o){(0,e.$Tr)(i,n,o),n.innerHTML=t[0],t[4](n)},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[4](null)}}}function z(n,i,o){let r,{svgFile:s}=i,{loop:a=!1}=i,{onCycleEnd:l=L.Z}=i;return(0,t.H3)((()=>{var e,t;null===(e=r.querySelector("svg"))||void 0===e||e.focus(),null===(t=r.querySelector("animateTransform"))||void 0===t||t.addEventListener("endEvent",(()=>{l(),a&&r.querySelectorAll("animateMotion, animate, animateTransform").forEach((e=>{e.beginElement()}))}),!1)})),n.$$set=e=>{"svgFile"in e&&o(0,s=e.svgFile),"loop"in e&&o(2,a=e.loop),"onCycleEnd"in e&&o(3,l=e.onCycleEnd)},[s,r,a,l,function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(1,r)}))}]}class O extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,z,D,e.N8,{svgFile:0,loop:2,onCycleEnd:3})}}const A=O,N='<svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    width="2000"\n    height="2000"\n    viewBox="0 0 2000 2000"\n    style="width:100%;height:100%"\n>\n    <defs>\n        <animateTransform\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_1_G"\n            fill="freeze"\n            attributeName="transform"\n            from="1.33 1.33"\n            to="2 2"\n            type="scale"\n            additive="sum"\n            keyTimes="0;0.4237288;0.5423729;0.6779661;1"\n            values="1.33 1.33;2 2;2.076 2.076;2 2;2 2"\n            keySplines="0.51 0 0.833 0.746;0.319 1 0.602 1;0.178 0.279 0.594 1;0 0 0 0"\n            calcMode="spline"\n        />\n        <animateTransform\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_1_G"\n            fill="freeze"\n            attributeName="transform"\n            from="-960 -540"\n            to="-960 -540"\n            type="translate"\n            additive="sum"\n            keyTimes="0;1"\n            values="-960 -540;-960 -540"\n            keySplines="0 0 1 1"\n            calcMode="spline"\n        />\n        <animate\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0"\n            fill="freeze"\n            attributeName="d"\n            attributeType="XML"\n            from="M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z "\n            to="M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z "\n            keyTimes="0;0.0000169;0.2712025;1"\n            values="M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z ;M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z ;M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z ;M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z "\n            keySplines="0.167 0 0.833 0.74;0.167 0 0.833 0.74;0 0 0 0"\n            calcMode="spline"\n        />\n        <animateMotion\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_0_G"\n            fill="freeze"\n            keyTimes="0;0.2198983;0.3366102;0.4647627;0.7627078;1"\n            path="M1000.08 999.71 C1000.08,999.71 971.76,825.13 1108.08,819.71 C1199.45,816.08 1240.88,925.85 1244.44,990.93 C1248,1056 1207.06,1159.48 1120.66,1147.92 C1024.41,1135.05 1000.08,999.71 1000.08,999.71 C1000.08,999.71 1000.08,999.71 1000.08,999.71 "\n            keyPoints="0;0.26;0.53;0.78;1;1"\n            keySplines="0.373 0 0.683 0.43;0.323 0.308 0.65 0.656;0.308 0.353 0.635 0.7;0.273 0.581 0.594 1;0 0 0 0"\n            calcMode="spline"\n        />\n        <animateTransform\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_0_G"\n            fill="freeze"\n            attributeName="transform"\n            from="1 1"\n            to="1.1 1.1"\n            type="scale"\n            additive="sum"\n            keyTimes="0;0.3559153;0.7627078;1"\n            values="1 1;0.6 0.6;1.1 1.1;1.1 1.1"\n            keySplines="0.21 0 0.543 1;0.28 0 0.614 1;0 0 0 0"\n            calcMode="spline"\n        />\n        <animateTransform\n            repeatCount="1"\n            dur="0.9833333s"\n            begin="0s"\n            xlink:href="#_R_G_L_0_G"\n            fill="freeze"\n            attributeName="transform"\n            from="5.4 162.377"\n            to="5.4 162.377"\n            type="translate"\n            additive="sum"\n            keyTimes="0;1"\n            values="5.4 162.377;5.4 162.377"\n            keySplines="0 0 1 1"\n            calcMode="spline"\n        />\n    </defs>\n    <g id="_R_G">\n        <g id="_R_G_L_1_G" transform=" translate(999.846, 1000.576)">\n            <path\n                id="_R_G_L_1_G_D_0_P_0"\n                fill="#7A55FF"\n                fill-opacity="1"\n                fill-rule="nonzero"\n                d=" M1330.42 539.59 C1330.42,744.11 1164.62,909.9 960.11,909.9 C755.59,909.9 589.8,744.11 589.8,539.59 C589.8,335.07 755.59,169.28 960.11,169.28 C1164.62,169.28 1330.42,335.07 1330.42,539.59z "\n            />\n        </g>\n        <g id="_R_G_L_0_G">\n            <path\n                id="_R_G_L_0_G_D_0_P_0"\n                fill="#ffffff"\n                fill-opacity="1"\n                fill-rule="nonzero"\n                d=" M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z "\n            />\n        </g>\n    </g>\n</svg>',R='<svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    width="2000"\n    height="2000"\n    viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <defs>\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_7_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1.2 1.2" to="1.2 1.2" type="scale" additive="sum"\n            keyTimes="0;0.2977984;0.5;0.7977984;1"\n            values="1.2 1.2;1.51 1.51;1.2 1.2;1.51 1.51;1.2 1.2"\n            keySplines="0.613 0 0.884 1;0.174 0 0.833 1;0.613 0 0.884 1;0.174 0 0.833 1"\n            calcMode="spline" />\n        <animateMotion repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_6_G"\n            fill="freeze" keyTimes="0;1"\n            path="M1000.08 999.71 C1000.08,999.71 1000.08,999.71 1000.08,999.71 " keyPoints="0;1"\n            keySplines="0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_6_G" fill="freeze" attributeName="transform" from="0.94 0.94"\n            to="0.94 0.94" type="scale" additive="sum"\n            keyTimes="0;0.25;0.499996;0.500004;0.749996;0.9959708;1"\n            values="0.94 0.94;1.6 1.6;1.1 1.1;1.1 1.1;1.6 1.6;0.94 0.94;0.94 0.94"\n            keySplines="0.5 0 0.5 1;0.5 0 0.633 1;0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_6_G" fill="freeze" attributeName="transform" from="5.4 162.377"\n            to="5.4 162.377" type="translate" additive="sum" keyTimes="0;1"\n            values="5.4 162.377;5.4 162.377" keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_5_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="6.5 6.5" type="scale" additive="sum" keyTimes="0;0.6814516;1"\n            values="6.5 6.5;6.5 6.5;6.5 6.5" keySplines="0.82 0 0.854 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_5_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_5_G"\n            fill="freeze" attributeName="opacity" from="0" to="0" keyTimes="0;0.6814516;1"\n            values="0;0;0" keySplines="0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_5_G_M"\n            fill="freeze" attributeName="opacity" from="0" to="1" keyTimes="0;0.6814516;0.681452;1"\n            values="0;0;1;1" keySplines="0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_4_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="1 1" type="scale" additive="sum" keyTimes="0;0.5604839;0.9112931;1"\n            values="6.5 6.5;6.5 6.5;1 1;1 1" keySplines="0.82 0 0.854 1;0.82 0 0.854 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_4_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_4_G"\n            fill="freeze" attributeName="opacity" from="0" to="0.08"\n            keyTimes="0;0.5604839;0.9112931;1" values="0;0;0.08;0.08"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_4_G_M"\n            fill="freeze" attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.5604839;0.5604843;0.9153226;0.9153226;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_3_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="1 1" type="scale" additive="sum" keyTimes="0;0.4112903;0.7620995;1"\n            values="6.5 6.5;6.5 6.5;1 1;1 1" keySplines="0.82 0 0.854 1;0.82 0 0.854 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_3_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_3_G"\n            fill="freeze" attributeName="opacity" from="0" to="0.08"\n            keyTimes="0;0.4112903;0.7620995;1" values="0;0;0.08;0.08"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_3_G_M"\n            fill="freeze" attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.4112903;0.4112907;0.766129;0.766129;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_2_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="1 1" type="scale" additive="sum" keyTimes="0;0.2701613;0.6209705;1"\n            values="6.5 6.5;6.5 6.5;1 1;1 1" keySplines="0.82 0 0.854 1;0.82 0 0.854 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_2_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_2_G"\n            fill="freeze" attributeName="opacity" from="0" to="0.08"\n            keyTimes="0;0.2701613;0.6209705;1" values="0;0;0.08;0.08"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_2_G_M"\n            fill="freeze" attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.2701613;0.2701617;0.625;0.625;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="1 1" type="scale" additive="sum" keyTimes="0;0.1491935;0.5000027;1"\n            values="6.5 6.5;6.5 6.5;1 1;1 1" keySplines="0.82 0 0.854 1;0.82 0 0.854 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_1_G"\n            fill="freeze" attributeName="opacity" from="0" to="0.08"\n            keyTimes="0;0.1491935;0.5000027;1" values="0;0;0.08;0.08"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_1_G_M"\n            fill="freeze" attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.1491935;0.149194;0.5040323;0.5040323;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="6.5 6.5" to="1 1" type="scale" additive="sum" keyTimes="0;0.3508092;1"\n            values="6.5 6.5;1 1;1 1" keySplines="0.82 0 0.854 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="4.1333333s" begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0_G_1_T_0" fill="freeze" attributeName="transform"\n            from="2.586 -33.492" to="2.586 -33.492" type="translate" additive="sum" keyTimes="0;1"\n            values="2.586 -33.492;2.586 -33.492" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" attributeName="opacity" from="0" to="0.08" keyTimes="0;0.3508092;1"\n            values="0;0.08;0.08" keySplines="0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="4.1333333s" begin="0s" xlink:href="#_R_G_L_0_G_M"\n            fill="freeze" attributeName="opacity" from="1" to="0" keyTimes="0;0.3548387;0.3548387;1"\n            values="1;1;0;0" keySplines="0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n    </defs>\n    <g id="_R_G">\n        <g id="_R_G_L_7_G"\n            transform=" translate(999.846, 1000.576) scale(2, 2) translate(-960, -540)">\n            <g id="_R_G_L_7_G_D_0_P_0_G_0_T_0" transform=" translate(960.11, 539.589)">\n                <path id="_R_G_L_7_G_D_0_P_0" fill="#7A55FF" fill-opacity="1" fill-rule="nonzero"\n                    d=" M308.59 0 C308.59,170.43 170.43,308.59 0,308.59 C-170.43,308.59 -308.59,170.43 -308.59,0 C-308.59,-170.43 -170.43,-308.59 0,-308.59 C170.43,-308.59 308.59,-170.43 308.59,0z " />\n            </g>\n        </g>\n        <g id="_R_G_L_6_G">\n            <path id="_R_G_L_6_G_D_0_P_0" fill="#ffffff" fill-opacity="1" fill-rule="nonzero"\n                d=" M-5.5 5.29 C-9.5,5.29 -13.47,5.15 -17.39,4.86 C-66.24,1.51 -109.33,-22.73 -137.81,-58.96 C-160.26,-87.52 -173.5,-123.65 -173.37,-162.86 C-173.24,-255.56 -98.09,-330.72 -5.49,-330.72 C87.1,-330.72 162.25,-255.56 162.38,-162.86 C162.51,-134.01 155.38,-106.83 142.64,-83.15 C114.32,-30.5 58.59,5.3 -5.5,5.29z " />\n        </g>\n        <g id="_R_G_L_5_G_M">\n            <g id="_R_G_L_5_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_5_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_5_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_5_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n        <g id="_R_G_L_4_G_M">\n            <g id="_R_G_L_4_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_4_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_4_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_4_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n        <g id="_R_G_L_3_G_M">\n            <g id="_R_G_L_3_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_3_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_3_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_3_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n        <g id="_R_G_L_2_G_M">\n            <g id="_R_G_L_2_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_2_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_2_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_2_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n        <g id="_R_G_L_1_G_M">\n            <g id="_R_G_L_1_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_1_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_1_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_1_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n        <g id="_R_G_L_0_G_M">\n            <g id="_R_G_L_0_G" transform=" translate(1000.077, 999.711) translate(5.4, 162.377)">\n                <g id="_R_G_L_0_G_D_0_P_0_G_0_T_0">\n                    <g id="_R_G_L_0_G_D_0_P_0_G_1_T_0" transform=" translate(-5.568, -162.49)">\n                        <path id="_R_G_L_0_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                            fill-rule="nonzero"\n                            d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',B='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    preserveAspectRatio="xMidYMid meet" width="2000" height="2000" viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <defs>\n        <animateMotion repeatCount="1" dur="1.55s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_0_T_0" fill="freeze"\n            keyTimes="0;0.3763441;0.683043;0.9892473;1"\n            path="M960.11 539.59 C952.59,539.59 915,539.59 915,539.59 C915,539.59 945.09,539.59 960.11,539.59 C975.13,539.59 997.61,539.59 1005.11,539.59 C1005.11,539.59 1005.11,539.59 1005.11,539.59 "\n            keyPoints="0;0.33;0.67;1;1"\n            keySplines="0.331 0.484 0.667 1;0.333 0 0.667 0.5;0.333 0.5 0.667 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.55s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1.2 1.2" to="1.2 1.2" type="scale" additive="sum" keyTimes="0;1"\n            values="1.2 1.2;1.2 1.2" keySplines="0 0 1 1" calcMode="spline" />\n        <animateMotion repeatCount="1" dur="1.55s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" keyTimes="0;0.3763333;0.6828602;0.9892535;1"\n            path="M999.98 999.66 C872.67,999.65 687.93,1019.95 687.6,1039.2 C687.26,1058.45 891.66,1076.74 999.98,1076.74 C1144.29,1076.74 1307.03,1061.48 1307.87,1041.21 C1307.87,1041.21 1307.87,1041.21 1307.87,1041.21 "\n            keyPoints="0;0.34;0.67;1;1"\n            keySplines="0 0 0.45 0.915;0.452 0.057 0.725 0.529;0.272 0.472 0.547 0.942;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.55s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" attributeName="transform" from="1.1 1.1"\n            to="0.8894799999999999 0.8894799999999999" type="scale" additive="sum"\n            keyTimes="0;0.6666667;0.9892535;1"\n            values="1.1 1.1;1.1 1.1;0.8894799999999999 0.8894799999999999;0.8894799999999999 0.8894799999999999"\n            keySplines="0.5 0 0.5 1;0.494 0 0.752 0.489;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.55s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" attributeName="transform" from="5.4 162.377" to="5.4 162.377"\n            type="translate" additive="sum" keyTimes="0;1" values="5.4 162.377;5.4 162.377"\n            keySplines="0 0 1 1" calcMode="spline" />\n    </defs>\n    <g id="_R_G">\n        <g id="_R_G_L_1_G"\n            transform=" translate(999.846, 1000.576) scale(2, 2) translate(-960, -540)">\n            <g id="_R_G_L_1_G_D_0_P_0_G_0_T_0">\n                <path id="_R_G_L_1_G_D_0_P_0" fill="#7A55FF" fill-opacity="1" fill-rule="nonzero"\n                    d=" M308.59 0 C308.59,170.43 170.43,308.59 0,308.59 C-170.43,308.59 -308.59,170.43 -308.59,0 C-308.59,-170.43 -170.43,-308.59 0,-308.59 C170.43,-308.59 308.59,-170.43 308.59,0z " />\n            </g>\n        </g>\n        <g id="_R_G_L_0_G">\n            <path id="_R_G_L_0_G_D_0_P_0" fill="#ffffff" fill-opacity="1" fill-rule="nonzero"\n                d=" M-5.77 -13.28 C-9.2,-13.28 -12.6,-13.41 -15.96,-13.65 C-57.83,-16.52 -94.77,-37.29 -119.18,-68.36 C-138.42,-92.84 -149.77,-123.8 -149.66,-157.41 C-149.55,-236.87 -85.13,-301.29 -5.77,-301.29 C73.6,-301.29 138.02,-236.87 138.13,-157.41 C138.24,-132.69 132.15,-109.38 121.21,-89.09 C96.93,-43.96 49.16,-13.28 -5.77,-13.28z " />\n        </g>\n    </g>\n</svg>',P='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    preserveAspectRatio="xMidYMid meet" width="2000" height="2000" viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <defs>\n        <animateMotion repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_0_T_0" fill="freeze"\n            keyTimes="0;0.256;0.552;0.772168;0.992;1"\n            path="M1005.11 539.59 C1005.11,539.59 975.13,539.59 960.11,539.59 C945.09,539.59 915,539.59 915,539.59 C915,539.59 945.09,539.59 960.11,539.59 C975.13,539.59 1005.11,539.59 1005.11,539.59 C1005.11,539.59 1005.11,539.59 1005.11,539.59 "\n            keyPoints="0;0.25;0.5;0.75;1;1"\n            keySplines="0.333 0 0.657 0.483;0.331 0.511 0.667 1;0.333 0 0.667 0.5;0.333 0.5 0.667 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_1_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1.2 1.2" to="1.2 1.2" type="scale" additive="sum" keyTimes="0;1"\n            values="1.2 1.2;1.2 1.2" keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1 1" to="1.2 1.2" type="scale" additive="sum" keyTimes="0;0;1"\n            values="1 1;1.2 1.2;1.2 1.2" keySplines="0.167 0.167 0.833 0.833;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="2.982 186.104" to="2.982 186.104" type="translate" additive="sum" keyTimes="0;1"\n            values="2.982 186.104;2.982 186.104" keySplines="0 0 1 1" calcMode="spline" />\n        <animateMotion repeatCount="1" dur="2.0833333s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" keyTimes="0;0.000008;0.255992;0.533752;0.763224;0.9919995;1"\n            path="M1307.87 1041.21 C1307.87,1041.21 1307.87,1041.21 1307.87,1041.21 C1308.7,1020.93 1120.46,999.81 999.98,999.66 C879.5,999.5 687.43,1019.95 687.1,1039.2 C686.76,1058.45 891.66,1076.74 999.98,1076.74 C1144.29,1076.74 1306.03,1061.48 1306.87,1041.21 C1306.87,1041.21 1306.87,1041.21 1306.87,1041.21 "\n            keyPoints="0;0;0.25;0.5;0.75;1;1"\n            keySplines="0.402 0.057 0.854 0.793;0.402 0.057 0.854 0.793;0 0 0.45 0.916;0.452 0.057 0.725 0.53;0.272 0.472 0.547 0.942;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G" fill="freeze" attributeName="transform"\n            from="0.8894799999999999 0.8894799999999999" to="0.8895000000000001 0.8895000000000001"\n            type="scale" additive="sum" keyTimes="0;0.000008;0.255992;0.751992;0.9919995;1"\n            values="0.8894799999999999 0.8894799999999999;0.8894799999999999 0.8894799999999999;0.65 0.65;1.1 1.1;0.8895000000000001 0.8895000000000001;0.8895000000000001 0.8895000000000001"\n            keySplines="0.253 0.489 0.495 1;0.253 0.489 0.495 1;0.5 0 0.5 1;0.494 0 0.752 0.489;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G" fill="freeze" attributeName="transform" from="5.4 162.377"\n            to="5.4 162.377" type="translate" additive="sum" keyTimes="0;1"\n            values="5.4 162.377;5.4 162.377" keySplines="0 0 1 1" calcMode="spline" />\n    </defs>\n    <g id="_R_G">\n        <g transform=" translate(999.846, 1000.576) scale(2, 2) translate(-960, -540)">\n            <g id="_R_G_L_1_G_D_0_P_0_G_0_T_0">\n                <path id="_R_G_L_1_G_D_0_P_0" fill="#7A55FF" fill-opacity="1" fill-rule="nonzero"\n                    d=" M308.59 0 C308.59,170.43 170.43,308.59 0,308.59 C-170.43,308.59 -308.59,170.43 -308.59,0 C-308.59,-170.43 -170.43,-308.59 0,-308.59 C170.43,-308.59 308.59,-170.43 308.59,0z " />\n            </g>\n        </g>\n        <g id="_R_G_L_0_G">\n            <g id="_R_G_L_0_G_D_0_P_0_G_0_T_0" transform=" translate(-2.982, -186.104)">\n                <g id="_R_G_L_0_G_D_0_P_0_G_1_T_0"\n                    transform=" translate(-2.982, -195.982) translate(0, 0)">\n                    <path id="_R_G_L_0_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                        fill-rule="nonzero"\n                        d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',H='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    preserveAspectRatio="xMidYMid meet" width="2000" height="2000" viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <defs>\n        <animateMotion repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_1_G_D_0_P_0_G_0_T_0" fill="freeze"\n            keyTimes="0;0.256;0.552;0.772168;0.992;1"\n            path="M1005.11 539.59 C1005.11,539.59 975.13,539.59 960.11,539.59 C945.09,539.59 915,539.59 915,539.59 C915,539.59 945.09,539.59 960.11,539.59 C975.13,539.59 1005.11,539.59 1005.11,539.59 C1005.11,539.59 1005.11,539.59 1005.11,539.59 "\n            keyPoints="0;0.25;0.5;0.75;1;1"\n            keySplines="0.333 0 0.657 0.483;0.331 0.511 0.667 1;0.333 0 0.667 0.5;0.333 0.5 0.667 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_1_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1.2 1.2" to="1.2 1.2" type="scale" additive="sum" keyTimes="0;1"\n            values="1.2 1.2;1.2 1.2" keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_0_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="1 1" to="1.2 1.2" type="scale" additive="sum" keyTimes="0;0;1"\n            values="1 1;1.2 1.2;1.2 1.2" keySplines="0.167 0.167 0.833 0.833;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_0_G_D_0_P_0_G_0_T_0" fill="freeze" attributeName="transform"\n            from="2.982 186.104" to="2.982 186.104" type="translate" additive="sum" keyTimes="0;1"\n            values="2.982 186.104;2.982 186.104" keySplines="0 0 1 1" calcMode="spline" />\n        <animateMotion repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_0_G"\n            fill="freeze" keyTimes="0;0.000008;0.255992;0.533752;0.763224;0.9919995;1"\n            path="M1307.87 1041.21 C1307.87,1041.21 1307.87,1041.21 1307.87,1041.21 C1308.7,1020.93 1120.46,999.81 999.98,999.66 C879.5,999.5 687.43,1019.95 687.1,1039.2 C686.76,1058.45 891.66,1076.74 999.98,1076.74 C1144.29,1076.74 1306.03,1061.48 1306.87,1041.21 C1306.87,1041.21 1306.87,1041.21 1306.87,1041.21 "\n            keyPoints="0;0;0.25;0.5;0.75;1;1"\n            keySplines="0.402 0.057 0.854 0.793;0.402 0.057 0.854 0.793;0 0 0.45 0.916;0.452 0.057 0.725 0.53;0.272 0.472 0.547 0.942;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_0_G" fill="freeze" attributeName="transform"\n            from="0.8894799999999999 0.8894799999999999" to="0.8895000000000001 0.8895000000000001"\n            type="scale" additive="sum" keyTimes="0;0.000008;0.255992;0.751992;0.9919995;1"\n            values="0.8894799999999999 0.8894799999999999;0.8894799999999999 0.8894799999999999;0.65 0.65;1.1 1.1;0.8895000000000001 0.8895000000000001;0.8895000000000001 0.8895000000000001"\n            keySplines="0.253 0.489 0.495 1;0.253 0.489 0.495 1;0.5 0 0.5 1;0.494 0 0.752 0.489;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="2.0833333s" begin="0s" end="0.52s"\n            xlink:href="#_R_L_0_G" fill="freeze" attributeName="transform" from="5.4 162.377"\n            to="5.4 162.377" type="translate" additive="sum" keyTimes="0;1"\n            values="5.4 162.377;5.4 162.377" keySplines="0 0 1 1" calcMode="spline" />\n    </defs>\n    <g id="_R">\n        <g transform=" translate(999.846, 1000.576) scale(2, 2) translate(-960, -540)">\n            <g id="_R_L_1_G_D_0_P_0_G_0_T_0">\n                <path id="_R_L_1_G_D_0_P_0" fill="#7A55FF" fill-opacity="1" fill-rule="nonzero"\n                    d=" M308.59 0 C308.59,170.43 170.43,308.59 0,308.59 C-170.43,308.59 -308.59,170.43 -308.59,0 C-308.59,-170.43 -170.43,-308.59 0,-308.59 C170.43,-308.59 308.59,-170.43 308.59,0z " />\n            </g>\n        </g>\n        <g id="_R_L_0_G">\n            <g id="_R_L_0_G_D_0_P_0_G_0_T_0" transform=" translate(-2.982, -186.104)">\n                <g id="_R_L_0_G_D_0_P_0_G_1_T_0"\n                    transform=" translate(-2.982, -195.982) translate(0, 0)">\n                    <path id="_R_L_0_G_D_0_P_0" fill="#ffffff" fill-opacity="1"\n                        fill-rule="nonzero"\n                        d=" M-2.32 153.9 C-5.18,153.9 -8.02,153.79 -10.81,153.59 C-45.71,151.2 -76.49,133.89 -96.83,108 C-112.86,87.6 -122.33,61.8 -122.23,33.79 C-122.14,-32.43 -68.46,-86.11 -2.32,-86.11 C63.82,-86.11 117.5,-32.43 117.59,33.79 C117.69,54.39 112.61,73.82 103.49,90.72 C83.26,128.33 43.45,153.9 -2.32,153.9z " />\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',U='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2000"\n    height="2000" viewBox="0 0 2000 2000" style="width:100%;height:100%">\n    <defs>\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#a"\n            fill="freeze" attributeName="transform" from="1.2 1.2" to="1.2 1.2" type="scale"\n            additive="sum" keyTimes="0;0.1361702;0.5787234;0.6808511;1"\n            values="1.2 1.2;1.57 1.57;1.2 1.2;1.57 1.57;1.2 1.2"\n            keySplines="0.215 0 0.209 1;0.385 0 0.652 1;0.215 0 0.209 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#b"\n            fill="freeze" attributeName="transform" from="0.927 0.927" to="0.927 0.927" type="scale"\n            additive="sum"\n            keyTimes="0;0.0170213;0.0808553;0.0978766;0.2340426;0.2510638;0.2893617;0.306383;0.3702128;0.3872383;0.5021234;0.5191447;0.5829787;0.6;0.6468085;0.6638298;0.6893617;0.7063872;0.7914851;0.8085064;0.8723404;0.8893617;0.9787247;1"\n            values="0.927 0.927;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;0.85 0.85;1.6 1.6;1.1 1.1;0.927 0.927"\n            keySplines="0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.167 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#b"\n            fill="freeze" attributeName="transform" from="5.4 162.377" to="5.4 162.377"\n            type="translate" additive="sum" keyTimes="0;1" values="5.4 162.377;5.4 162.377"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#c"\n            fill="freeze" attributeName="transform" from="0 0" to="0 0" type="scale" additive="sum"\n            keyTimes="0;0.6893617;1" values="0 0;0 0;0 0" keySplines="0.146 0 0.18 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#c"\n            fill="freeze" attributeName="transform" from="2.586 -33.492" to="2.586 -33.492"\n            type="translate" additive="sum" keyTimes="0;1" values="2.586 -33.492;2.586 -33.492"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#f"\n            fill="freeze" attributeName="transform" from="0 0" to="7 7" type="scale" additive="sum"\n            keyTimes="0;0.5234043;0.8936199;1" values="0 0;0 0;7 7;7 7"\n            keySplines="0.146 0 0.18 1;0.146 0 0.18 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#f"\n            fill="freeze" attributeName="transform" from="2.586 -33.492" to="2.586 -33.492"\n            type="translate" additive="sum" keyTimes="0;1" values="2.586 -33.492;2.586 -33.492"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#i"\n            fill="freeze" attributeName="transform" from="0 0" to="7 7" type="scale" additive="sum"\n            keyTimes="0;0.2723404;0.6425561;1" values="0 0;0 0;7 7;7 7"\n            keySplines="0.146 0 0.18 1;0.146 0 0.18 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#i"\n            fill="freeze" attributeName="transform" from="2.586 -33.492" to="2.586 -33.492"\n            type="translate" additive="sum" keyTimes="0;1" values="2.586 -33.492;2.586 -33.492"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#l"\n            fill="freeze" attributeName="transform" from="0 0" to="7 7" type="scale" additive="sum"\n            keyTimes="0;0.1574468;0.5276625;1" values="0 0;0 0;7 7;7 7"\n            keySplines="0.146 0 0.18 1;0.146 0 0.18 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#l"\n            fill="freeze" attributeName="transform" from="2.586 -33.492" to="2.586 -33.492"\n            type="translate" additive="sum" keyTimes="0;1" values="2.586 -33.492;2.586 -33.492"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#o"\n            fill="freeze" attributeName="transform" from="0 0" to="7 7" type="scale" additive="sum"\n            keyTimes="0;0.361705;1" values="0 0;7 7;7 7" keySplines="0.146 0 0.18 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#o"\n            fill="freeze" attributeName="transform" from="2.586 -33.492" to="2.586 -33.492"\n            type="translate" additive="sum" keyTimes="0;1" values="2.586 -33.492;2.586 -33.492"\n            keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#d" fill="freeze"\n            attributeName="opacity" from=".1" to=".1" keyTimes="0;0.6893617;1"\n            values="0.08;0.08;0.08" keySplines="0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#e" fill="freeze"\n            attributeName="opacity" from="0" to="1" keyTimes="0;0.6893617;0.6893621;1"\n            values="0;0;1;1" keySplines="0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#g" fill="freeze"\n            attributeName="opacity" from=".1" to="0" keyTimes="0;0.5234043;0.8936199;1"\n            values="0.08;0.08;0;0"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#h" fill="freeze"\n            attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.5234043;0.5234047;0.8978723;0.8978723;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#j" fill="freeze"\n            attributeName="opacity" from=".1" to="0" keyTimes="0;0.2723404;0.6425561;1"\n            values="0.08;0.08;0;0"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#k" fill="freeze"\n            attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.2723404;0.2723409;0.6468085;0.6468085;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#m" fill="freeze"\n            attributeName="opacity" from=".1" to="0" keyTimes="0;0.1574468;0.5276625;1"\n            values="0.08;0.08;0;0"\n            keySplines="0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#n" fill="freeze"\n            attributeName="opacity" from="0" to="0"\n            keyTimes="0;0.1574468;0.1574472;0.5319149;0.5319149;1" values="0;0;1;1;0;0"\n            keySplines="0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#p" fill="freeze"\n            attributeName="opacity" from=".1" to="0" keyTimes="0;0.361705;1" values="0.08;0;0"\n            keySplines="0.167 0.167 0.833 0.833;0 0 0 0" calcMode="spline" />\n        <animate repeatCount="1" dur="3.9166667s" begin="0s" xlink:href="#q" fill="freeze"\n            attributeName="opacity" from="1" to="0" keyTimes="0;0.3659574;0.3659575;1"\n            values="1;1;0;0" keySplines="0 0 0 0;0 0 0 0;0 0 0 0" calcMode="spline" />\n    </defs>\n    <g transform="matrix(2 0 0 2 -920 -79)">\n        <path fill="#7A55FF" d="M309 0a309 309 0 1 1-618 0 309 309 0 0 1 618 0z"\n            transform="translate(960 540)" id="a" />\n    </g>\n    <path fill="#fff" d="M-5 5h-12A168 168 0 1 1-5 5z" transform="translate(1000 1000)" id="b" />\n    <g id="e">\n        <g transform="translate(1005 1162)" id="d">\n            <path fill="#fff" d="M-2 154h-9A120 120 0 0 1-122 34 120 120 0 1 1-2 154z"\n                transform="translate(-6 -162)" id="c" />\n        </g>\n    </g>\n    <g id="h">\n        <g transform="translate(1005 1162)" id="g">\n            <path fill="#fff" d="M-2 154h-9A120 120 0 0 1-122 34 120 120 0 1 1-2 154z"\n                transform="translate(-6 -162)" id="f" />\n        </g>\n    </g>\n    <g id="k">\n        <g transform="translate(1005 1162)" id="j">\n            <path fill="#fff" d="M-2 154h-9A120 120 0 0 1-122 34 120 120 0 1 1-2 154z"\n                transform="translate(-6 -162)" id="i" />\n        </g>\n    </g>\n    <g id="n">\n        <g transform="translate(1005 1162)" id="m">\n            <path fill="#fff" d="M-2 154h-9A120 120 0 0 1-122 34 120 120 0 1 1-2 154z"\n                transform="translate(-6 -162)" id="l" />\n        </g>\n    </g>\n    <g id="q">\n        <g transform="translate(1005 1162)" id="p">\n            <path fill="#fff" d="M-2 154h-9A120 120 0 0 1-122 34 120 120 0 1 1-2 154z"\n                transform="translate(-6 -162)" id="o" />\n        </g>\n    </g>\n</svg>\n  ',V='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    preserveAspectRatio="xMidYMid meet" width="2000" height="2000" viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <defs>\n        <animateMotion repeatCount="1" dur="1.2833333s" begin="0s" xlink:href="#_R_G_L_1_G"\n            fill="freeze" keyTimes="0;0;1"\n            path="M1039.85 1000.58 C1046.51,1000.58 1006.51,1000.58 999.85,1000.58 C999.85,1000.58 999.85,1000.58 999.85,1000.58 "\n            keyPoints="0;1;1" keySplines="0.333 0 0.62 0.428;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.2833333s" begin="0s"\n            xlink:href="#_R_G_L_1_G" fill="freeze" attributeName="transform" from="2 2"\n            to="1.33 1.33" type="scale" additive="sum" keyTimes="0;0.3246753;1"\n            values="2 2;1.33 1.33;1.33 1.33" keySplines="0.167 0.254 0.49 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.2833333s" begin="0s"\n            xlink:href="#_R_G_L_1_G" fill="freeze" attributeName="transform" from="-960 -540"\n            to="-960 -540" type="translate" additive="sum" keyTimes="0;1"\n            values="-960 -540;-960 -540" keySplines="0 0 1 1" calcMode="spline" />\n        <animate repeatCount="1" dur="1.2833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G_D_0_P_0" fill="freeze" attributeName="d" attributeType="XML"\n            from="M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z "\n            to="M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z "\n            keyTimes="0;0.3636364;0.6883147;1"\n            values="M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z ;M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z ;M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z ;M-3.95 72.14 C-59.02,71.91 -113.56,65.81 -159.4,54.77 C-205.24,43.72 -242.39,27.74 -262.68,7.77 C-313.08,-41.84 -277.04,-161.74 -214.07,-269.31 C-151.09,-376.87 -61.19,-472.1 -3.84,-472.38 C53.36,-472.1 143.16,-376.9 206.09,-269.36 C269.01,-161.81 305.05,-41.91 254.72,7.77 C214.22,47.75 106.18,71.69 -3.95,72.14z "\n            keySplines="0.167 0.167 0.833 1;0.167 0.167 0.833 1;0 0 0 0" calcMode="spline" />\n        <animateMotion repeatCount="1" dur="1.2833333s" begin="0s" xlink:href="#_R_G_L_0_G"\n            fill="freeze" keyTimes="0;0.000013;0.2214805;0.3273766;0.4712597;0.9870238;1"\n            path="M999.98 999.66 C872.67,999.65 1000.08,999.71 1000.08,999.71 C1000.08,999.71 1005.4,1138.94 910.77,1141.89 C816.14,1144.85 778.61,1090.86 780.3,993.43 C782,896 816.47,838.52 900.24,835.26 C984,832 1000.08,999.71 1000.08,999.71 C1000.08,999.71 1000.08,999.71 1000.08,999.71 "\n            keyPoints="0;0.12;0.31;0.55;0.78;1;1"\n            keySplines="0.167 0 0.747 1;0.479 0 0.753 0.418;0.324 0.298 0.627 0.648;0.265 0.347 0.578 0.696;0.208 0.575 0.51 1;0 0 0 0"\n            calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.2833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G" fill="freeze" attributeName="transform" from="1.1 1.1" to="1 1"\n            type="scale" additive="sum" keyTimes="0;0.000013;0.3636623;0.9870238;1"\n            values="1.1 1.1;1.1 1.1;0.6 0.6;1 1;1 1"\n            keySplines="0.5 0 0.669 1;0.5 0 0.669 1;0.324 0.183 0.667 1;0 0 0 0" calcMode="spline" />\n        <animateTransform repeatCount="1" dur="1.2833333s" begin="0s"\n            xlink:href="#_R_G_L_0_G" fill="freeze" attributeName="transform" from="5.4 162.377"\n            to="5.4 162.377" type="translate" additive="sum" keyTimes="0;1"\n            values="5.4 162.377;5.4 162.377" keySplines="0 0 1 1" calcMode="spline" />\n    </defs>\n    <g id="_R_G">\n        <g id="_R_G_L_1_G">\n            <path id="_R_G_L_1_G_D_0_P_0" fill="#7A55FF" fill-opacity="1" fill-rule="nonzero"\n                d=" M1330.42 539.59 C1330.42,744.11 1164.62,909.9 960.11,909.9 C755.59,909.9 589.8,744.11 589.8,539.59 C589.8,335.07 755.59,169.28 960.11,169.28 C1164.62,169.28 1330.42,335.07 1330.42,539.59z " />\n        </g>\n        <g id="_R_G_L_0_G">\n            <path id="_R_G_L_0_G_D_0_P_0" fill="#ffffff" fill-opacity="1" fill-rule="nonzero"\n                d=" M-5.64 -14.02 C-9.05,-14.02 -12.44,-14.15 -15.79,-14.39 C-57.48,-17.25 -94.26,-37.94 -118.57,-68.87 C-137.73,-93.24 -149.04,-124.08 -148.92,-157.55 C-148.81,-236.67 -84.67,-300.82 -5.64,-300.82 C73.4,-300.82 137.54,-236.67 137.65,-157.55 C137.77,-132.93 131.68,-109.73 120.81,-89.51 C96.63,-44.57 49.06,-14.02 -5.64,-14.02z " />\n        </g>\n    </g>\n</svg>',G='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    preserveAspectRatio="xMidYMid meet" width="2000" height="2000" viewBox="0 0 2000 2000"\n    style="width:100%;height:100%">\n    <path\n        d="M1492.02 999.512C1492.02 1271.52 1271.51 1492.02 999.512 1492.02C727.501 1492.02 507 1271.52 507 999.512C507 727.501 727.501 507 999.512 507C1271.51 507 1492.02 727.501 1492.02 999.512Z"\n        fill="#7A55FF" />\n    <path\n        d="M1000.52 1234.52C945.455 1234.29 890.915 1228.19 845.075 1217.15C799.235 1206.1 762.085 1190.12 741.795 1170.15C691.395 1120.54 727.435 1000.64 790.405 893.07C853.385 785.51 943.285 690.28 1000.63 690C1057.83 690.28 1147.63 785.48 1210.56 893.02C1273.48 1000.57 1309.53 1120.47 1259.2 1170.15C1218.7 1210.13 1110.65 1234.07 1000.52 1234.52Z"\n        fill="white" />\n</svg>\n    ';function q(t){let n,i;return n=new A({props:{svgFile:G}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function F(t){let n,i;return n=new A({props:{svgFile:V,onCycleEnd:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Z(t){let n,i;return n=new A({props:{svgFile:U,onCycleEnd:t[1],loop:!0}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Y(t){let n,i;return n=new A({props:{svgFile:H,onCycleEnd:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function W(t){let n,i;return n=new A({props:{svgFile:P,onCycleEnd:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function X(t){let n,i;return n=new A({props:{svgFile:B,onCycleEnd:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function K(t){let n,i;return n=new A({props:{svgFile:R,onCycleEnd:t[1],loop:!0}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Q(t){let n,i;return n=new A({props:{svgFile:N,onCycleEnd:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p:e.ZTd,i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function J(t){let n,i,o,r,s,a,l,c,u,d,p,h;const g=[Q,K,X,W,Y,Z,F,q],m=[];function f(e,t){return 1&t&&(n=null),1&t&&(i=null),1&t&&(o=null),1&t&&(r=null),1&t&&(s=null),1&t&&(a=null),1&t&&(l=null),1&t&&(c=null),null==n&&(n=!!e[0].like("intro")),n?0:(null==i&&(i=!!e[0].like("listening")),i?1:(null==o&&(o=!!e[0].is("thinking_start")),o?2:(null==r&&(r=!!e[0].is("thinking_loop")),r?3:(null==s&&(s=!!e[0].is("thinking_end")),s?4:(null==a&&(a=!!e[0].like("speaking")),a?5:(null==l&&(l=!!e[0].like("outro")),l?6:(null==c&&(c=!!e[0].like("suspended")),c?7:-1)))))))}return~(u=f(t,-1))&&(d=m[u]=g[u](t)),{c(){d&&d.c(),p=(0,e.cSb)()},m(t,n){~u&&m[u].m(t,n),(0,e.$Tr)(t,p,n),h=!0},p(t,[n]){let i=u;u=f(t,n),u===i?~u&&m[u].p(t,n):(d&&((0,e.dvw)(),(0,e.etI)(m[i],1,1,(()=>{m[i]=null})),(0,e.gbL)()),~u?(d=m[u],d?d.p(t,n):(d=m[u]=g[u](t),d.c()),(0,e.Ui)(d,1),d.m(p.parentNode,p)):d=null)},i(t){h||((0,e.Ui)(d),h=!0)},o(t){(0,e.etI)(d),h=!1},d(t){t&&(0,e.ogt)(p),~u&&m[u].d(t)}}}function ee(e,t,n){let{dialogState:i}=t;class o{constructor(e,t){this.state=e,this.position=t}is(e){return`${this.state}_${this.position}`===e}like(e){return this.state===e}}let r=new o("suspended","loop");const s=new class{constructor(){this.tasks=[]}add(...e){this.tasks.push(...e),this.tryProcessNext()}tryProcessNext(){const e=this.tasks.shift();e&&e.exec()}clear(){this.tasks=[]}};class a{constructor(e){this.animation=e,this.exec=()=>{n(0,r=this.animation)}}}class l{constructor(){this.animationCycleMap={listening:[new a(new o("listening","loop"))],thinking:[new a(new o("thinking","start")),new a(new o("thinking","loop")),new a(new o("thinking","end"))],speaking:[new a(new o("speaking","loop"))],suspended:[]},this.getRelevantActions=()=>{const e=r.state,t=null!=i?i:"suspended";return"suspended"===e?"suspended"!==t?[new a(new o("intro","loop")),new l]:[]:"suspended"===t?[new a(new o("outro","loop")),new a(new o("suspended","loop"))]:[...this.animationCycleMap[t],new l]},this.exec=()=>{s.add(...this.getRelevantActions())}}}const c=function(e,t){let n;return function(...t){null!==n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,t),n=null}),200)}}((()=>{r.like("intro")||(s.clear(),s.add(new l))}));return e.$$set=e=>{"dialogState"in e&&n(2,i=e.dialogState)},e.$$.update=()=>{4&e.$$.dirty&&i&&c()},[r,()=>{s.tryProcessNext()},i]}class te extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ee,J,e.N8,{dialogState:2})}}const ne=te;function ie(t){(0,e.qOq)(t,"svelte-1r31jv6",".yamb-oknyx.svelte-1r31jv6.svelte-1r31jv6{-webkit-tap-highlight-color:transparent;float:right;width:70px;height:70px;padding-left:10px;outline:none}.yamb-oknyx_standalone.svelte-1r31jv6.svelte-1r31jv6{padding:0;width:50px;height:50px}.yamb-oknyx_bottom.svelte-1r31jv6.svelte-1r31jv6{padding-left:3px}.yamb-oknyx__container.svelte-1r31jv6.svelte-1r31jv6{width:70px;height:70px;background:var(--alice-oknyx-background)}.yamb-oknyx_standalone.svelte-1r31jv6 .yamb-oknyx__container.svelte-1r31jv6{width:50px;height:50px}.yamb-oknyx__svg-wrapper.svelte-1r31jv6.svelte-1r31jv6{width:55px;height:55px;position:absolute;z-index:1;margin-top:7.5px;margin-left:7.5px;scale:1.2}.yamb-oknyx_state_listening.svelte-1r31jv6:not(.yamb-oknyx_standalone) .yamb-oknyx__svg-wrapper.svelte-1r31jv6{width:70px;height:70px;margin:0}.yamb-oknyx_standalone.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6{margin-top:-2.5px;margin-left:2.5px}.yamb-oknyx__arrow-wrapper.svelte-1r31jv6.svelte-1r31jv6{width:40px;height:40px;margin-top:5px;margin-left:10px}.yamb-oknyx__arrow-wrapper.svelte-1r31jv6.svelte-1r31jv6{cursor:pointer}.yamb-oknyx__arrow-circle{fill:var(--brand-color)}.yamb-oknyx_state_listening.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6,.yamb-oknyx_state_speaking.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6,.yamb-oknyx_state_suspended.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6,.yamb-oknyx_state_thinking.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6{cursor:pointer}.yamb-oknyx_disabled.svelte-1r31jv6 .yamb-oknyx__svg-wrapper.svelte-1r31jv6{cursor:default}")}function oe(t){let n;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class","yamb-oknyx__arrow-wrapper svelte-1r31jv6")},m(t,i){(0,e.$Tr)(t,n,i),n.innerHTML=k},p:e.ZTd,i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function re(t){let n,i,o;return i=new ne({props:{dialogState:t[1]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","yamb-oknyx__svg-wrapper svelte-1r31jv6")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};2&t&&(n.dialogState=e[1]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function se(t){let n,i,o,r,s,a,l,c,u,d;const p=[re,oe],h=[];function m(e,t){return e[3]?0:1}return o=m(t),r=h[o]=p[o](t),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),r.c(),(0,e.Ljt)(i,"class","yamb-oknyx__container svelte-1r31jv6"),(0,e.Ljt)(n,"class",s="yamb-oknyx yamb-oknyx_state_"+t[1]+" yamb-oknyx_logo_"+t[0]+" svelte-1r31jv6"),(0,e.Ljt)(n,"aria-label",a=t[4](t[1])),(0,e.Ljt)(n,"tabindex","0"),(0,e.Ljt)(n,"role","button"),(0,e.VHj)(n,"yamb-oknyx_bottom",t[2]),(0,e.VHj)(n,"yamb-oknyx_standalone",!1),(0,e.czc)(n,"--arrow-circle-fill",t[0]===g.z.ALICE?"#7A55FF":"#4E66FE")},m(r,s){(0,e.$Tr)(r,n,s),(0,e.R3I)(n,i),h[o].m(i,null),c=!0,u||(d=[(0,e.TVh)(l=w.call(null,n)),(0,e.oLt)(n,"accessibleclick",t[5]),(0,e.oLt)(n,"touchend",(0,e.AT7)(t[5]),{passive:!1})],u=!0)},p(t,[l]){let u=o;o=m(t),o===u?h[o].p(t,l):((0,e.dvw)(),(0,e.etI)(h[u],1,1,(()=>{h[u]=null})),(0,e.gbL)(),r=h[o],r?r.p(t,l):(r=h[o]=p[o](t),r.c()),(0,e.Ui)(r,1),r.m(i,null)),(!c||3&l&&s!==(s="yamb-oknyx yamb-oknyx_state_"+t[1]+" yamb-oknyx_logo_"+t[0]+" svelte-1r31jv6"))&&(0,e.Ljt)(n,"class",s),(!c||2&l&&a!==(a=t[4](t[1])))&&(0,e.Ljt)(n,"aria-label",a),(!c||7&l)&&(0,e.VHj)(n,"yamb-oknyx_bottom",t[2]),(!c||3&l)&&(0,e.VHj)(n,"yamb-oknyx_standalone",!1),1&l&&(0,e.czc)(n,"--arrow-circle-fill",t[0]===g.z.ALICE?"#7A55FF":"#4E66FE")},i(t){c||((0,e.Ui)(r),c=!0)},o(t){(0,e.etI)(r),c=!1},d(t){t&&(0,e.ogt)(n),h[o].d(),u=!1,(0,e.j7q)(d)}}}function ae(e,n,i){let{logo:o}=n,{state:r}=n,{onClick:s}=n,{isBottomChat:a=!1}=n,{isInputEmpty:l=!0}=n;const c=(0,t.fw)($.el),u=null==c?void 0:c.submitTextInInput;return e.$$set=e=>{"logo"in e&&i(0,o=e.logo),"state"in e&&i(1,r=e.state),"onClick"in e&&i(6,s=e.onClick),"isBottomChat"in e&&i(2,a=e.isBottomChat),"isInputEmpty"in e&&i(3,l=e.isInputEmpty)},[o,r,a,l,e=>e===g.U.SUSPENDED?"Алиса, начни слушать":"Алиса, стоп",()=>{!l&&u?u():s()},s]}class le extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ae,se,e.N8,{logo:0,state:1,onClick:6,isBottomChat:2,isInputEmpty:3},ie)}}const ce=le;var ue=s(1735);function de(t){let n,i;return n=new E({props:{color:t[0],logo:t[1],state:t[2],onClick:t[3],isBottomChat:t[4],isInputEmpty:t[5]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t&&(i.color=e[0]),2&t&&(i.logo=e[1]),4&t&&(i.state=e[2]),8&t&&(i.onClick=e[3]),16&t&&(i.isBottomChat=e[4]),32&t&&(i.isInputEmpty=e[5]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function pe(t){let n,i;return n=new ce({props:{logo:t[1],state:t[2],onClick:t[3],isBottomChat:t[4],isInputEmpty:t[5]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.logo=e[1]),4&t&&(i.state=e[2]),8&t&&(i.onClick=e[3]),16&t&&(i.isBottomChat=e[4]),32&t&&(i.isInputEmpty=e[5]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function he(t){let n,i,o,r;const s=[pe,de],a=[];return n=function(e,t){return e[6]?0:1}(t),i=a[n]=s[n](t),{c(){i.c(),o=(0,e.cSb)()},m(t,i){a[n].m(t,i),(0,e.$Tr)(t,o,i),r=!0},p(e,[t]){i.p(e,t)},i(t){r||((0,e.Ui)(i),r=!0)},o(t){(0,e.etI)(i),r=!1},d(t){t&&(0,e.ogt)(o),a[n].d(t)}}}function ge(e,n,i){let{color:o}=n,{logo:r}=n,{state:s}=n,{onClick:a}=n,{isBottomChat:l=!1}=n,{isInputEmpty:c=!0}=n;const{isAliceEnableNewOknyxExp:u}=(0,t.fw)(ue.f1);return e.$$set=e=>{"color"in e&&i(0,o=e.color),"logo"in e&&i(1,r=e.logo),"state"in e&&i(2,s=e.state),"onClick"in e&&i(3,a=e.onClick),"isBottomChat"in e&&i(4,l=e.isBottomChat),"isInputEmpty"in e&&i(5,c=e.isInputEmpty)},[o,r,s,a,l,c,u]}class me extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ge,he,e.N8,{color:0,logo:1,state:2,onClick:3,isBottomChat:4,isInputEmpty:5})}}const fe=me,ve=e=>new Promise((t=>{const n=new IntersectionObserver((i=>{i.forEach((i=>{i.intersectionRatio>=.5&&(n.unobserve(e),t(e))}))}),{threshold:.5});n.observe(e)}));function _e(t){(0,e.qOq)(t,"svelte-1nuzu1u",".alice__suggest.svelte-1nuzu1u{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;padding:14px 18px;font-style:normal;font-weight:500;font-size:14px;line-height:16px;cursor:pointer}.alice__suggest_theme_dark.svelte-1nuzu1u{color:#ffffff;border-color:rgba(122, 85, 255, 0.4)}.alice__suggest_standalone.svelte-1nuzu1u{border-radius:12px;padding:10px 13px;color:var(--text-primary-color);background-color:var(--bg-color);border-color:var(--border-color)}@media(hover: hover) and (pointer: fine){.alice__suggest_standalone.svelte-1nuzu1u:hover{color:var(--brand-color);border-color:var(--alisa-bubble-color)}}")}function be(t){let n,i,o,r,s,a,l=t[0].title+"";return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(l),(0,e.Ljt)(n,"class",o=(0,e.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-1nuzu1u"),(0,e.Ljt)(n,"role","button"),(0,e.Ljt)(n,"tabindex","0"),(0,e.VHj)(n,"alice__suggest_standalone",!1)},m(o,l){(0,e.$Tr)(o,n,l),(0,e.R3I)(n,i),t[8](n),s||(a=[(0,e.TVh)(r=w.call(null,n)),(0,e.oLt)(n,"accessibleclick",t[7])],s=!0)},p(t,[r]){1&r&&l!==(l=t[0].title+"")&&(0,e.rTO)(i,l),8&r&&o!==(o=(0,e.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-1nuzu1u")&&(0,e.Ljt)(n,"class",o),8&r&&(0,e.VHj)(n,"alice__suggest_standalone",!1)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[8](null),s=!1,(0,e.j7q)(a)}}}function ye(n,i,o){let r,{outputBus:s}=i,{suggest:a}=i,{index:l}=i,{onClick:c}=i,{theme:u}=i,{page:d}=i;return(0,t.H3)((()=>{ve(r).then((()=>{s.emit("stat",{path:`${d?d+".":""}suggest.${l}`,eventType:"show",customParams:{title:a.title}})}))})),n.$$set=e=>{"outputBus"in e&&o(5,s=e.outputBus),"suggest"in e&&o(0,a=e.suggest),"index"in e&&o(1,l=e.index),"onClick"in e&&o(2,c=e.onClick),"theme"in e&&o(3,u=e.theme),"page"in e&&o(6,d=e.page)},[a,l,c,u,r,s,d,()=>c(a,l),function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(4,r)}))}]}class xe extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ye,be,e.N8,{outputBus:5,suggest:0,index:1,onClick:2,theme:3,page:6},_e)}}const we=xe;var ke=s(9756);const $e={left:"gallery__arrow_left",right:"gallery__arrow_right"};var Ce=s(3379),Ie=s.n(Ce),Me=s(7795),je=s.n(Me),Se=s(569),Te=s.n(Se),Ee=s(3565),Le=s.n(Ee),De=s(9216),ze=s.n(De),Oe=s(4589),Ae=s.n(Oe),Ne=s(8718),Re={};function Be(t){(0,e.qOq)(t,"svelte-js52r3",".gallery.svelte-js52r3{position:relative}.gallery__list.svelte-js52r3{display:flex;flex-direction:row;padding:0px;gap:7px;position:relative;overflow:scroll;scrollbar-width:none;width:100%}.gallery__list.svelte-js52r3::-webkit-scrollbar{display:none}")}function Pe(t){let n,i,o,r;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)($e.left)+" svelte-js52r3")},m(i,s){(0,e.$Tr)(i,n,s),o||(r=(0,e.oLt)(n,"click",t[15]),o=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,r()}}}function He(t){let n,i,o,r;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)($e.right)+" svelte-js52r3")},m(i,s){(0,e.$Tr)(i,n,s),o||(r=(0,e.oLt)(n,"click",t[16]),o=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,r()}}}function Ue(t){let n,i,o,r,s,a,l,c,u;const d=t[12].default,p=(0,e.nuO)(d,t,t[11],null);let h=t[0]&&t[4]&&Pe(t),g=t[0]&&t[5]&&He(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),p&&p.c(),r=(0,e.DhX)(),h&&h.c(),s=(0,e.DhX)(),g&&g.c(),(0,e.Ljt)(i,"class","gallery__list svelte-js52r3"),(0,e.Ljt)(n,"class",a="gallery gallery_theme_"+t[2]+" svelte-js52r3"),(0,e.czc)(n,"--button-width",t[3]?t[3]+"px":"")},m(a,d){(0,e.$Tr)(a,n,d),(0,e.R3I)(n,i),p&&p.m(i,null),t[13](i),(0,e.R3I)(n,r),h&&h.m(n,null),(0,e.R3I)(n,s),g&&g.m(n,null),l=!0,c||(u=[(0,e.oLt)(i,"scroll",(function(){(0,e.sBU)(t[7]&&t[0]?t[8]:null)&&(t[7]&&t[0]?t[8]:null).apply(this,arguments)})),(0,e.TVh)(o=ke.x.call(null,i)),(0,e.oLt)(i,"horizontalmovechange",t[14])],c=!0)},p(i,[o]){t=i,p&&p.p&&(!l||2048&o)&&(0,e.kmG)(p,d,t,t[11],l?(0,e.u2N)(d,t[11],o,null):(0,e.VOJ)(t[11]),null),t[0]&&t[4]?h?h.p(t,o):(h=Pe(t),h.c(),h.m(n,s)):h&&(h.d(1),h=null),t[0]&&t[5]?g?g.p(t,o):(g=He(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),(!l||4&o&&a!==(a="gallery gallery_theme_"+t[2]+" svelte-js52r3"))&&(0,e.Ljt)(n,"class",a),8&o&&(0,e.czc)(n,"--button-width",t[3]?t[3]+"px":"")},i(t){l||((0,e.Ui)(p,t),l=!0)},o(t){(0,e.etI)(p,t),l=!1},d(i){i&&(0,e.ogt)(n),p&&p.d(i),t[13](null),h&&h.d(),g&&g.d(),c=!1,(0,e.j7q)(u)}}}function Ve(n,i,o){let r,{$$slots:s={},$$scope:a}=i,{isDesktop:l}=i,{onHorizontalMoveChange:c=(()=>{})}=i,{setListElement:u=(()=>{})}=i,{theme:d}=i,{buttonWidth:p}=i,h=!1,g=!1,m=!1;function f(){const e=r.scrollLeft,t=r.scrollWidth,n=r.offsetWidth;o(4,h=e>2),o(5,g=e+n<t-2)}function v(e){r.scroll({left:r.scrollLeft+.75*r.offsetWidth*("right"===e?1:-1),behavior:"smooth"})}return(0,t.H3)((()=>{o(7,m=!0),u(r),l&&f()})),(0,t.ev)((()=>{o(7,m=!1)})),n.$$set=e=>{"isDesktop"in e&&o(0,l=e.isDesktop),"onHorizontalMoveChange"in e&&o(1,c=e.onHorizontalMoveChange),"setListElement"in e&&o(10,u=e.setListElement),"theme"in e&&o(2,d=e.theme),"buttonWidth"in e&&o(3,p=e.buttonWidth),"$$scope"in e&&o(11,a=e.$$scope)},[l,c,d,p,h,g,r,m,f,v,u,a,s,function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(6,r)}))},({detail:{value:e}})=>{c(e)},()=>v("left"),()=>v("right")]}Re.styleTagTransform=Ae(),Re.setAttributes=Le(),Re.insert=Te().bind(null,"head"),Re.domAPI=je(),Re.insertStyleElement=ze(),Ie()(Ne.Z,Re),Ne.Z&&Ne.Z.locals&&Ne.Z.locals;class Ge extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Ve,Ue,e.N8,{isDesktop:0,onHorizontalMoveChange:1,setListElement:10,theme:2,buttonWidth:3},Be)}}const qe=Ge;function Fe(t){(0,e.qOq)(t,"svelte-1keoccq",".alice__suggests_inners.svelte-1keoccq{white-space:nowrap;align-items:flex-start;flex-direction:column;margin-right:25px;margin-left:25px}.alice__suggests_row.svelte-1keoccq{display:flex;gap:6px;margin-bottom:6px}")}function Ze(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function Ye(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function We(t){let n,i;return n=new we({props:{suggest:t[11],onClick:t[1],outputBus:t[0],index:t[13],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};32&t&&(i.suggest=e[11]),2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0]),8&t&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Xe(t){let n,i;return n=new we({props:{suggest:t[11],onClick:t[1],outputBus:t[0],index:t[5].length+t[13],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};64&t&&(i.suggest=e[11]),2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0]),32&t&&(i.index=e[5].length+e[13]),8&t&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Ke(t){let n,i,o,r,s,a=(0,e.NXn)(t[5]),l=[];for(let e=0;e<a.length;e+=1)l[e]=We(Ye(t,a,e));const c=t=>(0,e.etI)(l[t],1,1,(()=>{l[t]=null}));let u=(0,e.NXn)(t[6]),d=[];for(let e=0;e<u.length;e+=1)d[e]=Xe(Ze(t,u,e));const p=t=>(0,e.etI)(d[t],1,1,(()=>{d[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<l.length;e+=1)l[e].c();o=(0,e.DhX)(),r=(0,e.bGB)("div");for(let e=0;e<d.length;e+=1)d[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-1keoccq"),(0,e.Ljt)(r,"class","alice__suggests_row svelte-1keoccq"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-1keoccq")},m(t,a){(0,e.$Tr)(t,n,a),(0,e.R3I)(n,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(i,null);(0,e.R3I)(n,o),(0,e.R3I)(n,r);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(r,null);s=!0},p(t,n){if(43&n){let o;for(a=(0,e.NXn)(t[5]),o=0;o<a.length;o+=1){const r=Ye(t,a,o);l[o]?(l[o].p(r,n),(0,e.Ui)(l[o],1)):(l[o]=We(r),l[o].c(),(0,e.Ui)(l[o],1),l[o].m(i,null))}for((0,e.dvw)(),o=a.length;o<l.length;o+=1)c(o);(0,e.gbL)()}if(107&n){let i;for(u=(0,e.NXn)(t[6]),i=0;i<u.length;i+=1){const o=Ze(t,u,i);d[i]?(d[i].p(o,n),(0,e.Ui)(d[i],1)):(d[i]=Xe(o),d[i].c(),(0,e.Ui)(d[i],1),d[i].m(r,null))}for((0,e.dvw)(),i=u.length;i<d.length;i+=1)p(i);(0,e.gbL)()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)(0,e.Ui)(l[t]);for(let t=0;t<u.length;t+=1)(0,e.Ui)(d[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)(0,e.etI)(l[t]);d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)(0,e.etI)(d[t]);s=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(l,t),(0,e.RMB)(d,t)}}}function Qe(t){let n,i;return n=new qe({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],setListElement:t[7],theme:t[3],$$slots:{default:[Ke]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};16&t&&(i.isDesktop=e[4]),4&t&&(i.onHorizontalMoveChange=e[2]),8&t&&(i.theme=e[3]),32875&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Je(e,t,n){let i,{outputBus:o}=t,{suggests:r=[]}=t,{onClick:s}=t,{onHorizontalMoveChange:a}=t,{theme:l}=t,{isDesktop:c}=t,u=[],d=[],p=[];return e.$$set=e=>{"outputBus"in e&&n(0,o=e.outputBus),"suggests"in e&&n(8,r=e.suggests),"onClick"in e&&n(1,s=e.onClick),"onHorizontalMoveChange"in e&&n(2,a=e.onHorizontalMoveChange),"theme"in e&&n(3,l=e.theme),"isDesktop"in e&&n(4,c=e.isDesktop)},e.$$.update=()=>{if(1888&e.$$.dirty){if(r!==u){const e=r.reduce(((e,t)=>e+t.title.length),0);n(5,d=[]),n(6,p=[]);let t=0;for(let n=0;n<r.length;n++)2*t<e?d.push(r[n]):p.push(r[n]),t+=r[n].title.length;i&&n(10,i.scrollLeft=0,i)}n(9,u=r)}},[o,s,a,l,c,d,p,e=>{n(10,i=e)},r,u,i]}class et extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Je,Qe,e.N8,{outputBus:0,suggests:8,onClick:1,onHorizontalMoveChange:2,theme:3,isDesktop:4},Fe)}}const tt=et;function nt(t){(0,e.qOq)(t,"svelte-ozmbhq",".alice__shortcut-text.svelte-ozmbhq.svelte-ozmbhq{margin:10px 12px 5px}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq .alice__shortcut-text.svelte-ozmbhq{margin:8px 10px 5px}.alice__shortcut-wrapper_type_promo.svelte-ozmbhq .alice__shortcut-text.svelte-ozmbhq{margin-bottom:0}.alice__shortcut-img.svelte-ozmbhq.svelte-ozmbhq{margin-left:12px;position:absolute;bottom:12px}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq .alice__shortcut-img.svelte-ozmbhq{margin-left:10px;bottom:10px}.alice__shortcut-wrapper_type_image.svelte-ozmbhq .alice__shortcut-img.svelte-ozmbhq{top:0;left:0;right:0;bottom:0;margin:0;background-image:var(--image);background-repeat:no-repeat;background-size:contain}.alice__shortcut-wrapper_type_promo.svelte-ozmbhq .alice__shortcut-img.svelte-ozmbhq{font-size:11px;font-weight:500;line-height:13px;color:#fff;background-color:#7a55ff;padding:2px 7px 3px 7px;border-radius:47px;bottom:12px}.alice__shortcut-subtext.svelte-ozmbhq.svelte-ozmbhq{color:#8b93a5;font-weight:400;font-size:10px;line-height:10px;margin:0 12px}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq .alice__shortcut-subtext.svelte-ozmbhq{margin:0 10px}.alice__shortcut-wrapper_type_promo.svelte-ozmbhq .alice__shortcut-subtext.svelte-ozmbhq{font-size:14px;font-weight:500;line-height:16px;color:#7a55ff}.alice__shortcut-wrapper.svelte-ozmbhq.svelte-ozmbhq{width:100px;height:100px;border-radius:20px;cursor:pointer;position:relative;overflow:hidden;flex:none;order:0;flex-grow:0}.alice__shortcut-wrapper.svelte-ozmbhq.svelte-ozmbhq:first-child{margin-left:25px}.alice__shortcut-wrapper.svelte-ozmbhq.svelte-ozmbhq:last-child{margin-right:25px}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq.svelte-ozmbhq{transform:translate3d(0, 0, 0)}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq.svelte-ozmbhq::before{content:'';position:absolute;width:calc(100% + 26px);height:calc(100% + 26px);top:-13px;left:-13px;background:linear-gradient(#6444f8, #e88aff80);animation:svelte-ozmbhq-rotate 1.2s linear infinite}.alice__shortcut.svelte-ozmbhq.svelte-ozmbhq{position:absolute;top:0;left:0;bottom:0;right:0;background:#f1effd;border-radius:20px;font-style:normal;font-weight:500;font-size:14px;line-height:14px}.alice__shortcut-wrapper_animate-border.svelte-ozmbhq .alice__shortcut.svelte-ozmbhq{top:2px;left:2px;bottom:2px;right:2px;border-radius:18px}.alice__shortcut_theme_dark.svelte-ozmbhq.svelte-ozmbhq{background:#2f264d;color:#ffffff}@keyframes svelte-ozmbhq-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function it(t){let n,i,o,r,s,a=t[1].title+"",l=t[1].subtitle&&rt(t);function c(e,t){return"default"===e[1].type?at:st}let u=c(t),d=u(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(a),o=(0,e.DhX)(),l&&l.c(),r=(0,e.DhX)(),d.c(),s=(0,e.cSb)(),(0,e.Ljt)(n,"class","alice__shortcut-text svelte-ozmbhq")},m(t,a){(0,e.$Tr)(t,n,a),(0,e.R3I)(n,i),(0,e.$Tr)(t,o,a),l&&l.m(t,a),(0,e.$Tr)(t,r,a),d.m(t,a),(0,e.$Tr)(t,s,a)},p(t,n){2&n&&a!==(a=t[1].title+"")&&(0,e.rTO)(i,a),t[1].subtitle?l?l.p(t,n):(l=rt(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),u===(u=c(t))&&d?d.p(t,n):(d.d(1),d=u(t),d&&(d.c(),d.m(s.parentNode,s)))},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(o),(0,e.ogt)(r),(0,e.ogt)(s)),l&&l.d(t),d.d(t)}}}function ot(t){let n;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class","alice__shortcut-img svelte-ozmbhq"),(0,e.czc)(n,"--image",`url(${"dark"===t[3]&&t[1].urlDark?t[1].urlDark:t[1].url})`)},m(t,i){(0,e.$Tr)(t,n,i)},p(t,i){10&i&&(0,e.czc)(n,"--image",`url(${"dark"===t[3]&&t[1].urlDark?t[1].urlDark:t[1].url})`)},d(t){t&&(0,e.ogt)(n)}}}function rt(t){let n,i,o=t[1].subtitle+"";return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(o),(0,e.Ljt)(n,"class","alice__shortcut-subtext svelte-ozmbhq")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){2&n&&o!==(o=t[1].subtitle+"")&&(0,e.rTO)(i,o)},d(t){t&&(0,e.ogt)(n)}}}function st(t){let n,i,o=t[1].text+"";return{c(){n=(0,e.bGB)("span"),i=(0,e.fLW)(o),(0,e.Ljt)(n,"class","alice__shortcut-img svelte-ozmbhq")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){2&n&&o!==(o=t[1].text+"")&&(0,e.rTO)(i,o)},d(t){t&&(0,e.ogt)(n)}}}function at(t){let n,i,o;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice__shortcut-img svelte-ozmbhq"),(0,e.Jn4)(n.src,i=t[1].url)||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt",o=t[1].title),(0,e.Ljt)(n,"aria-hidden","true")},m(t,i){(0,e.$Tr)(t,n,i)},p(t,r){2&r&&!(0,e.Jn4)(n.src,i=t[1].url)&&(0,e.Ljt)(n,"src",i),2&r&&o!==(o=t[1].title)&&(0,e.Ljt)(n,"alt",o)},d(t){t&&(0,e.ogt)(n)}}}function lt(t){let n,i,o,r,s,a,l;function c(e,t){return"image"===e[1].type?ot:it}let u=c(t),d=u(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),d.c(),(0,e.Ljt)(i,"class",o=(0,e.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-ozmbhq"),(0,e.Ljt)(i,"role","button"),(0,e.Ljt)(i,"tabindex","0"),(0,e.Ljt)(n,"class",s="alice__shortcut-wrapper alice__shortcut-wrapper_type_"+t[1].type+" svelte-ozmbhq"),(0,e.VHj)(n,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder)},m(o,s){(0,e.$Tr)(o,n,s),(0,e.R3I)(n,i),d.m(i,null),t[7](i),a||(l=[(0,e.TVh)(r=w.call(null,i)),(0,e.oLt)(i,"accessibleclick",t[6])],a=!0)},p(t,[r]){u===(u=c(t))&&d?d.p(t,r):(d.d(1),d=u(t),d&&(d.c(),d.m(i,null))),8&r&&o!==(o=(0,e.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-ozmbhq")&&(0,e.Ljt)(i,"class",o),2&r&&s!==(s="alice__shortcut-wrapper alice__shortcut-wrapper_type_"+t[1].type+" svelte-ozmbhq")&&(0,e.Ljt)(n,"class",s),2&r&&(0,e.VHj)(n,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),d.d(),t[7](null),a=!1,(0,e.j7q)(l)}}}function ct(n,i,o){let r,{onClick:s}=i,{shortcut:a}=i,{outputBus:l}=i,{index:c}=i,{theme:u}=i;return(0,t.H3)((()=>{ve(r).then((()=>{l.emit("stat",{path:`shortcut.${c}`,eventType:"show",customParams:{title:a.title,id:a.id}})}))})),n.$$set=e=>{"onClick"in e&&o(0,s=e.onClick),"shortcut"in e&&o(1,a=e.shortcut),"outputBus"in e&&o(5,l=e.outputBus),"index"in e&&o(2,c=e.index),"theme"in e&&o(3,u=e.theme)},[s,a,c,u,r,l,()=>s(a,c),function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(4,r)}))}]}class ut extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ct,lt,e.N8,{onClick:0,shortcut:1,outputBus:5,index:2,theme:3},nt)}}const dt=ut;function pt(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function ht(t){let n,i;return n=new dt({props:{shortcut:t[6],onClick:t[1],outputBus:t[0],index:t[8],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0]),8&t&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function gt(t){let n,i,o=(0,e.NXn)(t[5]),r=[];for(let e=0;e<o.length;e+=1)r[e]=ht(pt(t,o,e));const s=t=>(0,e.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=(0,e.cSb)()},m(t,o){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,o);(0,e.$Tr)(t,n,o),i=!0},p(t,i){if(43&i){let a;for(o=(0,e.NXn)(t[5]),a=0;a<o.length;a+=1){const s=pt(t,o,a);r[a]?(r[a].p(s,i),(0,e.Ui)(r[a],1)):(r[a]=ht(s),r[a].c(),(0,e.Ui)(r[a],1),r[a].m(n.parentNode,n))}for((0,e.dvw)(),a=o.length;a<r.length;a+=1)s(a);(0,e.gbL)()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);i=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(r,t)}}}function mt(t){let n,i;return n=new qe({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],theme:t[3],$$slots:{default:[gt]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};16&t&&(i.isDesktop=e[4]),4&t&&(i.onHorizontalMoveChange=e[2]),8&t&&(i.theme=e[3]),523&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ft(e,n,i){let{outputBus:o}=n,{onClick:r}=n,{onHorizontalMoveChange:s}=n,{theme:a}=n,{isDesktop:l}=n;const{shortcuts:c=[]}=(0,t.fw)(ue.f1);return e.$$set=e=>{"outputBus"in e&&i(0,o=e.outputBus),"onClick"in e&&i(1,r=e.onClick),"onHorizontalMoveChange"in e&&i(2,s=e.onHorizontalMoveChange),"theme"in e&&i(3,a=e.theme),"isDesktop"in e&&i(4,l=e.isDesktop)},[o,r,s,a,l,c]}class vt extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ft,mt,e.N8,{outputBus:0,onClick:1,onHorizontalMoveChange:2,theme:3,isDesktop:4})}}const _t=vt;var bt={d:(e,t)=>{for(var n in t)bt.o(t,n)&&!bt.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},yt={};function xt(){}bt.d(yt,{Hy:()=>eu,M:()=>Bc,Os:()=>yc,_0:()=>nu,sY:()=>ou});const wt=e=>e;function kt(e,t){for(const n in t)e[n]=t[n];return e}function $t(e){return e()}function Ct(){return Object.create(null)}function It(e){e.forEach($t)}function Mt(e){return"function"==typeof e}let jt;function St(e,t){return e===t||(jt||(jt=document.createElement("a")),jt.href=t,e===jt.href)}function Tt(e,t){return e!=e?t==t:e!==t}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(null==e){for(const e of n)e(void 0);return xt}const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function Lt(e,t,n){e.$$.on_destroy.push(Et(t,n))}function Dt(e,t,n,i){if(e){const o=zt(e,t,n,i);return e[0](o)}}function zt(e,t,n,i){return e[1]&&i?kt(n.ctx.slice(),e[1](i(t))):n.ctx}function Ot(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}function At(e,t,n,i,o,r){if(o){const s=zt(t,n,i,r);e.p(s,o)}}function Nt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Rt(e){return e&&Mt(e.destroy)?e.destroy:xt}const Bt="undefined"!=typeof window;let Pt=Bt?()=>window.performance.now():()=>Date.now(),Ht=Bt?e=>requestAnimationFrame(e):xt;const Ut=new Set;function Vt(e){Ut.forEach((t=>{t.c(e)||(Ut.delete(t),t.f())})),0!==Ut.size&&Ht(Vt)}function Gt(e){let t;return 0===Ut.size&&Ht(Vt),{promise:new Promise((n=>{Ut.add(t={c:e,f:n})})),abort(){Ut.delete(t)}}}const qt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Ft(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zt{constructor(e){Ft(this,"_listeners","WeakMap"in qt?new WeakMap:void 0),Ft(this,"_observer",void 0),Ft(this,"options",void 0),this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return null!==(e=this._observer)&&void 0!==e?e:this._observer=new ResizeObserver((e=>{for(const n of e){var t;Zt.entries.set(n.target,n),null===(t=this._listeners.get(n.target))||void 0===t||t(n)}}))}}Zt.entries="WeakMap"in qt?new WeakMap:void 0;let Yt=null;function Wt(e,t){e.appendChild(t)}function Xt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Kt(e){const t=tn("style");return t.textContent="/* empty */",function(e,t){Wt(e.head||e,t),t.sheet}(Xt(e),t),t.sheet}function Qt(e,t,n){e.insertBefore(t,n||null)}function Jt(e){e.parentNode&&e.parentNode.removeChild(e)}function en(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function tn(e){return document.createElement(e)}function nn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function on(e){return document.createTextNode(e)}function rn(){return on(" ")}function sn(){return on("")}function an(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function ln(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const cn=["width","height"];function un(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)null==t[i]?e.removeAttribute(i):"style"===i?e.style.cssText=t[i]:"__value"===i?e.value=e[i]=t[i]:n[i]&&n[i].set&&-1===cn.indexOf(i)?e[i]=t[i]:ln(e,i,t[i])}function dn(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function pn(e,t){return new e(t)}const hn=new Map;let gn,mn=0;function fn(e,t,n,i,o,r,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const l=16.666/i;let c="{\n";for(let e=0;e<=1;e+=l){const i=t+(n-t)*r(e);c+=100*e+"%{".concat(s(i,1-i),"}\n")}const u=c+"100% {".concat(s(n,1-n),"}\n}"),d="__svelte_".concat(function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u),"_").concat(a),p=Xt(e),{stylesheet:h,rules:g}=hn.get(p)||function(e,t){const n={stylesheet:Kt(t),rules:{}};return hn.set(e,n),n}(p,e);g[d]||(g[d]=!0,h.insertRule("@keyframes ".concat(d," ").concat(u),h.cssRules.length));const m=e.style.animation||"";return e.style.animation="".concat(m?"".concat(m,", "):"").concat(d," ").concat(i,"ms linear ").concat(o,"ms 1 both"),mn+=1,d}function vn(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-i.length;o&&(e.style.animation=i.join(", "),mn-=o,mn||Ht((()=>{mn||(hn.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&Jt(t)})),hn.clear())})))}function _n(e){gn=e}function bn(){if(!gn)throw new Error("Function called outside component initialization");return gn}function yn(e){bn().$$.on_mount.push(e)}function xn(e){bn().$$.on_destroy.push(e)}function wn(e,t){return bn().$$.context.set(e,t),t}function kn(e){return bn().$$.context.get(e)}function $n(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Cn=[],In=[];let Mn=[];const jn=[],Sn=Promise.resolve();let Tn=!1;function En(){Tn||(Tn=!0,Sn.then(Nn))}function Ln(){return En(),Sn}function Dn(e){Mn.push(e)}const zn=new Set;let On,An=0;function Nn(){if(0!==An)return;const e=gn;do{try{for(;An<Cn.length;){const e=Cn[An];An++,_n(e),Rn(e.$$)}}catch(e){throw Cn.length=0,An=0,e}for(_n(null),Cn.length=0,An=0;In.length;)In.pop()();for(let e=0;e<Mn.length;e+=1){const t=Mn[e];zn.has(t)||(zn.add(t),t())}Mn.length=0}while(Cn.length);for(;jn.length;)jn.pop()();Tn=!1,zn.clear(),_n(e)}function Rn(e){if(null!==e.fragment){e.update(),It(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Dn)}}function Bn(){return On||(On=Promise.resolve(),On.then((()=>{On=null}))),On}function Pn(e,t,n){e.dispatchEvent(function(e,t){let{bubbles:n=!1,cancelable:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}("".concat(t?"intro":"outro").concat(n)))}const Hn=new Set;let Un;function Vn(){Un={r:0,c:[],p:Un}}function Gn(){Un.r||It(Un.c),Un=Un.p}function qn(e,t){e&&e.i&&(Hn.delete(e),e.i(t))}function Fn(e,t,n,i){if(e&&e.o){if(Hn.has(e))return;Hn.add(e),Un.c.push((()=>{Hn.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const Zn={duration:0};function Yn(e,t,n){const i={direction:"in"};let o,r,s=t(e,n,i),a=!1,l=0;function c(){o&&vn(e,o)}function u(){const{delay:t=0,duration:n=300,easing:i=wt,tick:u=xt,css:d}=s||Zn;d&&(o=fn(e,0,1,n,t,i,d,l++)),u(0,1);const p=Pt()+t,h=p+n;r&&r.abort(),a=!0,Dn((()=>Pn(e,!0,"start"))),r=Gt((t=>{if(a){if(t>=h)return u(1,0),Pn(e,!0,"end"),c(),a=!1;if(t>=p){const e=i((t-p)/n);u(e,1-e)}}return a}))}let d=!1;return{start(){d||(d=!0,vn(e),Mt(s)?(s=s(i),Bn().then(u)):u())},invalidate(){d=!1},end(){a&&(c(),a=!1)}}}function Wn(e){return void 0!==(null==e?void 0:e.length)?e:Array.from(e)}function Xn(e,t){Fn(e,1,1,(()=>{t.delete(e.key)}))}function Kn(e,t,n,i,o,r,s,a,l,c,u,d){let p=e.length,h=r.length,g=p;const m={};for(;g--;)m[e[g].key]=g;const f=[],v=new Map,_=new Map,b=[];for(g=h;g--;){const e=d(o,r,g),a=n(e);let l=s.get(a);l?i&&b.push((()=>l.p(e,t))):(l=c(a,e),l.c()),v.set(a,f[g]=l),a in m&&_.set(a,Math.abs(g-m[a]))}const y=new Set,x=new Set;function w(e){qn(e,1),e.m(a,u),s.set(e.key,e),u=e.first,h--}for(;p&&h;){const t=f[h-1],n=e[p-1],i=t.key,o=n.key;t===n?(u=t.first,p--,h--):v.has(o)?!s.has(i)||y.has(i)?w(t):x.has(o)?p--:_.get(i)>_.get(o)?(x.add(i),w(t)):(y.add(o),p--):(l(n,s),p--)}for(;p--;){const t=e[p];v.has(t.key)||l(t,s)}for(;h;)w(f[h-1]);return It(b),f}function Qn(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],a=t[r];if(a){for(const e in s)e in a||(i[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[r]=a}else for(const e in s)o[e]=1}for(const e in i)e in n||(n[e]=void 0);return n}let Jn;function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e){e&&e.c()}function oi(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),Dn((()=>{const t=e.$$.on_mount.map($t).filter(Mt);e.$$.on_destroy?e.$$.on_destroy.push(...t):It(t),e.$$.on_mount=[]})),o.forEach(Dn)}function ri(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];Mn.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),Mn=t}(n.after_update),It(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function si(e,t,n,i,o,r,s){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=gn;_n(e);const c=e.$$={fragment:null,ctx:[],props:r,update:xt,not_equal:o,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ct(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(function(t,n){const i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&o(c.ctx[t],c.ctx[t]=i)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](i),u&&function(e,t){-1===e.$$.dirty[0]&&(Cn.push(e),En(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,It(c.before_update),c.fragment=!!i&&i(c.ctx),t.target){if(t.hydrate){Yt=!0;const e=(d=t.target,Array.from(d.childNodes));c.fragment&&c.fragment.l(e),e.forEach(Jt)}else c.fragment&&c.fragment.c();t.intro&&qn(e.$$.fragment),oi(e,t.target,t.anchor),Yt=!1,Nn()}var d;_n(l)}function ai(e,t,n,i){var o;const r=null===(o=n[e])||void 0===o?void 0:o.type;if(t="Boolean"===r&&"boolean"!=typeof t?null!=t:t,!i||!n[e])return t;if("toAttribute"===i)switch(r){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Jn=class extends HTMLElement{constructor(e,t,n){super(),ni(this,"$$ctor",void 0),ni(this,"$$s",void 0),ni(this,"$$c",void 0),ni(this,"$$cn",!1),ni(this,"$$d",{}),ni(this,"$$r",!1),ni(this,"$$p_d",{}),ni(this,"$$l",{}),ni(this,"$$l_u",new Map),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn)return;function e(e){return()=>{let t;return{c:function(){t=tn("slot"),"default"!==e&&ln(t,"name",e)},m:function(e,n){Qt(e,t,n)},d:function(e){e&&Jt(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const o of this.$$s)o in n&&(t[o]=[e(o)]);for(const r of this.attributes){const s=this.$$g_p(r.name);s in this.$$d||(this.$$d[s]=ai(s,r.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:ti(ti({},this.$$d),{},{$$slots:t,$$scope:{ctx:[]}})});const i=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=ai(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(const a in this.$$l)for(const l of this.$$l[a]){const c=this.$$c.$on(a,l);this.$$l_u.set(l,c)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ai(e,n,this.$$p_d,"toProp"),null===(i=this.$$c)||void 0===i||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class li{constructor(){ni(this,"$$",void 0),ni(this,"$$set",void 0)}$destroy(){ri(this,1),this.$destroy=xt}$on(e,t){if(!Mt(t))return xt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ci=[];function ui(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;const i=new Set;function o(n){if(r=n,((o=e)!=o?r==r:o!==r||o&&"object"==typeof o||"function"==typeof o)&&(e=n,t)){const t=!ci.length;for(const t of i)t[1](),ci.push(t,e);if(t){for(let e=0;e<ci.length;e+=2)ci[e][0](ci[e+1]);ci.length=0}}var o,r}function r(t){o(t(e))}return{set:o,update:r,subscribe:function(s){const a=[s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt];return i.add(a),1===i.size&&(t=n(o,r)||xt),s(e),()=>{i.delete(a),0===i.size&&t&&(t(),t=null)}}}}function di(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return s=(e,n)=>{let s=!1;const a=[];let l=0,c=xt;const u=()=>{if(l)return;c();const o=t(i?a[0]:a,e,n);r?e(o):c=Mt(o)?o:xt},d=o.map(((e,t)=>Et(e,(e=>{a[t]=e,l&=~(1<<t),s&&u()}),(()=>{l|=1<<t}))));return s=!0,u(),function(){It(d),c(),s=!1}},{subscribe:ui(n,s).subscribe};var s}const pi={root:"divkit-d1ad0",root__clickable:"divkit-e0fd3","root__clickable-no-transition":"divkit-ffa3a",root__unselectable:"divkit-fa556",root_platform_desktop:"divkit-c9211","root__only-desktop":"divkit-ff685","root_restrict-scroll":"divkit-ad27d","root_disabled-context-menu":"divkit-d8d15"},hi=Symbol("root");function gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e;return n.level=t.level||"error",t.additional&&(n.additional=t.additional),n}const mi={"text-range":"divkit-b4897",text:"divkit-d04cf",text_halign_start:"divkit-d1271",text_halign_center:"divkit-c1cbb",text_halign_end:"divkit-adcd7",text_valign_start:"divkit-d3b9b",text_valign_center:"divkit-fe406",text_valign_end:"divkit-d88f8",text_valign_baseline:"divkit-d1c42",text__inner:"divkit-f93dd",text_singleline:"divkit-e0d91",text_multiline:"divkit-d16d9",text_truncate_none:"divkit-a4e1f",text__inner_gradient:"divkit-e92e9",text__image:"divkit-e499e",text__image_hidden:"divkit-f7786","text_has-focus-color":"divkit-ec6a1"},fi={outer:"divkit-febd5","outer_hide-on-transition-in":"divkit-ab97f","outer_halign-self_start":"divkit-e310b","outer_halign-self_center":"divkit-b8989","outer_halign-self_end":"divkit-e3daf","outer_halign-self_stretch":"divkit-dc597","outer_valign-self_start":"divkit-ea5fb","outer_valign-self_center":"divkit-ad8d2","outer_valign-self_end":"divkit-f7541","outer_valign-self_stretch":"divkit-e075a","outer_parent-flex_vertical":"divkit-bb3dc","outer_parent-flex_horizontal":"divkit-b5712","outer_valign-self_baseline":"divkit-e5919",outer_width_content:"divkit-cb510",outer_height_content:"divkit-c3a30","outer_width-constrained":"divkit-ef2dd","outer_parent-grid":"divkit-b2fa8","outer_height-constrained":"divkit-bc814","outer_parent-overlap":"divkit-ad574","outer_parent-overlap-absolute":"divkit-ec1ca","outer_scroll-snap_center":"divkit-dfd51","outer_scroll-snap_start":"divkit-eb77b",outer__border:"divkit-df618",outer_visibility_invisible:"divkit-e51f0",outer_visibility_gone:"divkit-a9de6","outer_has-action-animation":"divkit-bd06f","outer_has-custom-focus":"divkit-db524"};function vi(e){if(!e)return;let t="";for(const n in e)if(e.hasOwnProperty(n)){if(!e[n]&&0!==e[n])continue;t&&(t+=";"),t+=n+":"+String(e[n])}return t||void 0}function _i(e){if("number"!=typeof e&&"string"!=typeof e||!e)return"0";const t=Number(e);return Number.isNaN(t)?"0":Math.ceil(1e3*t)/1e4+"em"}function bi(e){let t=_i(e);return"0"===t&&(t+="em"),t}function yi(e,t){for(;e.length<t;)e="0"+e;return e}function xi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"transparent";if("#"!==(e=("string"==typeof e&&e||"").toLowerCase()).charAt(0))return n;const i=wi(e);return i?(i.a*=t,function(e){return 255===e.a?"#".concat([e.r,e.g,e.b].map((e=>yi(Math.round(e).toString(16),2))).join("")):"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat((e.a/255).toFixed(2),")")}(i)):n}function wi(e){const t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i)||e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);if(t){if(5===t.length){const[e,n,i,o,r]=t,s=2===i.length?i:i+i,a=2===o.length?o:o+o,l=2===r.length?r:r+r,c=2===n.length?n:n+n;return{a:parseInt(c,16),r:parseInt(s,16),g:parseInt(a,16),b:parseInt(l,16)}}const[e,n,i,o]=t,r=2===n.length?n:n+n,s=2===i.length?i:i+i,a=2===o.length?o:o+o;return{a:255,r:parseInt(r,16),g:parseInt(s,16),b:parseInt(a,16)}}return null}function ki(e){let t=String(e);return t.indexOf("&")>-1&&(t=t.replace(/&/g,"&amp;")),t.indexOf("<")>-1&&(t=t.replace(/</g,"&lt;")),t.indexOf(">")>-1&&(t=t.replace(/>/g,"&gt;")),t.indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;")),t}const $i=Boolean;function Ci(e){if(1===e.length&&"solid"===e[0].type)return{color:xi(e[0].color||"transparent"),size:"auto",position:"50% 50%"};const t=e.map((e=>"solid"===e.type?function(e){const t=xi(e.bg.color||"transparent");return{size:void 0,pos:void 0,image:"linear-gradient(to bottom,".concat(t,",").concat(t,")")}}({bg:e}):"gradient"===e.type?function(e){var t;if(!Array.isArray(null===(t=e.bg)||void 0===t?void 0:t.colors))return;const n=e.bg.colors.filter($i);return n.length?{size:void 0,pos:void 0,image:"linear-gradient("+(90-Number(e.bg.angle||0))+"deg,"+n.map((e=>xi(e))).join(",")+")"}:void 0}({bg:e}):"image"===e.type?function(e){var t;const n=null===(t=e.bg)||void 0===t?void 0:t.image_url;if(n)return{size:ji(e.bg.scale),pos:Si(e.bg),image:'url("'+ki(n)+'")'}}({bg:e}):"radial_gradient"===e.type?function(e){var t;if(!Array.isArray(null===(t=e.bg)||void 0===t?void 0:t.colors))return;const n=e.bg.colors.filter($i);if(!n.length)return;const i=e.bg.radius;let o;i&&"object"==typeof i&&"type"in i&&void 0!==i.value&&("fixed"===i.type?o=bi(i.value):"relative"===i.type&&(o=Ii[i.value]));const r=Mi(e.bg.center_x),s=Mi(e.bg.center_y);return{size:void 0,pos:void 0,image:"radial-gradient("+"circle ".concat(o||"farthest-corner"," at ").concat(r," ").concat(s)+","+n.map((e=>xi(e))).join(",")+")"}}({bg:e}):void 0)).filter($i).reverse().reduce((function(e,t){return e.image.push(t.image),e.size.push(t.size||"auto"),e.position.push(t.pos||"50% 50%"),e}),{image:[],size:[],position:[]});return{image:t.image.join(","),size:t.size.join(","),position:t.position.join(",")}}const Ii={nearest_corner:"closest-corner",farthest_corner:"farthest-corner",nearest_side:"closest-side",farthest_side:"farthest-side"};function Mi(e){if(e&&"object"==typeof e&&"type"in e&&void 0!==e.value){if("fixed"===e.type)return bi(e.value);if("relative"===e.type)return"".concat(100*Number(e.value),"%")}return"50%"}function ji(e){return"fit"===e?"contain":"stretch"===e?"fill":"no_scale"===e?"none":"cover"}function Si(e){let t,n;return t="left"===e.content_alignment_horizontal?"0%":"right"===e.content_alignment_horizontal?"100%":"50%",n="top"===e.content_alignment_vertical?"0%":"bottom"===e.content_alignment_vertical?"100%":"50%",t+" "+n}function Ti(e){const t=/^([^/]+):\/\//.exec(e);return t&&t[1]||""}function Ei(e,t){return t.has(e)}function Li(e,t,n){return"number"==typeof t&&(e&&t>0&&t<=100||!e&&t>=0&&t<100)?t:n}function Di(e){return 0!==e.is_enabled&&!1!==e.is_enabled&&void 0!==e.index}function zi(e,t){t&&e.push(t)}function Oi(e,t,n){const i=[];zi(i,t[e]);for(const o in n)if(n.hasOwnProperty(o)){const r=n[o];r&&zi(i,t["".concat(e,"_").concat(o)+("string"==typeof r?"_".concat(r):"")])}return i.join(" ")}const Ai=Symbol("state");function Ni(e,t){var n,i;const o=e.top||0,r=(null!==(n="ltr"===t?e.end:e.start)&&void 0!==n?n:e.right)||0,s=e.bottom||0,a=(null!==(i="ltr"===t?e.start:e.end)&&void 0!==i?i:e.left)||0;return 0===o&&0===r&&0===s&&0===a?"":_i(o)+" "+_i(r)+" "+_i(s)+" "+_i(a)}function Ri(e){if("number"!=typeof e&&"string"!=typeof e)return!1;const t=Number(e);return!Number.isNaN(t)}function Bi(e){return Ri(e)&&e>=0}function Pi(e,t,n){var i,o;if(!e)return n;const r=[e.top,null!==(i="ltr"===t?e.end:e.start)&&void 0!==i?i:e.right,e.bottom,null!==(o="ltr"===t?e.start:e.end)&&void 0!==o?o:e.left];for(let e=0;e<r.length;++e)if(r[e]&&!Bi(r[e]))return n;return Ni(e,t)}function Hi(e,t){const n=Number(e);return Number.isNaN(n)||n<0?t:n}const Ui=Object.prototype.hasOwnProperty;function Vi(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return Object.is(e,t);const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!Ui.call(t,o)||!Vi(e[o],t[o]))return!1}return!0}function Gi(e,t){return Vi(e,t)?t:e}function qi(e,t){return"linear"===e||"ease"===e||"ease_in_out"===e||"ease_in"===e||"ease_out"===e?e:t}function Fi(e,t){const n=Number(e);return Number.isNaN(n)?t:n}function Zi(e){const t=[];return"set"===e.name?(e.items||[]).forEach((e=>{t.push(...Zi(e))})):t.push(e),t}function Yi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return[e["top-left"],e["top-right"],e["bottom-right"],e["bottom-left"]].map((e=>_i((e||t)/n*10))).join(" ")}function Wi(e){return 0!==e.is_enabled&&!1!==e.is_enabled}let Xi;function Ki(){return"undefined"!=typeof matchMedia&&(Xi||(Xi=window.matchMedia("(prefers-reduced-motion)")),Xi.matches)}function Qi(){}const Ji=Symbol("action");function eo(e){const t=e.touches[0];return{x:t.clientX||t.pageX,y:t.clientY||t.pageY}}function to(e){var t;let n,i,o,r,s,a,l,c;const u=e[18].default,d=Dt(u,e,e[17],null);let p=[{class:i=e[1]+(e[8]?" ".concat(e[5]?pi.root__clickable:pi["root__clickable-no-transition"]," ").concat(pi.root__unselectable):"")+" "+(null!==(t=e[0])&&void 0!==t&&t.length?pi["root_disabled-context-menu"]:"")},{style:e[2]},{role:o=e[8]?"button":null},{tabindex:r=e[8]?0:null},e[3]],h={};for(let e=0;e<p.length;e+=1)h=kt(h,p[e]);return{c(){n=tn("span"),d&&d.c(),un(n,h)},m(t,i){Qt(t,n,i),d&&d.m(n,null),e[26](n),a=!0,l||(c=[Rt(s=e[4].call(null,n)),an(n,"click",e[22]),an(n,"keydown",e[10]),an(n,"focus",e[23]),an(n,"blur",e[24])],l=!0)},p(e,t){var s;d&&d.p&&(!a||131072&t[0])&&At(d,u,e,e[17],a?Ot(u,e[17],t,null):Nt(e[17]),null),un(n,h=Qn(p,[(!a||291&t[0]&&i!==(i=e[1]+(e[8]?" ".concat(e[5]?pi.root__clickable:pi["root__clickable-no-transition"]," ").concat(pi.root__unselectable):"")+" "+(null!==(s=e[0])&&void 0!==s&&s.length?pi["root_disabled-context-menu"]:"")))&&{class:i},(!a||4&t[0])&&{style:e[2]},(!a||256&t[0]&&o!==(o=e[8]?"button":null))&&{role:o},(!a||256&t[0]&&r!==(r=e[8]?0:null))&&{tabindex:r},8&t[0]&&e[3]]))},i(e){a||(qn(d,e),a=!0)},o(e){Fn(d,e),a=!1},d(t){t&&Jt(n),d&&d.d(t),e[26](null),l=!1,It(c)}}}function no(e){var t;let n,i,o,r,s,a;const l=e[18].default,c=Dt(l,e,e[17],null);let u=[{href:e[7]},{target:e[9]},{style:e[2]},{class:i=e[1]+" "+(e[5]?pi.root__clickable:pi["root__clickable-no-transition"])+" "+(null!==(t=e[0])&&void 0!==t&&t.length?pi["root_disabled-context-menu"]:"")},e[3]],d={};for(let e=0;e<u.length;e+=1)d=kt(d,u[e]);return{c(){n=tn("a"),c&&c.c(),un(n,d)},m(t,i){Qt(t,n,i),c&&c.m(n,null),e[25](n),r=!0,s||(a=[Rt(o=e[4].call(null,n)),an(n,"click",e[19]),an(n,"keydown",e[10]),an(n,"focus",e[20]),an(n,"blur",e[21])],s=!0)},p(e,t){var o;c&&c.p&&(!r||131072&t[0])&&At(c,l,e,e[17],r?Ot(l,e[17],t,null):Nt(e[17]),null),un(n,d=Qn(u,[(!r||128&t[0])&&{href:e[7]},(!r||512&t[0])&&{target:e[9]},(!r||4&t[0])&&{style:e[2]},(!r||35&t[0]&&i!==(i=e[1]+" "+(e[5]?pi.root__clickable:pi["root__clickable-no-transition"])+" "+(null!==(o=e[0])&&void 0!==o&&o.length?pi["root_disabled-context-menu"]:"")))&&{class:i},8&t[0]&&e[3]]))},i(e){r||(qn(c,e),r=!0)},o(e){Fn(c,e),r=!1},d(t){t&&Jt(n),c&&c.d(t),e[25](null),s=!1,It(a)}}}function io(e){let t,n,i,o;const r=[no,to],s=[];function a(e,t){return e[7]?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),i=sn()},m(e,n){s[t].m(e,n),Qt(e,i,n),o=!0},p(e,o){let l=t;t=a(e),t===l?s[t].p(e,o):(Vn(),Fn(s[l],1,1,(()=>{s[l]=null})),Gn(),n=s[t],n?n.p(e,o):(n=s[t]=r[t](e),n.c()),qn(n,1),n.m(i.parentNode,i))},i(e){o||(qn(n),o=!0)},o(e){Fn(n),o=!1},d(e){e&&Jt(i),s[t].d(e)}}}function oo(e,t,n){let{$$slots:i={},$$scope:o}=t,{componentContext:r}=t,{id:s=""}=t,{actions:a}=t,{doubleTapActions:l}=t,{longTapActions:c}=t,{cls:u=""}=t,{style:d=null}=t,{attrs:p}=t,{use:h=Qi}=t,{customAction:g=null}=t,{isNativeActionAnimation:m=!0}=t,{hasInnerFocusable:f=!1}=t;const v=kn(hi),_=kn(Ji);let b;wn(Ji,{hasAction:()=>Boolean(_.hasAction()||(null==a?void 0:a.length))});let y,x="",w=-1,k=null,$=!1,C=!1;async function I(e){_.hasAction()||void 0!==e.button&&0!==e.button||(!1===(null==g?void 0:g(e))?e.preventDefault():a&&(a.some((e=>{if(null==e?void 0:e.typed)return!0;const t=null==e?void 0:e.url;if(!t)return!1;const n=Ti(t);return n&&!Ei(n,v.getBuiltinProtocols())}))&&e.preventDefault(),r.execAnyActions(a)))}function M(e){_.hasAction()||void 0!==e.button&&0!==e.button||r.execAnyActions(l,{processUrls:!0})}function j(e){e.touches.length>1||(k=eo(e),$=!1,w=Date.now())}function S(e){if(!k)return;const t=eo(e);(Math.abs(k.x-t.x)>8||Math.abs(k.y-t.y)>8)&&($=!0)}function T(){!k||w<0||(!$&&Date.now()-w>=400&&r.execAnyActions(c,{processUrls:!0}),k=null,w=-1)}return yn((()=>{s&&!f&&v.registerFocusable(s,{focus(){b&&(x||C)&&b.focus()}})})),xn((()=>{s&&!f&&v.unregisterFocusable(s)})),e.$$set=e=>{"componentContext"in e&&n(11,r=e.componentContext),"id"in e&&n(12,s=e.id),"actions"in e&&n(13,a=e.actions),"doubleTapActions"in e&&n(14,l=e.doubleTapActions),"longTapActions"in e&&n(0,c=e.longTapActions),"cls"in e&&n(1,u=e.cls),"style"in e&&n(2,d=e.style),"attrs"in e&&n(3,p=e.attrs),"use"in e&&n(4,h=e.use),"customAction"in e&&n(15,g=e.customAction),"isNativeActionAnimation"in e&&n(5,m=e.isNativeActionAnimation),"hasInnerFocusable"in e&&n(16,f=e.hasInnerFocusable),"$$scope"in e&&n(17,o=e.$$scope)},e.$$.update=()=>{if(43136&e.$$.dirty[0]){if(Array.isArray(a)&&(null==a?void 0:a.length))for(let e=0;e<a.length;++e){const t=a[e].url;if(t){n(7,x=t),n(9,y=a[e].target||void 0);break}}Array.isArray(a)&&(null==a?void 0:a.length)&&_.hasAction()&&(n(7,x=""),r.logError(gi(new Error("Actionable element is forbidden inside other actionable element"),{level:"warn",additional:{actions:a}}))),n(8,C=Boolean(g)),x&&!Ei(Ti(x),v.getBuiltinProtocols())?(n(7,x=""),n(8,C=!0)):!x&&Array.isArray(a)&&(null==a?void 0:a.length)&&(n(8,C=!0),a.some((e=>e.url||e.typed))||r.logError(gi(new Error("The component has a list of actions, but does not have a real action"),{level:"warn",additional:{actions:a}})))}16833&e.$$.dirty[0]&&b&&(x||C?b.addEventListener("click",I):b.removeEventListener("click",I),(null==l?void 0:l.length)?b.addEventListener("dblclick",M):b.removeEventListener("dblclick",M),(null==c?void 0:c.length)?(b.addEventListener("touchstart",j,{passive:!0}),b.addEventListener("touchmove",S,{passive:!0}),b.addEventListener("touchend",T,{passive:!0}),b.addEventListener("touchcancel",T,{passive:!0})):(b.removeEventListener("touchstart",j),b.removeEventListener("touchmove",S),b.removeEventListener("touchend",T),b.removeEventListener("touchcancel",T)))},[c,u,d,p,h,m,b,x,C,y,function(e){const t=e.target;t instanceof HTMLElement&&("INPUT"===t.tagName||"true"===t.contentEditable)||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||"Enter"===e.key&&Array.isArray(a)&&a.length&&(r.execAnyActions(a),e.preventDefault())},r,s,a,l,g,f,o,i,function(t){$n.call(this,e,t)},function(t){$n.call(this,e,t)},function(t){$n.call(this,e,t)},function(t){$n.call(this,e,t)},function(t){$n.call(this,e,t)},function(t){$n.call(this,e,t)},function(e){In[e?"unshift":"push"]((()=>{b=e,n(6,b)}))},function(e){In[e?"unshift":"push"]((()=>{b=e,n(6,b)}))}]}const ro=class extends li{constructor(e){super(),si(this,e,oo,io,Tt,{componentContext:11,id:12,actions:13,doubleTapActions:14,longTapActions:0,cls:1,style:2,attrs:3,use:4,customAction:15,isNativeActionAnimation:5,hasInnerFocusable:16},null,[-1,-1])}},so={"outer-background":"divkit-ece69","outer-background_clip":"divkit-f5b85","outer-background__item":"divkit-b763f","outer-background__item_hidden":"divkit-debc3"};function ao(e){return Ri(e)&&e>0}function lo(e,t){return e.map((e=>{if(e)if("blur"===e.type){if(ao(e.radius))return"blur(".concat(bi(e.radius/2),")")}else{if("rtl_mirror"===e.type)return;t(gi(new Error("Unknown filter"),{level:"warn",additional:{filter:e.type}}))}else t(gi(new Error("Incorrect filter"),{level:"warn"}))})).filter(Boolean).join(" ")}function co(e,t,n){const i=e.slice();return i[7]=t[n],i}function uo(e){let t,n,i;return{c(){t=tn("span"),ln(t,"class",n=so["outer-background__item"]),ln(t,"style",i=vi(e[7].style))},m(e,n){Qt(e,t,n)},p(e,n){2&n&&i!==(i=vi(e[7].style))&&ln(t,"style",i)},d(e){e&&Jt(t)}}}function po(e){let t,n,i,o,r,s;return{c(){t=tn("img"),St(t.src,n=e[7].image_url)||ln(t,"src",n),ln(t,"alt",""),ln(t,"aria-hidden","true"),ln(t,"loading","lazy"),ln(t,"decoding","async"),ln(t,"class",i=so["outer-background__item"]),ln(t,"style",o=vi(e[7].style))},m(n,i){Qt(n,t,i),r||(s=an(t,"error",e[2]),r=!0)},p(e,i){2&i&&!St(t.src,n=e[7].image_url)&&ln(t,"src",n),2&i&&o!==(o=vi(e[7].style))&&ln(t,"style",o)},d(e){e&&Jt(t),r=!1,s()}}}function ho(e){let t;function n(e,t){return e[7].image_url?po:uo}let i=n(e),o=i(e);return{c(){o.c(),t=sn()},m(e,n){o.m(e,n),Qt(e,t,n)},p(e,r){i===(i=n(e))&&o?o.p(e,r):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&Jt(t),o.d(e)}}}function go(e){let t,n,i=Wn(e[1]),o=[];for(let t=0;t<i.length;t+=1)o[t]=ho(co(e,i,t));return{c(){t=tn("span");for(let e=0;e<o.length;e+=1)o[e].c();ln(t,"class",n=so["outer-background"]+(e[0]?" "+so["outer-background_clip"]:"")),dn(t,"border-radius",e[0])},m(e,n){Qt(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,r){let[s]=r;if(6&s){let n;for(i=Wn(e[1]),n=0;n<i.length;n+=1){const r=co(e,i,n);o[n]?o[n].p(r,s):(o[n]=ho(r),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}1&s&&n!==(n=so["outer-background"]+(e[0]?" "+so["outer-background_clip"]:""))&&ln(t,"class",n),1&s&&dn(t,"border-radius",e[0])},i:xt,o:xt,d(e){e&&Jt(t),en(o,e)}}}function mo(e,t,n){let i,{direction:o}=t,{componentContext:r}=t,{background:s=[]}=t,{radius:a=""}=t;return kn(hi),e.$$set=e=>{"direction"in e&&n(3,o=e.direction),"componentContext"in e&&n(4,r=e.componentContext),"background"in e&&n(5,s=e.background),"radius"in e&&n(0,a=e.radius)},e.$$.update=()=>{56&e.$$.dirty&&n(1,i=s.map((e=>{const t={},n={style:t};if("nine_patch_image"===e.type&&e.insets)t["border-image"]='url("'.concat(e.image_url,'") ').concat(e.insets.top||0," ").concat(e.insets.right||0," ").concat(e.insets.bottom||0," ").concat(e.insets.left||0," fill"),t["border-image-width"]="auto";else{const i=Ci([e]);"solid"===e.type&&(t["background-color"]=i.color),"gradient"===e.type&&(t["background-image"]=i.image),"image"===e.type&&(t.opacity=Number(e.alpha),n.image_url=e.image_url,t["object-fit"]=i.size,t["object-position"]=i.position,Array.isArray(e.filters)&&e.filters.length&&(t.filter=lo(e.filters,r.logError),"rtl"===o&&e.filters.some((e=>"rtl_mirror"===e.type))&&(t.transform="scale(-1,1)")))}return n})))},[a,i,function(e){e.target&&"classList"in e.target&&e.target.classList.add(so["outer-background__item_hidden"])},o,r,s]}const fo=class extends li{constructor(e){super(),si(this,e,mo,go,Tt,{direction:3,componentContext:4,background:5,radius:0})}},vo=e=>({hasCustomFocus:256&e[0]}),_o=e=>({focusHandler:e[40],blurHandler:e[41],hasCustomFocus:e[8]});function bo(e){let t,n;return t=new ro({props:{componentContext:e[0],id:e[0].json.id,use:e[39],cls:e[1]+" "+Oi("outer",fi,e[18]),style:vi(e[17]),actions:e[14],doubleTapActions:e[15],longTapActions:e[16],attrs:e[10],hasInnerFocusable:e[2],isNativeActionAnimation:!e[7].length||Mo(e[7]),$$slots:{default:[wo]},$$scope:{ctx:e}}}),t.$on("focus",e[40]),t.$on("blur",e[41]),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.componentContext=e[0]),1&n[0]&&(i.id=e[0].json.id),262146&n[0]&&(i.cls=e[1]+" "+Oi("outer",fi,e[18])),131072&n[0]&&(i.style=vi(e[17])),16384&n[0]&&(i.actions=e[14]),32768&n[0]&&(i.doubleTapActions=e[15]),65536&n[0]&&(i.longTapActions=e[16]),1024&n[0]&&(i.attrs=e[10]),4&n[0]&&(i.hasInnerFocusable=e[2]),128&n[0]&&(i.isNativeActionAnimation=!e[7].length||Mo(e[7])),2937&n[0]|268435456&n[3]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function yo(e){let t,n;return t=new fo({props:{componentContext:e[0],direction:e[9],background:e[5],radius:e[4]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.componentContext=e[0]),512&n[0]&&(i.direction=e[9]),32&n[0]&&(i.background=e[5]),16&n[0]&&(i.radius=e[4]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function xo(e){let t,n,i;return{c(){t=tn("span"),ln(t,"class",n=fi.outer__border),ln(t,"style",i=vi(e[3]))},m(e,n){Qt(e,t,n)},p(e,n){8&n[0]&&i!==(i=vi(e[3]))&&ln(t,"style",i)},d(e){e&&Jt(t)}}}function wo(e){let t,n,i,o=e[6]&&yo(e);const r=e[120].default,s=Dt(r,e,e[121],_o);let a=e[11]&&xo(e);return{c(){o&&o.c(),t=sn(),s&&s.c(),a&&a.c(),n=sn()},m(e,r){o&&o.m(e,r),Qt(e,t,r),s&&s.m(e,r),a&&a.m(e,r),Qt(e,n,r),i=!0},p(e,l){e[6]?o?(o.p(e,l),64&l[0]&&qn(o,1)):(o=yo(e),o.c(),qn(o,1),o.m(t.parentNode,t)):o&&(Vn(),Fn(o,1,1,(()=>{o=null})),Gn()),s&&s.p&&(!i||256&l[0]|268435456&l[3])&&At(s,r,e,e[121],i?Ot(r,e[121],l,vo):Nt(e[121]),_o),e[11]?a?a.p(e,l):(a=xo(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){i||(qn(o),qn(s,e),i=!0)},o(e){Fn(o),Fn(s,e),i=!1},d(e){e&&(Jt(t),Jt(n)),o&&o.d(e),s&&s.d(e),a&&a.d(e)}}}function ko(e){let t,n,i=!e[12]&&!e[13]&&bo(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){e[12]||e[13]?i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn()):i?(i.p(e,n),12288&n[0]&&qn(i,1)):(i=bo(e),i.c(),qn(i,1),i.m(t.parentNode,t))},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}const $o={left:"start",center:"center",right:"end",start:"start",end:"end"},Co={left:"end",center:"center",right:"start",start:"start",end:"end"},Io={top:"start",center:"center",bottom:"end",baseline:"baseline"};function Mo(e){return e.some((e=>"native"===e.name))}function jo(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T,E,L,D,z,O,A,N,R,B,P,H,U,V,G,q,F,Z,Y=xt,W=xt,X=xt,K=xt,Q=xt,J=xt,ee=xt,te=xt,ne=xt,ie=xt,oe=xt,re=xt,se=xt,ae=xt,le=xt,ce=xt,ue=xt,de=xt;e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>Q())),e.$$.on_destroy.push((()=>J())),e.$$.on_destroy.push((()=>ee())),e.$$.on_destroy.push((()=>te())),e.$$.on_destroy.push((()=>ne())),e.$$.on_destroy.push((()=>ie())),e.$$.on_destroy.push((()=>oe())),e.$$.on_destroy.push((()=>re())),e.$$.on_destroy.push((()=>se())),e.$$.on_destroy.push((()=>ae())),e.$$.on_destroy.push((()=>le())),e.$$.on_destroy.push((()=>ce())),e.$$.on_destroy.push((()=>ue())),e.$$.on_destroy.push((()=>de()));let{$$slots:pe={},$$scope:he}=t,{componentContext:ge}=t,{cls:me=""}=t,{style:fe}=t,{layoutParams:ve={}}=t,{customDescription:_e=!1}=t,{customPaddings:be=!1}=t,{customActions:ye=""}=t,{additionalPaddings:xe=null}=t,{heightByAspect:we=!1}=t,{parentOf:ke}=t,{parentOfSimpleMode:$e}=t,{replaceItems:Ce}=t,{hasInnerFocusable:Ie=!1}=t;const Me=kn(hi),je=kn(Ai),Se=Me.isPointerFocus;Lt(e,Se,(e=>n(127,j=e)));const Te=Me.direction;let Ee,Le;Lt(e,Te,(e=>n(9,G=e)));let De,ze,Oe,Ae,Ne,Re,Be,Pe,He,Ue,Ve,Ge,qe,Fe,Ze,Ye,We,Xe,Ke,Qe,Je=null,et=[],tt={},nt={},it=!1,ot=1,rt="transparent",st=0,at={"top-left":0,"top-right":0,"bottom-right":0,"bottom-left":0},lt="",ct=null,ut="",dt={},pt=0,ht=0,gt=0,mt=!1,ft=!1,vt={},_t=0,bt=0,yt=0,wt=!1,kt=!1,$t=1,Ct=[],It=!1,Mt=!1,jt=[],St=[],Tt=[],Dt=[],zt=[],Ot=[],At="",Nt=!1,Rt="visible",Bt=0,Pt=0,Ht=!1;function Ut(e,t){if(!Array.isArray(ke)||!Ce)return;if($e&&1!==(Array.isArray(t)&&t.length||0))return;const i=ke.findIndex((t=>(null==t?void 0:t.id)===e)),o=ke.slice();o.splice(i,1,...t||[]),n(42,ke=o),Ce(o)}function Vt(e){const t=Fi(e.start_value,1),i=Fi(e.end_value,1),o=Hi(e.start_delay,0),r=Ki()?0:Hi(e.duration,300),s=qi(e.interpolator,"ease_in_out").replace(/_/g,"-");switch(e.name){case"fade":return n(86,Fe=t),n(87,Ze=i),"opacity ".concat(r,"ms ").concat(s," ").concat(o,"ms");case"scale":return n(88,Ye=t),n(89,We=i),"transform ".concat(r,"ms ").concat(s," ").concat(o,"ms");case"native":case"no_animation":return"";default:return ge.logError(gi(new Error("Unknown action_animation name"),{additional:{animation:e.name}})),""}}function Gt(){if(Je&&Ee){const e=Me.getExtensionContext();Je.forEach((t=>{var n;null===(n=t.unmountView)||void 0===n||n.call(t,Ee,e)})),Je=null}}return xn((()=>{var e;et.forEach((e=>{Me.unregisterParentOf(e)})),n(53,et=[]),null===(e=ge.json.tooltips)||void 0===e||e.forEach((e=>{Me.unregisterTooltip(e)})),Gt()})),e.$$set=e=>{"componentContext"in e&&n(0,ge=e.componentContext),"cls"in e&&n(1,me=e.cls),"style"in e&&n(43,fe=e.style),"layoutParams"in e&&n(44,ve=e.layoutParams),"customDescription"in e&&n(45,_e=e.customDescription),"customPaddings"in e&&n(46,be=e.customPaddings),"customActions"in e&&n(47,ye=e.customActions),"additionalPaddings"in e&&n(48,xe=e.additionalPaddings),"heightByAspect"in e&&n(49,we=e.heightByAspect),"parentOf"in e&&n(42,ke=e.parentOf),"parentOfSimpleMode"in e&&n(50,$e=e.parentOfSimpleMode),"replaceItems"in e&&n(51,Ce=e.replaceItems),"hasInnerFocusable"in e&&n(2,Ie=e.hasInnerFocusable),"$$scope"in e&&n(121,he=e.$$scope)},e.$$.update=()=>{if(1&e.$$.dirty[0]|8192&e.$$.dirty[1]|262144&e.$$.dirty[2]&&ge.json&&ve&&(n(59,ct=null),n(60,ut=""),n(77,$t=1),n(90,Nt=!1),n(91,Rt="visible"),n(92,Bt=0),n(93,Pt=0),n(94,Xe=void 0),n(95,Ke=void 0),n(80,Ct=ge.fakeElement?[]:ge.json.transition_triggers||["state_change","visibility_change"]),n(81,It=Boolean(-1!==Ct.indexOf("state_change")&&ge.json.id)),Mt=Boolean(-1!==Ct.indexOf("visibility_change")&&ge.json.id)),1&e.$$.dirty[0]&&(n(36,i=ge.getDerivedFromVars(ge.json.focus)),K(),K=Et(i,(e=>n(105,L=e)))),1&e.$$.dirty[0]&&(n(35,o=ge.getDerivedFromVars(ge.json.border)),de(),de=Et(o,(e=>n(119,Z=e)))),1&e.$$.dirty[0]&&(n(34,r=ge.getDerivedFromVars(ge.json.paddings)),ue(),ue=Et(r,(e=>n(118,F=e)))),1&e.$$.dirty[0]&&(n(33,s=ge.getDerivedFromVars(ge.json.margins)),le(),le=Et(s,(e=>n(116,V=e)))),1&e.$$.dirty[0]&&(n(32,a=ge.getDerivedFromVars(ge.json.width)),se(),se=Et(a,(e=>n(114,H=e)))),1&e.$$.dirty[0]&&(n(31,l=ge.getDerivedFromVars(ge.json.alignment_horizontal)),ce(),ce=Et(l,(e=>n(117,q=e)))),1&e.$$.dirty[0]&&(n(30,c=ge.getDerivedFromVars(ge.json.height)),re(),re=Et(c,(e=>n(113,P=e)))),1&e.$$.dirty[0]&&(n(29,u=ge.getDerivedFromVars(ge.json.alignment_vertical)),ae(),ae=Et(u,(e=>n(115,U=e)))),1&e.$$.dirty[0]&&(n(28,d=ge.getDerivedFromVars(ge.json.alpha)),oe(),oe=Et(d,(e=>n(112,B=e)))),1&e.$$.dirty[0]&&(n(27,p=ge.getDerivedFromVars(ge.json.accessibility)),ie(),ie=Et(p,(e=>n(111,R=e)))),1&e.$$.dirty[0]&&(n(26,h=ge.getDerivedFromVars(ge.json.background)),ne(),ne=Et(h,(e=>n(110,N=e)))),1&e.$$.dirty[0]&&(n(25,g=ge.getDerivedFromVars(ge.json.action)),ee(),ee=Et(g,(e=>n(108,O=e)))),1&e.$$.dirty[0]&&(n(24,m=ge.getDerivedFromVars(ge.json.actions)),te(),te=Et(m,(e=>n(109,A=e)))),1&e.$$.dirty[0]&&(n(23,f=ge.getDerivedFromVars(ge.json.doubletap_actions)),J(),J=Et(f,(e=>n(107,z=e)))),1&e.$$.dirty[0]&&(n(22,v=ge.getDerivedFromVars(ge.json.longtap_actions)),Q(),Q=Et(v,(e=>n(106,D=e)))),1&e.$$.dirty[0]&&(n(21,_=ge.getDerivedFromVars(ge.json.action_animation)),X(),X=Et(_,(e=>n(104,E=e)))),1&e.$$.dirty[0]&&(n(20,b=ge.getDerivedFromVars(ge.json.visibility)),W(),W=Et(b,(e=>n(103,T=e)))),1&e.$$.dirty[0]&&(n(19,y=ge.getDerivedFromVars(ge.json.transform)),Y(),Y=Et(y,(e=>n(102,S=e)))),4720640&e.$$.dirty[1]&&(et.forEach((e=>{Me.unregisterParentOf(e)})),n(53,et=[]),ke&&ke.forEach((e=>{(null==e?void 0:e.id)&&(et.push(e.id),Me.registerParentOf(e.id,{replaceWith:Ut,isSingleMode:Boolean($e)}))}))),264&e.$$.dirty[0]|260046848&e.$$.dirty[1]|67112960&e.$$.dirty[3]){const e=Ht&&(null==L?void 0:L.border)?L.border:Z;let t={},i={},o=!1,r="";if(e){if(e.has_shadow){const n=e.shadow;t["box-shadow"]=n?function(e){var t,n,i,o,r,s;return _i((null===(t=e.offset)||void 0===t||null===(n=t.x)||void 0===n?void 0:n.value)||0)+" "+_i((null===(i=e.offset)||void 0===i||null===(o=i.y)||void 0===o?void 0:o.value)||0)+" "+_i(null!==(r=e.blur)&&void 0!==r?r:2)+" "+xi(e.color||"#000000",null!==(s=e.alpha)&&void 0!==s?s:.19)}(n):"0 1px 2px 0 rgba(0,0,0,.18), 0 0 0 1px rgba(0,0,0,.07)"}if(e.stroke&&(o=!0,n(55,ot=Hi(e.stroke.width,ot)),n(56,rt=xi(e.stroke.color,1,rt)),i.border="".concat(_i(ot)," solid ").concat(rt)),e.corners_radius?(n(58,at=function(e,t){const n=[e["top-left"],e["top-right"],e["bottom-right"],e["bottom-left"]];for(let e=0;e<n.length;++e)if(n[e]&&!Bi(n[e]))return t;return e}(e.corners_radius,at)),i["border-radius"]=t["border-radius"]=Yi(at)):e.corner_radius&&(n(57,st=Hi(e.corner_radius,st)),n(58,at={"top-left":st,"top-right":st,"bottom-right":st,"bottom-left":st}),i["border-radius"]=t["border-radius"]=_i(st)),o&&ot&&(e.corners_radius||e.corner_radius)){let e=Object.assign({},at);["top-left","top-right","bottom-right","bottom-left"].forEach((t=>{e[t]=(e[t]||0)+ot/2})),r=Yi(e)}}n(54,tt=Gi(t,tt)),n(3,nt=Gi(i,nt)),n(11,it=o),n(4,lt=r)}if(268468224&e.$$.dirty[1]|33554432&e.$$.dirty[3]&&n(59,ct=function(e,t){if(!e||"object"!=typeof e)return t;const n=["top","right","bottom","left"];for(let i=0;i<n.length;++i)if(e[n[i]]&&!Bi(e[n[i]]))return t;return e}(F&&!be?F:void 0,ct)),512&e.$$.dirty[0]|268566528&e.$$.dirty[1]&&n(98,x=Ni(function(e,t){if(!e&&!t)return{};if(!t)return e;if(!e)return t;const n={};return["top","right","bottom","left","start","end"].forEach((i=>{const o=e[i];o&&(n[i]=o);const r=t[i];r&&(n[i]=(n[i]||0)+r)})),n}(ct,xe),G)),512&e.$$.dirty[0]|536870912&e.$$.dirty[1]|8388608&e.$$.dirty[3]&&n(60,ut=Pi(V,G,ut)),513&e.$$.dirty[0]|1073750016&e.$$.dirty[1]|8&e.$$.dirty[2]|27262976&e.$$.dirty[3]){let e,t,i,o,r={},s=0,a=0,l=!1,c=!1;const u=null==H?void 0:H.type;if("fixed"===u)n(65,pt=Hi(null==H?void 0:H.value,pt)),t=_i(pt);else if("wrap_content"===u||("match_parent"===u||!u)&&ve.parentHorizontalWrapContent){if(e="content",("wrap_content"===u&&(null==H?void 0:H.constrained)||("match_parent"===u||!u)&&ve.parentHorizontalWrapContent)&&(r["width-constrained"]=!0,"horizontal"===ve.parentContainerOrientation&&(a=1)),"wrap_content"===u){const e=H;e.min_size&&Bi(e.min_size.value)&&(i=_i(e.min_size.value)),e.max_size&&Bi(e.max_size.value)&&(o=_i(e.max_size.value))}"match_parent"!==u&&u||ge.logError(gi(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}else e="parent","vertical"===ve.parentContainerOrientation&&ve.parentContainerWrap&&(c=!0,ge.logError(gi(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"vertical"===ve.parentLayoutOrientation?t="calc(100% - ".concat(bi(((null==V?void 0:V.left)||0)+((null==V?void 0:V.right)||0)),")"):"horizontal"===ve.parentContainerOrientation&&(s=H&&"weight"in H&&H.weight||1,ve.parentContainerWrap&&(l=!0));if("parent"===e)r["halign-self"]="stretch";else{const e=q;r["halign-self"]="left"===e||"center"===e||"right"===e||"start"===e||"end"===e?("ltr"===G?$o:Co)[e]:ve.parentHAlign||"start"}e&&(r.width=e),n(62,De=t),n(63,ze=i),n(64,Oe=o),n(66,ht=s),n(67,gt=a),n(61,dt=Gi(r,dt)),n(68,mt=l),n(12,ft=c)}if(1&e.$$.dirty[0]|270336&e.$$.dirty[1]|2176&e.$$.dirty[2]|13631488&e.$$.dirty[3]){let e,t,i,o,r={},s=0,a=0,l=!1,c=!1;const u=null==P?void 0:P.type;if(we);else if("fixed"===u)n(73,_t=Hi(null==P?void 0:P.value,_t)),t=_i(_t);else if("match_parent"!==u||ve.parentVerticalWrapContent){if(e="content",("wrap_content"===u&&(null==P?void 0:P.constrained)||"match_parent"===u&&ve.parentVerticalWrapContent)&&(r["height-constrained"]=!0,"vertical"===ve.parentContainerOrientation&&(a=1)),"wrap_content"===u){const e=P;(null==e?void 0:e.min_size)&&Bi(e.min_size.value)&&(i=_i(e.min_size.value)),(null==e?void 0:e.max_size)&&Bi(e.max_size.value)&&(o=_i(e.max_size.value))}"match_parent"===u&&ge.logError(gi(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}else e="parent","horizontal"===ve.parentContainerOrientation&&ve.parentContainerWrap&&(c=!0,ge.logError(gi(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"horizontal"===ve.parentLayoutOrientation?t="calc(100% - ".concat(bi(((null==V?void 0:V.top)||0)+((null==V?void 0:V.bottom)||0)),")"):"vertical"===ve.parentContainerOrientation&&(s=(null==P?void 0:P.weight)||1,ve.parentContainerWrap&&(l=!0));if("parent"===e)r["valign-self"]="stretch";else{const e=U;"top"===e||"center"===e||"bottom"===e||"baseline"===e&&"horizontal"===ve.parentContainerOrientation?r["valign-self"]=Io[e]:r["valign-self"]=ve.parentVAlign||"start"}e&&(r.height=e),n(70,Ae=t),n(71,Ne=i),n(72,Re=o),n(74,bt=s),n(75,yt=a),n(69,vt=Gi(r,vt)),n(76,wt=l),n(13,kt=c)}var t,j;if(8192&e.$$.dirty[1]&&n(101,w=!!ve.overlapParent||void 0),8192&e.$$.dirty[1]|3145728&e.$$.dirty[3]&&n(100,k=ve.overlapParent&&(!H||"match_parent"===H.type)&&!ve.parentHorizontalWrapContent&&"match_parent"===(null==P?void 0:P.type)&&!ve.parentVerticalWrapContent),8192&e.$$.dirty[1]&&n(99,$=ve.gridArea?"".concat(ve.gridArea.y+1,"/").concat(ve.gridArea.x+1,"/span ").concat(ve.gridArea.rowSpan,"/span ").concat(ve.gridArea.colSpan):void 0),32768&e.$$.dirty[2]|524288&e.$$.dirty[3]&&(n(77,(j=$t,$t=!Bi(t=B)||void 0===t||t>1?j:Number(t))),n(78,Be=1===$t?void 0:$t)),16384&e.$$.dirty[1]|262144&e.$$.dirty[3]&&(n(10,Le=void 0),R&&!_e&&R.description&&(n(10,Le={}),n(10,Le["aria-label"]=R.description,Le))),368&e.$$.dirty[0]|135168&e.$$.dirty[3]&&(n(5,Pe=Ht&&(null==L?void 0:L.background)?L.background:N),n(79,He={}),n(6,Ue=!1),Array.isArray(Pe)&&(n(6,Ue=Pe.some((e=>"image"===e.type||"nine_patch_image"===e.type))||Boolean(lt)),!Ue))){const e=Ci(Pe);n(79,He["background-color"]=e.color,He),n(79,He["background-image"]=e.image,He),n(79,He["background-size"]=e.size,He),n(79,He["background-position"]=e.position,He),n(79,He["background-repeat"]="no-repeat",He)}if(1&e.$$.dirty[0]|524288&e.$$.dirty[2]&&(n(82,Ve=void 0),It&&ge.json.transition_in&&Me.isRunning("stateChange")&&n(82,Ve=!0)),1&e.$$.dirty[0]|524288&e.$$.dirty[2]&&(n(84,qe=void 0),It&&ge.json.transition_change&&Me.isRunning("stateChange")&&je.hasTransitionChange(ge.json.id)&&n(84,qe=!0)),1&e.$$.dirty[0]|65536&e.$$.dirty[1]|126976&e.$$.dirty[3]){let e=A||O&&[O]||[],t=z||[],i=D||[],o=(null==L?void 0:L.on_focus)||[],r=(null==L?void 0:L.on_blur)||[];ge.fakeElement?(e=[],t=[],i=[],o=[],r=[]):(Array.isArray(e)||(e=[],ge.logError(gi(new Error("Actions should be array")))),Array.isArray(t)||(t=[],ge.logError(gi(new Error("DoubleTapActions should be array")))),Array.isArray(i)||(i=[],ge.logError(gi(new Error("LongTapActions should be array")))),Array.isArray(o)||(o=[],ge.logError(gi(new Error("FocusActions should be array")))),Array.isArray(r)||(r=[],ge.logError(gi(new Error("BlurActions should be array"))))),(e.length||t.length||i.length)&&ye&&(e=[],t=[],i=[],ge.logError(gi(new Error('Cannot use action on component "'.concat(ye,'"'))))),n(14,jt=e.filter(Wi)),n(15,St=t.filter(Wi)),n(16,Tt=i.filter(Wi)),Dt=o.filter(Wi),zt=r.filter(Wi)}if(128&e.$$.dirty[0]|2048&e.$$.dirty[3]&&E&&(n(7,Ot=Zi(E)),n(85,At=Ot.map(Vt).filter(Boolean).join(", "))),805306368&e.$$.dirty[2]|1024&e.$$.dirty[3]){const e=Rt,t=function(e,t){return"visible"===e||"invisible"===e||"gone"===e?e:t}(T,Rt);e!==t&&(!Nt||"visible"!==Rt&&"visible"!==t?n(91,Rt=t):async function(e){n(91,Rt=e);const t="visible"===e?"in":"out",i="in"===t?ge.json.transition_in:ge.json.transition_out;Mt&&i&&(await Ln(),"in"===t&&n(83,Ge=!0),je.runVisibilityTransition(Object.assign(Object.assign({},ge.json),{visibility:"visible"}),ge,i,Ee,t).then((()=>{"in"===t&&n(83,Ge=!1)})).catch((e=>{throw"in"===t&&n(83,Ge=!1),e})))}(t)),Nt||n(90,Nt=!0)}if(1&e.$$.dirty[0]|2097152&e.$$.dirty[1]|8&e.$$.dirty[3]&&ge.json&&Ee&&!Vi(ge.json.extensions,Qe)){let e=n(96,Qe=ge.json.extensions);Ln().then((()=>{if(e===Qe&&Ee&&(Gt(),Array.isArray(ge.json.extensions))){const e=Me.getExtensionContext();Je=ge.json.extensions.map((t=>{var n;const i=t.id;if(!i)return;const o=Me.getExtension(i,t.params);return o&&(null===(n=o.mountView)||void 0===n||n.call(o,Ee,e)),o})).filter($i)}}))}if(e.$$.dirty[0],257&e.$$.dirty[0]|1073750016&e.$$.dirty[1]|552599680&e.$$.dirty[2]|384&e.$$.dirty[3]&&n(18,C=Object.assign(Object.assign(Object.assign({},dt),vt),{"parent-overlap":w,"parent-overlap-absolute":k,"scroll-snap":ve.scrollSnap,"hide-on-transition-in":Ve||Ge||qe,visibility:Rt,"has-action-animation":Boolean(At),"parent-flex":ve.parentContainerOrientation||void 0,"parent-grid":Boolean(ve.gridArea)||void 0,"has-custom-focus":Boolean(Ht&&ge.json.focus)})),1073741824&e.$$.dirty[2]|513&e.$$.dirty[3]&&S&&void 0!==S.rotation){const e=S.pivot_x||{type:"pivot-percentage",value:50};n(92,Bt=Fi(e.value,Bt));const t="pivot-fixed"===e.type?_i(Bt):"".concat(Bt,"%"),i=S.pivot_y||{type:"pivot-percentage",value:50};n(93,Pt=Fi(i.value,Pt));const o="pivot-fixed"===i.type?_i(Pt):"".concat(Pt,"%");n(94,Xe="".concat(t," ").concat(o)),n(95,Ke="rotate(".concat(S.rotation,"deg)"))}20560&e.$$.dirty[2]&&n(97,I=mt||wt?"100%":ht||bt?0:void 0),545263616&e.$$.dirty[1]|260257591&e.$$.dirty[2]|118&e.$$.dirty[3]&&n(17,M=Object.assign(Object.assign(Object.assign(Object.assign({},fe),He),tt),{width:De,"min-width":ze,"max-width":Oe,height:Ae,"min-height":Ne,"max-height":Re||(null==fe?void 0:fe["max-height"]),"grid-area":$,padding:x,margin:ut,opacity:Be,transition:At,"transform-origin":Xe,transform:Ke,"flex-grow":ht||bt||void 0,"flex-shrink":gt||yt?1:void 0,"flex-basis":I,"--divkit-animation-opacity-start":Fe,"--divkit-animation-opacity-end":Ze,"--divkit-animation-scale-start":Ye,"--divkit-animation-scale-end":We}))},[ge,me,Ie,nt,lt,Pe,Ue,Ot,Ht,G,Le,it,ft,kt,jt,St,Tt,M,C,y,b,_,v,f,m,g,h,p,d,u,c,l,a,s,r,o,i,Se,Te,function(e){var t;n(52,Ee=e),It&&ge.json.transition_in&&je.registerChildWithTransitionIn(ge.json,ge,ge.json.transition_in,e).then((()=>{n(82,Ve=!1)})).catch((e=>{throw n(82,Ve=!1),e})),It&&ge.json.transition_out&&je.registerChildWithTransitionOut(ge.json,ge,ge.json.transition_out,e),It&&ge.json.transition_change&&je.registerChildWithTransitionChange(ge.json,ge,ge.json.transition_change,e).then((()=>{n(84,qe=!1)})).catch((e=>{throw n(84,qe=!1),e}));const i=ge.fakeElement?[]:ge.json.visibility_actions||ge.json.visibility_action&&[ge.json.visibility_action],o=ge.fakeElement?[]:ge.json.disappear_actions;let r;(Array.isArray(i)&&i.length||Array.isArray(o)&&o.length)&&(r=function(e,t){let{visibilityActions:n,disappearActions:i,rootCtx:o,componentContext:r}=t;const s=[];n&&n.forEach((e=>{s.push({type:"visibility",index:s.length,action:e,visible:!1,count:0,finished:!1})})),i&&i.forEach((e=>{s.push({type:"disappear",index:s.length,action:e,visible:!1,count:0,finished:!1})}));const a=s.map(((e,t)=>{const n="visibility"===e.type;return r.getDerivedFromVars({index:t,visibility_percentage:e.action.visibility_percentage,visibility_duration:n?e.action.visibility_duration:e.action.disappear_duration,log_limit:e.action.log_limit,is_enabled:e.action.is_enabled})}));let l;const c=()=>{l&&l.disconnect(),s.forEach((e=>{e.timer&&clearTimeout(e.timer)}))},u=di(a,(e=>e)).subscribe((t=>{const n=t.filter(Di),i={};n.forEach((e=>{i[e.index]=e})),c();const a=[...new Set(n.map((e=>{const t="visibility"===s[e.index].type;return Li(t,e.visibility_percentage,t?50:0)/100})))];a.length&&(l=new IntersectionObserver((e=>{e.forEach((e=>{n.forEach((t=>{const n=s[t.index],i="visibility"===n.type,a=Li(i,t.visibility_percentage,i?50:0);let l;l=0===a?e.intersectionRatio>=1e-12:e.intersectionRatio>=a/100;const c=i?!n.visible&&l:n.visible&&!l,u=i?!l:l;c?n.finished||(n.timer=setTimeout((()=>{++n.count;const e=0===t.log_limit?1/0:t.log_limit||1;++n.count>=e&&(n.finished=!0);const s=r.getJsonWithVars(n.action),a=s.url,l=s.typed;if(a){const e=Ti(a);e&&!Ei(e,o.getBuiltinProtocols())&&("div-action"===e?o.execAction(s):s.log_id&&o.execCustomAction(s))}else l&&o.execAction(s);o.logStat(i?"visible":"disappear",s)}),t.visibility_duration||800)):u&&n.timer&&clearTimeout(n.timer),n.visible=l}))}))}),{threshold:a}),l.observe(e))}));return{destroy(){c(),u()}}}(e,{visibilityActions:i,disappearActions:o,rootCtx:Me,componentContext:ge}));const s=ge.json.id;return s&&je.registerChild(s),null===(t=ge.json.tooltips)||void 0===t||t.forEach((t=>{Me.registerTooltip(e,t)})),{destroy(){s&&je.unregisterChild(s),r&&r.destroy()}}},function(){ge.json.focus&&(j||n(8,Ht=!0),ge.execAnyActions(Dt))},function(){ge.json.focus&&(n(8,Ht=!1),ge.execAnyActions(zt))},ke,fe,ve,_e,be,ye,xe,we,$e,Ce,Ee,et,tt,ot,rt,st,at,ct,ut,dt,De,ze,Oe,pt,ht,gt,mt,vt,Ae,Ne,Re,_t,bt,yt,wt,$t,Be,He,Ct,It,Ve,Ge,qe,At,Fe,Ze,Ye,We,Nt,Rt,Bt,Pt,Xe,Ke,Qe,I,x,$,k,w,S,T,E,L,D,z,O,A,N,R,B,P,H,U,V,q,F,Z,pe,he]}const So=class extends li{constructor(e){super(),si(this,e,jo,ko,Tt,{componentContext:0,cls:1,style:43,layoutParams:44,customDescription:45,customPaddings:46,customActions:47,additionalPaddings:48,heightByAspect:49,parentOf:42,parentOfSimpleMode:50,replaceItems:51,hasInnerFocusable:2},null,[-1,-1,-1,-1,-1])}},To={"text-range":"divkit-b4897","text-range_singleline":"divkit-b9de8","text-range__top-offset":"divkit-dfdba","text-range_decoration_both":"divkit-c3dfb","text-range_decoration_underline":"divkit-ca906","text-range_decoration_strike":"divkit-a8dd7","text-range_decoration_none":"divkit-cbf85"};function Eo(e,t){const n=Number(e);return Number.isNaN(n)||n<=0?t:n}function Lo(e){let t,n;return{c(){t=tn("span"),ln(t,"class",n=To["text-range__top-offset"]),dn(t,"margin-top",e[5])},m(e,n){Qt(e,t,n)},p(e,n){32&n&&dn(t,"margin-top",e[5])},d(e){e&&Jt(t)}}}function Do(e){let t;return{c(){t=on(e[1])},m(e,n){Qt(e,t,n)},p(e,n){var i,o;2&n&&(i=t,o=""+(o=e[1]),i.data!==o&&(i.data=o))},d(e){e&&Jt(t)}}}function zo(e){let t,n,i,o=e[5]&&Lo(e);return n=new ro({props:{componentContext:e[0],cls:Oi("text-range",To,e[4]),actions:e[2],style:vi(e[3]),$$slots:{default:[Do]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=sn(),ii(n.$$.fragment)},m(e,r){o&&o.m(e,r),Qt(e,t,r),oi(n,e,r),i=!0},p(e,i){let[r]=i;e[5]?o?o.p(e,r):(o=Lo(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};1&r&&(s.componentContext=e[0]),16&r&&(s.cls=Oi("text-range",To,e[4])),4&r&&(s.actions=e[2]),8&r&&(s.style=vi(e[3])),8388610&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){i||(qn(n.$$.fragment,e),i=!0)},o(e){Fn(n.$$.fragment,e),i=!1},d(e){e&&Jt(t),o&&o.d(e),ri(n,e)}}}function Oo(e,t,n){let i,o,r,s,a,l;var c,u;let{componentContext:d}=t,{text:p}=t,{rootFontSize:h}=t,{textStyles:g={}}=t,{singleline:m=!1}=t,{actions:f}=t;const v=kn(hi);let _,b="none",y=12,x=1.25,w="",k="",$="",C=null;return e.$$set=e=>{"componentContext"in e&&n(0,d=e.componentContext),"text"in e&&n(1,p=e.text),"rootFontSize"in e&&n(6,h=e.rootFontSize),"textStyles"in e&&n(7,g=e.textStyles),"singleline"in e&&n(8,m=e.singleline),"actions"in e&&n(2,f=e.actions)},e.$$.update=()=>{if(1&e.$$.dirty&&d.json&&(n(11,b="none"),n(12,y=12),n(13,x=1.25),n(14,w=""),n(15,_=void 0),n(16,k=""),n(17,$=""),n(18,C=null)),128&e.$$.dirty){let e="none";(g.underline||g.strike)&&("single"===g.underline&&"single"===g.strike?e="both":"single"===g.underline?e="underline":"single"===g.strike&&(e="strike")),n(11,b=e)}4224&e.$$.dirty&&n(12,y=Eo(g.font_size,y)),4224&e.$$.dirty&&ao(g.line_height)&&n(13,x=Number(g.line_height)/y),128&e.$$.dirty&&Bi(g.letter_spacing)&&n(14,w=_i(g.letter_spacing)),32896&e.$$.dirty&&(n(15,_=function(e,t){return function(e){if("light"===e||"medium"===e||"bold"===e||"regular"===e)return"medium"===e?500:"bold"===e?700:"light"===e?300:400}(e)||t}(g.font_weight,_)),"string"==typeof g.font_family&&g.font_family?n(16,k=v.typefaceProvider(g.font_family,{fontWeight:_||400})):n(16,k="")),131200&e.$$.dirty&&n(17,$=xi(g.text_color,1,$)),128&e.$$.dirty&&n(5,i=g.top_offset?_i(g.top_offset):""),128&e.$$.dirty&&n(20,o=g.background?Ci([g.background]):null),640&e.$$.dirty&&((null===n(9,c=g.border)||void 0===c?void 0:c.stroke)&&g.border.stroke.color&&"transparent"!==xi(g.border.stroke.color)&&ao(g.border.stroke.width)?n(18,C={color:g.border.stroke.color,width:g.border.stroke.width}):n(18,C=null)),1152&e.$$.dirty&&n(19,r=Eo(null===n(10,u=g.border)||void 0===u?void 0:u.corner_radius,0)),4224&e.$$.dirty&&n(21,s=g.text_shadow?function(e,t){var n,i,o,r,s,a;return"drop-shadow("+xi(e.color||"#000000",null!==(n=e.alpha)&&void 0!==n?n:.19)+" "+_i(10*((null===(i=e.offset)||void 0===i||null===(o=i.x)||void 0===o?void 0:o.value)||0)/t)+" "+_i(10*((null===(r=e.offset)||void 0===r||null===(s=r.y)||void 0===s?void 0:s.value)||0)/t)+" "+_i(10*(null!==(a=e.blur)&&void 0!==a?a:2)/t)+")"}(g.text_shadow,y):void 0),2304&e.$$.dirty&&n(4,a={singleline:m,decoration:b}),4190272&e.$$.dirty&&n(3,l={"font-size":_i(10*y/h),"line-height":x,"letter-spacing":w,"font-weight":_,"font-family":k,filter:s,color:$,background:(null==o?void 0:o.color)||void 0,"box-shadow":C?"inset 0 0 0 ".concat(_i(C.width)," ").concat(C.color):void 0,"border-radius":r?_i(r):void 0})},[d,p,f,l,a,i,h,g,m,c,u,b,y,x,w,_,k,$,C,r,o,s]}const Ao=class extends li{constructor(e){super(),si(this,e,Oo,zo,Tt,{componentContext:0,text:1,rootFontSize:6,textStyles:7,singleline:8,actions:2})}};function No(e,t){return"source_in"===e||"source_atop"===e||"darken"===e||"lighten"===e||"multiply"===e||"screen"===e?e:t}function Ro(e,t){let n;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];null!==n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,o),n=null}),t)}}function Bo(e,t){let n=null;const i=()=>{const n=getComputedStyle(e),i=parseFloat(n.lineHeight);e.style.webkitLineClamp="",e.style.maxHeight="";const o=e.offsetHeight;if(e.scrollHeight<=o+1e-9)return;let r=Math.max(1,Math.floor(o/i));t.maxLines&&t.maxLines<r&&(r=t.maxLines),e.style.webkitLineClamp=String(r),e.style.maxHeight=i*r+"px"},o=Ro(i,50),r=()=>{n&&(n.disconnect(),n=null)},s=()=>{if(r(),t.enabled){if(i(),"undefined"!=typeof ResizeObserver){n=new ResizeObserver(o);const t=e.parentElement;t&&n.observe(t)}}else e.style.webkitLineClamp=String(t.lineClamp||"")};return s(),{update(e){t=e,s()},destroy(){r()}}}const{Boolean:Po}=qt;function Ho(e,t,n){const i=e.slice();return i[60]=t[n],i}function Uo(e){let t,n;return t=new Ao({props:{componentContext:e[0],text:e[2],rootFontSize:e[3],textStyles:e[29],singleline:e[6]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.componentContext=e[0]),4&n[0]&&(i.text=e[2]),8&n[0]&&(i.rootFontSize=e[3]),536870912&n[0]&&(i.textStyles=e[29]),64&n[0]&&(i.singleline=e[6]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Vo(e){let t,n,i=Wn(e[10]),o=[];for(let t=0;t<i.length;t+=1)o[t]=Zo(Ho(e,i,t));const r=e=>Fn(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=sn()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);Qt(e,t,i),n=!0},p(e,n){if(1353&n[0]|1&n[1]){let s;for(i=Wn(e[10]),s=0;s<i.length;s+=1){const r=Ho(e,i,s);o[s]?(o[s].p(r,n),qn(o[s],1)):(o[s]=Zo(r),o[s].c(),qn(o[s],1),o[s].m(t.parentNode,t))}for(Vn(),s=i.length;s<o.length;s+=1)r(s);Gn()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)qn(o[e]);n=!0}},o(e){o=o.filter(Po);for(let e=0;e<o.length;e+=1)Fn(o[e]);n=!1},d(e){e&&Jt(t),en(o,e)}}}function Go(e){let t,n,i,o,r,s,a,l,c;return{c(){t=tn("span"),n=tn("img"),ln(n,"class",i=mi.text__image),St(n.src,o=e[60].image.url)||ln(n,"src",o),ln(n,"loading",r=e[60].image.preloadRequired?"eager":"lazy"),ln(n,"decoding","async"),ln(n,"aria-hidden","true"),ln(n,"alt",""),ln(n,"style",s=vi({width:e[60].image.width,height:e[60].image.height,"margin-top":e[8]?"-".concat(e[60].image.height):void 0,"margin-bottom":e[8]?"-".concat(e[60].image.height):void 0,filter:e[60].image.svgFilterId?"url(#".concat(e[60].image.svgFilterId,")"):void 0})),ln(t,"style",a=vi(e[60].image.wrapperStyle))},m(i,o){Qt(i,t,o),Wt(t,n),l||(c=an(n,"error",e[31]),l=!0)},p(e,i){1024&i[0]&&!St(n.src,o=e[60].image.url)&&ln(n,"src",o),1024&i[0]&&r!==(r=e[60].image.preloadRequired?"eager":"lazy")&&ln(n,"loading",r),1280&i[0]&&s!==(s=vi({width:e[60].image.width,height:e[60].image.height,"margin-top":e[8]?"-".concat(e[60].image.height):void 0,"margin-bottom":e[8]?"-".concat(e[60].image.height):void 0,filter:e[60].image.svgFilterId?"url(#".concat(e[60].image.svgFilterId,")"):void 0}))&&ln(n,"style",s),1024&i[0]&&a!==(a=vi(e[60].image.wrapperStyle))&&ln(t,"style",a)},i:xt,o:xt,d(e){e&&Jt(t),l=!1,c()}}}function qo(e){let t,n,i=e[60].text&&Fo(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){e[60].text?i?(i.p(e,n),1024&n[0]&&qn(i,1)):(i=Fo(e),i.c(),qn(i,1),i.m(t.parentNode,t)):i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn())},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}function Fo(e){let t,n;return t=new Ao({props:{componentContext:e[0],text:e[60].text,rootFontSize:e[3],textStyles:e[60].textStyles,singleline:e[6],actions:e[60].actions}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.componentContext=e[0]),1024&n[0]&&(i.text=e[60].text),8&n[0]&&(i.rootFontSize=e[3]),1024&n[0]&&(i.textStyles=e[60].textStyles),64&n[0]&&(i.singleline=e[6]),1024&n[0]&&(i.actions=e[60].actions),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Zo(e){let t,n,i,o;const r=[qo,Go],s=[];function a(e,t){return"text"in e[60]?0:e[60].image?1:-1}return~(t=a(e))&&(n=s[t]=r[t](e)),{c(){n&&n.c(),i=sn()},m(e,n){~t&&s[t].m(e,n),Qt(e,i,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&s[t].p(e,o):(n&&(Vn(),Fn(s[l],1,1,(()=>{s[l]=null})),Gn()),~t?(n=s[t],n?n.p(e,o):(n=s[t]=r[t](e),n.c()),qn(n,1),n.m(i.parentNode,i)):n=null)},i(e){o||(qn(n),o=!0)},o(e){Fn(n),o=!1},d(e){e&&Jt(i),~t&&s[t].d(e)}}}function Yo(e){let t,n,i,o,r,s,a,l,c;const u=[Vo,Uo],d=[];function p(e,t){return e[10].length?0:1}return n=p(e),i=d[n]=u[n](e),{c(){t=tn("span"),i.c(),ln(t,"class",o=Oi("text__inner",mi,e[12])),ln(t,"style",r=vi(e[11]))},m(i,o){Qt(i,t,o),d[n].m(t,null),a=!0,l||(c=Rt(s=Bo.call(null,t,{enabled:e[7],lineClamp:"number"==typeof e[4]?e[4]:void 0,maxLines:e[9]})),l=!0)},p(e,l){let c=n;n=p(e),n===c?d[n].p(e,l):(Vn(),Fn(d[c],1,1,(()=>{d[c]=null})),Gn(),i=d[n],i?i.p(e,l):(i=d[n]=u[n](e),i.c()),qn(i,1),i.m(t,null)),(!a||4096&l[0]&&o!==(o=Oi("text__inner",mi,e[12])))&&ln(t,"class",o),(!a||2048&l[0]&&r!==(r=vi(e[11])))&&ln(t,"style",r),s&&Mt(s.update)&&656&l[0]&&s.update.call(null,{enabled:e[7],lineClamp:"number"==typeof e[4]?e[4]:void 0,maxLines:e[9]})},i(e){a||(qn(i),a=!0)},o(e){Fn(i),a=!1},d(e){e&&Jt(t),d[n].d(),l=!1,c()}}}function Wo(e){let t,n;return t=new So({props:{cls:Oi("text",mi,e[13])+" "+(e[5]?"":pi.root__unselectable),componentContext:e[0],layoutParams:e[1],$$slots:{default:[Yo]},$$scope:{ctx:e}}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};8224&n[0]&&(i.cls=Oi("text",mi,e[13])+" "+(e[5]?"":pi.root__unselectable)),1&n[0]&&(i.componentContext=e[0]),2&n[0]&&(i.layoutParams=e[1]),536879069&n[0]|2&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Xo(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T,E,L,D,z,O,A,N,R,B,P,H=xt,U=xt,V=xt,G=xt,q=xt,F=xt,Z=xt,Y=xt,W=xt,X=xt,K=xt,Q=xt,J=xt,ee=xt,te=xt;e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>Q())),e.$$.on_destroy.push((()=>J())),e.$$.on_destroy.push((()=>ee())),e.$$.on_destroy.push((()=>te()));let{componentContext:ne}=t,{layoutParams:ie}=t;const oe=kn(hi),re=oe.direction;Lt(e,re,(e=>n(52,O=e)));let se,ae="",le=12,ce=1.25,ue=!1,de="",pe="",he=!1,ge="start",me="start",fe="",ve="",_e="",be=!1,ye=[],xe=[];return xn((()=>{xe.forEach((e=>{let[t,n]=e;oe.removeSvgFilter(t,n)}))})),e.$$set=e=>{"componentContext"in e&&n(0,ne=e.componentContext),"layoutParams"in e&&n(1,ie=e.layoutParams)},e.$$.update=()=>{var t,ie;if(1&e.$$.dirty[0]&&ne.json&&(n(3,le=12),n(32,ce=1.25),n(8,ue=!1),n(33,de=""),n(9,se=void 0),n(4,pe=""),n(34,he=!1),n(35,ge="start"),n(36,me="start"),n(37,fe=""),n(39,_e=""),n(5,be=!1)),1&e.$$.dirty[0]&&(n(28,i=ne.getDerivedFromVars(ne.json.text)),te(),te=Et(i,(e=>n(56,P=e)))),1&e.$$.dirty[0]&&(n(27,o=ne.getDerivedFromVars(ne.json.ranges)),U(),U=Et(o,(e=>n(44,I=e)))),1&e.$$.dirty[0]&&(n(26,r=ne.getDerivedFromVars(ne.json.images)),H(),H=Et(r,(e=>n(43,C=e)))),1&e.$$.dirty[0]&&(n(25,s=ne.getDerivedFromVars({font_size:ne.json.font_size,letter_spacing:ne.json.letter_spacing,font_weight:ne.json.font_weight,font_family:ne.json.font_family,text_color:ne.json.text_color,underline:ne.json.underline,strike:ne.json.strike,line_height:ne.json.line_height,text_shadow:ne.json.text_shadow})),V(),V=Et(s,(e=>n(29,M=e)))),1&e.$$.dirty[0]&&(n(24,a=ne.getDerivedFromVars(ne.json.font_size)),ee(),ee=Et(a,(e=>n(55,B=e)))),1&e.$$.dirty[0]&&(n(23,l=ne.getDerivedFromVars(ne.json.line_height)),J(),J=Et(l,(e=>n(54,R=e)))),1&e.$$.dirty[0]&&(n(22,c=ne.getDerivedFromVars(ne.json.max_lines)),W(),W=Et(c,(e=>n(50,D=e)))),1&e.$$.dirty[0]&&(n(21,u=ne.getDerivedFromVars(ne.json.text_alignment_horizontal)),K(),K=Et(u,(e=>n(53,A=e)))),1&e.$$.dirty[0]&&(n(20,d=ne.getDerivedFromVars(ne.json.text_alignment_vertical)),X(),X=Et(d,(e=>n(51,z=e)))),1&e.$$.dirty[0]&&(n(19,p=ne.getDerivedFromVars(ne.json.text_color)),Y(),Y=Et(p,(e=>n(49,L=e)))),1&e.$$.dirty[0]&&(n(18,h=ne.getDerivedFromVars(ne.json.focused_text_color)),Z(),Z=Et(h,(e=>n(48,E=e)))),1&e.$$.dirty[0]&&(n(17,g=ne.getDerivedFromVars(ne.json.truncate)),F(),F=Et(g,(e=>n(47,T=e)))),1&e.$$.dirty[0]&&(n(16,m=ne.getDerivedFromVars(ne.json.text_gradient)),q(),q=Et(m,(e=>n(46,S=e)))),1&e.$$.dirty[0]&&(n(15,f=ne.getDerivedFromVars(ne.json.selectable)),G(),G=Et(f,(e=>n(45,j=e)))),1&e.$$.dirty[0]&&(n(14,v=ne.getDerivedFromVars(ne.json.auto_ellipsize)),Q(),Q=Et(v,(e=>n(7,N=e)))),33554432&e.$$.dirty[1]&&n(2,(t=P,ae=String(null!=t?t:""))),8&e.$$.dirty[0]|16777216&e.$$.dirty[1]&&n(3,le=Eo(B,le)),8&e.$$.dirty[0]|8388608&e.$$.dirty[1]){const e=R;ao(e)?(n(32,ce=Number(e)/le),n(8,ue=!0)):n(8,ue=!1)}if(524288&e.$$.dirty[1]&&n(6,_=1===D),128&e.$$.dirty[0]|524290&e.$$.dirty[1]){let e,t="",i="",o=!1;if(D&&D>1){const n=Number(D);t=n*ce+"em",e=n,i=n,o=!0}else N&&1!==D&&(o=!0);n(33,de=t),n(9,se=e),n(4,pe=i),n(34,he=o)}if(6291472&e.$$.dirty[1]&&n(35,ge=function(e,t,n){return"left"===e||"center"===e||"right"===e||"start"===e||"end"===e?"left"===e?"ltr"===t?"start":"end":"right"===e?"ltr"===t?"end":"start":e:n}(A,O,ge)),1048608&e.$$.dirty[1]&&n(36,me="top"===(ie=z)||"center"===ie||"bottom"===ie||"baseline"===ie?"top"===ie?"start":"bottom"===ie?"end":ie:me),4&e.$$.dirty[0]|8192&e.$$.dirty[1]&&n(42,b=!I||ae&&1===I.length&&I[0]&&0===I[0].start&&"number"==typeof I[0].end&&I[0].end>=ae.length),270336&e.$$.dirty[1]&&n(41,y=Boolean(L)!==Boolean(I&&I[0]&&I[0].text_color)),797760&e.$$.dirty[1]){let e="";D&&b&&y&&(e=xi(L||I&&I[0]&&I[0].text_color,1,fe)),n(37,fe=e)}if(131200&e.$$.dirty[1]&&n(38,ve=xi(E,1,ve)),65536&e.$$.dirty[1]&&n(40,x="none"===T?"none":""),32768&e.$$.dirty[1]){let e="";if(S){const t=Ci([S]);t.image&&(e=t.image)}n(39,_e=e)}32&e.$$.dirty[0]|16384&e.$$.dirty[1]&&n(5,be=function(e,t){return 1===e||0===e||!1===e||!0===e?Boolean(e):t}(j,be)),4&e.$$.dirty[0]|12288&e.$$.dirty[1]&&function(e,t,i){let o=[];if(xe.forEach((e=>{let[t,n]=e;oe.removeSvgFilter(t,n)})),xe=[],!(Array.isArray(t)&&t.length||Array.isArray(i)&&i.length&&e))return void n(10,ye=[]);const r=e;let s=t||[{start:0,end:r.length}],a=i||[],l=0,c=[],u=[];s.forEach((e=>{void 0!==e.start&&void 0!==e.end&&(u.push({index:e.start,range:e,type:"rangeStart",isStart:!0}),u.push({index:e.end,range:e,type:"rangeEnd"}))})),a.forEach(((e,t)=>{void 0!==e.start&&e.url&&e.start<=r.length&&u.push({index:e.start,image:e,type:"image",arrayIndex:t})})),u.sort(((e,t)=>e.index===t.index?e.type!==t.type?"image"===e.type?-1:"image"===t.type?1:e.type<t.type?-1:1:"image"===e.type&&"image"===t.type?t.arrayIndex-e.arrayIndex:"rangeStart"===e.type&&"rangeStart"===t.type?e.range.end-t.range.end:"rangeStart"===e.type?1:"rangeStart"===t.type?-1:"image"!==e.type&&"image"!==t.type?e.range.start-t.range.start:0:e.index-t.index)),u.forEach((e=>{var t,n;let i="image"===e.type?null:e.range,s=e.index;if(s>l){let i=Object.assign(Object.assign({},M),...c);o.push({text:r.substring(l,s),textStyles:i,actions:"rangeEnd"===e.type&&(null===(n=null===(t=e.range)||void 0===t?void 0:t.actions)||void 0===n?void 0:n.filter(Wi))||void 0})}if("rangeStart"===e.type&&i)c.push(i);else if("rangeEnd"===e.type)c=c.filter((t=>t!==e.range));else if("image"===e.type){let t=Object.assign(Object.assign({},M),...c),n=_i(10*(e.image.width&&e.image.width.value||20)/(t.font_size||12)),i=_i(10*(e.image.height&&e.image.height.value||20)/(t.font_size||12));const r={"font-size":_i(10*(Number(t.font_size)||12)/le)};let s="";const a=e.image.tint_color,l=No(e.image.tint_mode,"source_in");if(a){const t=xi(e.image.tint_color);s=oe.addSvgFilter(t,l),xe.push([t,l])}o.push({image:{url:e.image.url,width:n,height:i,wrapperStyle:r,svgFilterId:s,preloadRequired:Boolean(e.image.preload_required)}})}l=s})),l<r.length&&o.push({text:r.substring(l),textStyles:Object.assign({},M)}),n(10,ye=o)}(ae,I,C),64&e.$$.dirty[0]|696&e.$$.dirty[1]&&n(13,w={singleline:_,multiline:he,halign:ge,valign:me,truncate:x,"has-focus-color":Boolean(ve)}),256&e.$$.dirty[1]&&n(12,k={gradient:Boolean(_e)}),24&e.$$.dirty[0]|454&e.$$.dirty[1]&&n(11,$={"font-size":_i(le),"line-height":ce,"max-height":de,"-webkit-line-clamp":pe,color:fe,"background-image":_e,"--divkit-text-focus-color":ve})},[ne,ie,ae,le,pe,be,_,N,ue,se,ye,$,k,w,v,f,m,g,h,p,d,u,c,l,a,s,r,o,i,M,re,function(e){e.target&&"classList"in e.target&&e.target.classList.add(mi.text__image_hidden)},ce,de,he,ge,me,fe,ve,_e,x,y,b,C,I,j,S,T,E,L,D,z,O,A,R,B,P]}const Ko={container:"divkit-b0274",container_wrap:"divkit-a2585",container_overflow_visible:"divkit-ba401",container_orientation_vertical:"divkit-e569d",container_valign_start:"divkit-a99d6",container_valign_center:"divkit-d784f",container_valign_end:"divkit-d033c","container_valign_space-between":"divkit-e094e","container_valign_space-around":"divkit-a71d9","container_valign_space-evenly":"divkit-c82a7",container_halign_start:"divkit-cd820",container_halign_center:"divkit-d4db9",container_halign_end:"divkit-f7715","container_halign_space-between":"divkit-b36c2","container_halign_space-around":"divkit-a5b18","container_halign_space-evenly":"divkit-e8052",container_orientation_horizontal:"divkit-d29da",container_orientation_overlap:"divkit-e3078"};function Qo(e){return{top:Number(null==e?void 0:e.top)||0,right:Number(null==e?void 0:e.right)||0,bottom:Number(null==e?void 0:e.bottom)||0,left:Number(null==e?void 0:e.left)||0}}function Jo(e,t,n){const i=((null==t?void 0:t.margins.left)||0)+((null==t?void 0:t.margins.right)||0),o=((null==t?void 0:t.margins.top)||0)+((null==t?void 0:t.margins.bottom)||0);null!=t&&t.show_at_start&&(n?e.top=t.style.height+o:e.left=t.style.width+i),null!=t&&t.show_at_end&&(n?e.bottom=t.style.height+o:e.right=t.style.width+i)}function er(e,t,n){let i;const o=((null==t?void 0:t.margins.left)||0)+((null==t?void 0:t.margins.right)||0),r=((null==t?void 0:t.margins.top)||0)+((null==t?void 0:t.margins.bottom)||0),s=((null==n?void 0:n.margins.left)||0)+((null==n?void 0:n.margins.right)||0),a=((null==n?void 0:n.margins.top)||0)+((null==n?void 0:n.margins.bottom)||0);return i="horizontal"===e?[null!=n&&n.show_between?n.style.height+a:0,null!=t&&t.show_between?t.style.width+o:0]:[null!=t&&t.show_between?t.style.height+r:0,null!=n&&n.show_between?n.style.width+s:0],i.map(_i).join(" ")}function tr(e){var t;const n=null===(t=e.width)||void 0===t?void 0:t.type;return"wrap_content"===n||"fixed"===n}function nr(e){var t;return"match_parent"!==(null===(t=e.height)||void 0===t?void 0:t.type)}function ir(e,t,n){if(!(e&&e.shape&&e.shape.type&&t.includes(e.shape.type)&&"shape_drawable"===e.type))return n;let i;if("rounded_rectangle"===e.shape.type)i={width:Hi(null===(r=(o=e.shape).item_width)||void 0===r?void 0:r.value,10),height:Hi(null===(s=o.item_height)||void 0===s?void 0:s.value,10),radius:Hi(null===(a=o.corner_radius)||void 0===a?void 0:a.value,5)};else{if("circle"!==e.shape.type)return n;i=function(e){var t;const n=2*Hi(null===(t=e.radius)||void 0===t?void 0:t.value,10);return{width:n,height:n,radius:n}}(e.shape)}var o,r,s,a;return function(e,t,n){var i;const o={},r=t.stroke||(null==n?void 0:n.stroke),s=null!=r&&r.color?xi(r.color):"",a=null!=r&&r.width?Number(null!==(i=r.width)&&void 0!==i?i:1):"";o.width=e.width,o.height=e.height,o.borderRadius=e.radius;const l=t.background_color||(null==n?void 0:n.color);return o.background=xi(l),s&&a&&(o.boxShadow="inset 0 0 0 ".concat(_i(a)," ").concat(s)),o}(i,e.shape,{color:e.color,stroke:e.stroke})}let or;function rr(){if("undefined"==typeof document&&(or=!0),void 0!==or)return or;const e=document.createElement("div");return e.style.position="absolute",e.style.display="flex",e.style.flexDirection="column",e.style.gap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),or=1===e.scrollHeight,document.body.removeChild(e),or}const sr={"container-separator":"divkit-a9eff","container-separator__item":"divkit-cf175","container-separator__shape":"divkit-c9986"},{window:ar}=qt;function lr(e,t,n){const i=e.slice();return i[16]=t[n],i}function cr(e){let t,n,i,o,r,s="".concat(e[16].style.width,"px"),a="".concat(e[16].style.height,"px"),l="".concat(e[16].style.borderRadius,"px"),c="".concat(e[16].left,"px"),u="".concat(e[16].top,"px"),d="".concat(e[16].width,"px"),p="".concat(e[16].height,"px");return{c(){t=tn("div"),n=tn("div"),o=rn(),ln(n,"class",i=sr["container-separator__shape"]),dn(n,"width",s),dn(n,"height",a),dn(n,"border-radius",l),dn(n,"background",e[16].style.background),dn(n,"box-shadow",e[16].style.boxShadow),ln(t,"class",r=sr["container-separator__item"]),dn(t,"left",c),dn(t,"top",u),dn(t,"width",d),dn(t,"height",p)},m(e,i){Qt(e,t,i),Wt(t,n),Wt(t,o)},p(e,i){2&i&&s!==(s="".concat(e[16].style.width,"px"))&&dn(n,"width",s),2&i&&a!==(a="".concat(e[16].style.height,"px"))&&dn(n,"height",a),2&i&&l!==(l="".concat(e[16].style.borderRadius,"px"))&&dn(n,"border-radius",l),2&i&&dn(n,"background",e[16].style.background),2&i&&dn(n,"box-shadow",e[16].style.boxShadow),2&i&&c!==(c="".concat(e[16].left,"px"))&&dn(t,"left",c),2&i&&u!==(u="".concat(e[16].top,"px"))&&dn(t,"top",u),2&i&&d!==(d="".concat(e[16].width,"px"))&&dn(t,"width",d),2&i&&p!==(p="".concat(e[16].height,"px"))&&dn(t,"height",p)},d(e){e&&Jt(t)}}}function ur(e){let t,n,i,o,r=Wn(e[1]),s=[];for(let t=0;t<r.length;t+=1)s[t]=cr(lr(e,r,t));return{c(){t=tn("div");for(let e=0;e<s.length;e+=1)s[e].c();ln(t,"class",n=sr["container-separator"])},m(n,r){Qt(n,t,r);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);e[13](t),i||(o=an(ar,"resize",e[2]),i=!0)},p(e,n){let[i]=n;if(2&i){let n;for(r=Wn(e[1]),n=0;n<r.length;n+=1){const o=lr(e,r,n);s[n]?s[n].p(o,i):(s[n]=cr(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}},i:xt,o:xt,d(n){n&&Jt(t),en(s,n),e[13](null),i=!1,o()}}}function dr(e,t,n,i,o,r){const s=t.margins.left,a=t.margins.right,l=t.margins.top,c=t.margins.bottom;r?e.push({top:n.bottom+l,left:o.left+s,width:Math.max(0,o.right-o.left-s-a),height:i.top-n.bottom-l-c,style:t.style}):e.push({top:o.top+l,left:n.right+s,width:i.left-n.right-s-a,height:Math.max(0,o.bottom-o.top-l-c),style:t.style})}function pr(e,t,n,i,o,r){const s={top:Math.min(...n.map((e=>e.top))),right:Math.max(...n.map((e=>e.right))),bottom:Math.max(...n.map((e=>e.bottom))),left:Math.min(...n.map((e=>e.left)))};if(null==t?void 0:t.show_at_start){let a,l;"space-around"===o||"space-evenly"===o?(a=r.left-t.style.width,l=r.top-t.style.height):(a=n[0].left-t.style.width-t.margins.left-t.margins.right,l=n[0].top-t.style.height-t.margins.top-t.margins.bottom),dr(e,t,{top:0,right:a,bottom:l,left:0},n[0],s,i)}if(null==t?void 0:t.show_between)for(let o=0;o<n.length-1;++o)dr(e,t,n[o],n[o+1],s,i);if(null==t?void 0:t.show_at_end){const a=n[n.length-1];let l,c;"space-around"===o||"space-evenly"===o?(l=r.bottom+t.style.height,c=r.right+t.style.width):(l=a.bottom+t.style.height+t.margins.top+t.margins.bottom,c=a.right+t.style.width+t.margins.left+t.margins.right),dr(e,t,a,{top:l,right:0,bottom:0,left:c},s,i)}}function hr(e,t,n){let i,{orientation:o}=t,{separator:r}=t,{lineSeparator:s}=t,{contentHAlign:a}=t,{contentVAlign:l}=t,{direction:c}=t;const u=function(e,t){let n,i=0,o=!1;return function(){const t=Date.now();return!i||Math.abs(t-i)>10?(i=t,n=e.apply(this,arguments)):(o||(o=!0,setTimeout((()=>{o=!1,n=e.apply(this,arguments)}),10)),n)}}((function(){if(!i)return;const e=i.getBoundingClientRect(),t=window.getComputedStyle(i),u={top:e.top+parseFloat(t.paddingTop),right:e.right-parseFloat(t.paddingRight),bottom:e.bottom-parseFloat(t.paddingBottom),left:e.left+parseFloat(t.paddingLeft)};n(1,p=[]);let h=[...i.children].filter((e=>e!==d&&!e.classList.contains(fi.outer__border))),g=[];for(;h.length;){const e=[],t=h.shift();e.push(t);let n=t.getBoundingClientRect(),i=n.left,r=n.right,s=n.bottom;for(;h.length;){let t=h[0],n=t.getBoundingClientRect();if("vertical"===o){if(n.top<s)break}else if("ltr"===c?n.left<r:n.right>i)break;r=Math.max(r,n.right),i=Math.min(i,n.left),s=Math.max(s,n.bottom),e.push(t),h.shift()}g.push(e)}const m=[];g.forEach((e=>{const t=e.map((e=>function(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e);return{top:t.top-parseFloat(n.marginTop),right:t.right+parseFloat(n.marginRight),bottom:t.bottom+parseFloat(n.marginBottom),left:t.left-parseFloat(n.marginLeft)}}(e)));"rtl"===c&&"horizontal"===o&&t.reverse(),r&&pr(p,r,t,"vertical"===o,"vertical"===o?l:a,u);const n={top:Math.min(...t.map((e=>e.top))),right:Math.max(...t.map((e=>e.right))),bottom:Math.max(...t.map((e=>e.bottom))),left:Math.min(...t.map((e=>e.left)))};m.push(n)})),"rtl"===c&&"vertical"===o&&m.reverse(),s&&pr(p,s,m,"horizontal"===o,"vertical"===o?a:l,u),p.forEach((t=>{t.top-=e.top,t.left-=e.left}))}));let d,p=[],h=!1,g=null,m=null;function f(e){e.some((e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.classList;return!(null==n?void 0:n.contains(sr["container-separator__shape"]))&&!(null==n?void 0:n.contains(sr["container-separator"]))}))&&u()}return yn((()=>{n(9,h=!0)})),xn((()=>{n(9,h=!1)})),e.$$set=e=>{"orientation"in e&&n(3,o=e.orientation),"separator"in e&&n(4,r=e.separator),"lineSeparator"in e&&n(5,s=e.lineSeparator),"contentHAlign"in e&&n(6,a=e.contentHAlign),"contentVAlign"in e&&n(7,l=e.contentVAlign),"direction"in e&&n(8,c=e.direction)},e.$$.update=()=>{1&e.$$.dirty&&n(12,i=(null==d?void 0:d.parentElement)||null),7680&e.$$.dirty&&(h&&i||g||m)&&(g&&(g.disconnect(),n(10,g=null)),m&&(m.disconnect(),n(11,m=null)),h&&i&&("undefined"!=typeof MutationObserver&&(n(10,g=new MutationObserver(f)),g.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})),"undefined"!=typeof ResizeObserver&&(n(11,m=new ResizeObserver(u)),m.observe(i)))),4608&e.$$.dirty&&h&&i&&u()},[d,p,u,o,r,s,a,l,c,h,g,m,i,function(e){In[e?"unshift":"push"]((()=>{d=e,n(0,d)}))}]}const gr=class extends li{constructor(e){super(),si(this,e,hr,ur,Tt,{orientation:3,separator:4,lineSeparator:5,contentHAlign:6,contentVAlign:7,direction:8})}},{Boolean:mr}=qt;function fr(e,t,n){const i=e.slice();return i[52]=t[n],i}function vr(e){let t,n;return t=new Qs({props:{componentContext:e[52],layoutParams:e[8]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};512&n[0]&&(i.componentContext=e[52]),256&n[0]&&(i.layoutParams=e[8]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function _r(e){let t,n;return t=new gr({props:{direction:e[11],separator:e[5],lineSeparator:e[6],orientation:e[2],contentHAlign:e[4],contentVAlign:e[3]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};2048&n[0]&&(i.direction=e[11]),32&n[0]&&(i.separator=e[5]),64&n[0]&&(i.lineSeparator=e[6]),4&n[0]&&(i.orientation=e[2]),16&n[0]&&(i.contentHAlign=e[4]),8&n[0]&&(i.contentVAlign=e[3]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function br(e){let t,n,i,o=Wn(e[9]),r=[];for(let t=0;t<o.length;t+=1)r[t]=vr(fr(e,o,t));const s=e=>Fn(r[e],1,1,(()=>{r[e]=null}));let a=(e[5]||e[6])&&_r(e);return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=rn(),a&&a.c(),n=sn()},m(e,o){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,o);Qt(e,t,o),a&&a.m(e,o),Qt(e,n,o),i=!0},p(e,i){if(768&i[0]){let n;for(o=Wn(e[9]),n=0;n<o.length;n+=1){const s=fr(e,o,n);r[n]?(r[n].p(s,i),qn(r[n],1)):(r[n]=vr(s),r[n].c(),qn(r[n],1),r[n].m(t.parentNode,t))}for(Vn(),n=o.length;n<r.length;n+=1)s(n);Gn()}e[5]||e[6]?a?(a.p(e,i),96&i[0]&&qn(a,1)):(a=_r(e),a.c(),qn(a,1),a.m(n.parentNode,n)):a&&(Vn(),Fn(a,1,1,(()=>{a=null})),Gn())},i(e){if(!i){for(let e=0;e<o.length;e+=1)qn(r[e]);qn(a),i=!0}},o(e){r=r.filter(mr);for(let e=0;e<r.length;e+=1)Fn(r[e]);Fn(a),i=!1},d(e){e&&(Jt(t),Jt(n)),en(r,e),a&&a.d(e)}}}function yr(e){let t,n;return t=new So({props:{cls:Oi("container",Ko,e[13]),componentContext:e[0],layoutParams:e[1],style:e[10],additionalPaddings:e[14],heightByAspect:Boolean(e[7]),parentOf:e[9].map($r),replaceItems:e[27],$$slots:{default:[br]},$$scope:{ctx:e}}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};8192&n[0]&&(i.cls=Oi("container",Ko,e[13])),1&n[0]&&(i.componentContext=e[0]),2&n[0]&&(i.layoutParams=e[1]),1024&n[0]&&(i.style=e[10]),16384&n[0]&&(i.additionalPaddings=e[14]),128&n[0]&&(i.heightByAspect=Boolean(e[7])),512&n[0]&&(i.parentOf=e[9].map($r)),2940&n[0]|16777216&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}const xr={start:"start",center:"center",end:"end","space-between":"start","space-around":"start","space-evenly":"start"},wr={start:"start",center:"center",end:"end",baseline:"baseline","space-between":"start","space-around":"start","space-evenly":"start"},kr=["rounded_rectangle","circle"],$r=e=>e.json;function Cr(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T,E,L,D,z=xt,O=xt,A=xt,N=xt,R=xt,B=xt,P=xt,H=xt,U=xt,V=xt,G=xt,q=xt;var F,Z,Y,W,X,K,Q;e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>q()));let{componentContext:J}=t,{layoutParams:ee}=t;const te=kn(hi),ne=te.direction;let ie;Lt(e,ne,(e=>n(11,M=e)));let oe,re="vertical",se="start",ae="start",le=null,ce=null,ue={},de=[];return e.$$set=e=>{"componentContext"in e&&n(0,J=e.componentContext),"layoutParams"in e&&n(1,ee=e.layoutParams)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&J.json&&(n(2,re="vertical"),n(3,se="start"),n(4,ae="start"),n(7,oe=void 0)),1&e.$$.dirty[0]&&n(38,i=J.json.items),268435457&e.$$.dirty[0]&&(n(25,o=J.getDerivedFromVars(null===n(28,F=J.json.item_builder)||void 0===F?void 0:F.data,void 0,!0)),q(),q=Et(o,(e=>n(50,D=e)))),1&e.$$.dirty[0]&&(n(24,r=J.getDerivedFromVars(J.json.orientation)),G(),G=Et(r,(e=>n(49,L=e)))),1&e.$$.dirty[0]&&(n(23,s=J.getDerivedFromVars(J.json.layout_mode)),V(),V=Et(s,(e=>n(48,E=e)))),1&e.$$.dirty[0]&&(n(22,a=J.getDerivedFromVars(J.json.content_alignment_vertical)),H(),H=Et(a,(e=>n(46,S=e)))),1&e.$$.dirty[0]&&(n(21,l=J.getDerivedFromVars(J.json.content_alignment_horizontal)),P(),P=Et(l,(e=>n(45,j=e)))),1&e.$$.dirty[0]&&(n(20,c=J.getDerivedFromVars(J.json.separator)),B(),B=Et(c,(e=>n(44,I=e)))),1&e.$$.dirty[0]&&(n(19,u=J.getDerivedFromVars(J.json.line_separator)),R(),R=Et(u,(e=>n(43,C=e)))),1&e.$$.dirty[0]&&(n(18,d=J.getDerivedFromVars(J.json.aspect)),N(),N=Et(d,(e=>n(42,$=e)))),1&e.$$.dirty[0]&&(n(17,p=J.getDerivedFromVars(J.json.width)),O(),O=Et(p,(e=>n(40,w=e)))),1&e.$$.dirty[0]&&(n(16,h=J.getDerivedFromVars(J.json.height)),A(),A=Et(h,(e=>n(41,k=e)))),1&e.$$.dirty[0]&&(n(15,g=J.getDerivedFromVars(J.json.clip_to_bounds)),z(),z=Et(g,(e=>n(39,x=e)))),1&e.$$.dirty[0]|524416&e.$$.dirty[1]){let e=[];if(J.json.item_builder&&Array.isArray(D)&&Array.isArray(J.json.item_builder.prototypes)){const t=J.json.item_builder;e=[],D.forEach((n=>{if(null===n||"object"!=typeof n)return;const i=te.preparePrototypeVariables(t.data_element_name||"it",n);let o;for(let e=0;e<t.prototypes.length;++e){const n=t.prototypes[e];if(n.div){if(void 0===n.selector){o=n.div;break}if(J.getJsonWithVars(n.selector,i)){o=n.div;break}}}o&&e.push({div:o,vars:i})}))}else e=(i||[]).map((e=>({div:e})));n(9,de=e.map(((e,t)=>J.produceChildContext(e.div,{path:t,variables:e.vars}))))}if(513&e.$$.dirty[0]){let e=[];de.forEach((t=>{e.push(J.getDerivedFromVars({width:t.json.width,height:t.json.height}))})),n(12,ie=di(e,(e=>[...e]))),U(),U=Et(ie,(e=>n(47,T=e)))}if(4&e.$$.dirty[0]|262144&e.$$.dirty[1]&&n(2,re=function(e,t){return"vertical"===e||"horizontal"===e||"overlap"===e?e:t}(L,re)),131072&e.$$.dirty[1]&&n(35,m="wrap"===E),4&e.$$.dirty[0]|65552&e.$$.dirty[1]&&n(36,f="horizontal"!==re&&!m&&T.some(tr)),4&e.$$.dirty[0]|65552&e.$$.dirty[1]&&n(37,v="vertical"!==re&&!m&&T.some(nr)),8&e.$$.dirty[0]|32768&e.$$.dirty[1]&&n(3,se=function(e,t){return"top"===e||"center"===e||"bottom"===e||"baseline"===e||"space-between"===e||"space-around"===e||"space-evenly"===e?"top"===e?"start":"bottom"===e?"end":e:t}(S,se)),2064&e.$$.dirty[0]|16384&e.$$.dirty[1]&&n(4,ae=function(e,t,n){return"left"===e||"center"===e||"right"===e||"space-between"===e||"space-around"===e||"space-evenly"===e||"start"===e||"end"===e?"left"===e?"ltr"===t?"start":"end":"right"===e?"ltr"===t?"end":"start":e:n}(j,M,ae)),1610612772&e.$$.dirty[0]|8193&e.$$.dirty[1])if((null==I?void 0:I.style)&&"overlap"!==re&&rr()){const e=ir(I.style,kr,(null==le?void 0:le.style)||null);n(5,le=e?{show_at_start:Boolean(null!==n(29,Z=I.show_at_start)&&void 0!==Z&&Z),show_at_end:Boolean(null!==n(30,Y=I.show_at_end)&&void 0!==Y&&Y),show_between:Boolean(null===n(31,W=I.show_between)||void 0===W||W),style:e,margins:Qo(I.margins)}:null)}else n(5,le=null);if(68&e.$$.dirty[0]|4110&e.$$.dirty[1])if((null==C?void 0:C.style)&&"overlap"!==re&&rr()){const e=ir(C.style,kr,(null==ce?void 0:ce.style)||null);n(6,ce=e?{show_at_start:Boolean(null!==n(32,X=C.show_at_start)&&void 0!==X&&X),show_at_end:Boolean(null!==n(33,K=C.show_at_end)&&void 0!==K&&K),show_between:Boolean(null===n(34,Q=C.show_between)||void 0===Q||Q),style:e,margins:Qo(C.margins)}:null)}else n(6,ce=null);if(100&e.$$.dirty[0]&&n(14,_=le||ce?function(e,t,n){const i={};return Jo(i,t,"vertical"===e),Jo(i,n,"horizontal"===e),i}(re,le,ce):null),2048&e.$$.dirty[1]){const e=null==$?void 0:$.ratio;e&&ao(e)?n(7,oe=e):n(7,oe=void 0)}if(414&e.$$.dirty[0]|1648&e.$$.dirty[1]){let e={};"overlap"===re&&(e.overlapParent=!0),"horizontal"!==re&&(e.parentHAlign=m?"start":xr[ae]),"vertical"!==re&&(e.parentVAlign=m?"start":wr[se]),oe||v||k&&"wrap_content"!==k.type&&("match_parent"!==k.type||!(null==ee?void 0:ee.parentVerticalWrapContent))||(e.parentVerticalWrapContent=!0),!f&&("wrap_content"===(null==w?void 0:w.type)||"match_parent"===(null==w?void 0:w.type)&&(null==ee?void 0:ee.parentHorizontalWrapContent))&&(e.parentHorizontalWrapContent=!0),"horizontal"===re&&(e.parentContainerOrientation="horizontal"),"vertical"===re&&(e.parentContainerOrientation="vertical"),m&&(e.parentContainerWrap=!0),n(8,ue=Gi(e,ue))}28&e.$$.dirty[0]|272&e.$$.dirty[1]&&n(13,b={orientation:re,valign:se,halign:ae,wrap:m,overflow:!1===x||0===x?"visible":void 0}),228&e.$$.dirty[0]&&n(10,y={gap:le||ce?er(re,le,ce):void 0,"aspect-ratio":oe})},[J,ee,re,se,ae,le,ce,oe,ue,de,y,M,ie,b,_,g,h,p,d,u,c,l,a,s,r,o,ne,function(e){n(0,J=Object.assign(Object.assign({},J),{json:Object.assign(Object.assign({},J.json),{items:e.filter($i)})}))},F,Z,Y,W,X,K,Q,m,f,v,i,x,w,k,$,C,I,j,S,T,E,L,D]}const Ir={separator:"divkit-ab686",separator_orientation_horizontal:"divkit-f467e",separator_orientation_vertical:"divkit-bc7ad",separator__inner:"divkit-f101c"};function Mr(e,t){return"vertical"===e||"horizontal"===e?e:t}function jr(e){let t,n,i;return{c(){t=tn("span"),ln(t,"class",n=Ir.separator__inner),ln(t,"style",i=vi(e[3]))},m(e,n){Qt(e,t,n)},p(e,n){8&n&&i!==(i=vi(e[3]))&&ln(t,"style",i)},d(e){e&&Jt(t)}}}function Sr(e){let t,n=e[4]&&jr(e);return{c(){n&&n.c(),t=sn()},m(e,i){n&&n.m(e,i),Qt(e,t,i)},p(e,i){e[4]?n?n.p(e,i):(n=jr(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){e&&Jt(t),n&&n.d(e)}}}function Tr(e){let t,n;return t=new So({props:{cls:Oi("separator",Ir,e[2]),componentContext:e[0],layoutParams:e[1],$$slots:{default:[Sr]},$$scope:{ctx:e}}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){let[i]=n;const o={};4&i&&(o.cls=Oi("separator",Ir,e[2])),1&i&&(o.componentContext=e[0]),2&i&&(o.layoutParams=e[1]),2072&i&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Er(e,t,n){let i,o,r,s,a,l,c,u=xt;e.$$.on_destroy.push((()=>u()));let{componentContext:d}=t,{layoutParams:p}=t,h="horizontal",g="rgba(0,0,0,0.08)";return e.$$set=e=>{"componentContext"in e&&n(0,d=e.componentContext),"layoutParams"in e&&n(1,p=e.layoutParams)},e.$$.update=()=>{1&e.$$.dirty&&d.json&&(n(6,h="horizontal"),n(7,g="rgba(0,0,0,0.08)")),1&e.$$.dirty&&(n(5,i=d.getDerivedFromVars(d.json.delimiter_style)),u(),u=Et(i,(e=>n(10,c=e)))),1088&e.$$.dirty&&n(6,h=Mr(null==c?void 0:c.orientation,h)),1024&e.$$.dirty&&n(4,o=!((null==c?void 0:c.color)&&("transparent"===c.color||9===c.color.length&&0===c.color.indexOf("#00")))),1152&e.$$.dirty&&n(7,g=xi(null==c?void 0:c.color,1,g)),64&e.$$.dirty&&n(9,r="horizontal"===h?"100%":_i(1)),64&e.$$.dirty&&n(8,s="horizontal"===h?_i(1):"100%"),896&e.$$.dirty&&n(3,a={background:g,width:r,height:s}),64&e.$$.dirty&&n(2,l={orientation:h})},[d,p,l,a,o,i,h,g,s,r,c]}const Lr={image:"divkit-dd314","image_is-width-content":"divkit-c3744","image_is-height-content":"divkit-fb6db",image__image:"divkit-d4c95",image_error:"divkit-b441d","image_is-rtl-mirror":"divkit-c46b3","image__aspect-wrapper":"divkit-c7ac5",image_aspect:"divkit-dfe61",image_loaded:"divkit-a5a8e","divkit-image-appearance":"divkit-c3905","image_before-appearance":"divkit-beb15"};function Dr(e){let t,n;return t=new So({props:{cls:Oi("image",Lr,e[9]),componentContext:e[0],layoutParams:e[1],customDescription:!0,$$slots:{default:[Nr]},$$scope:{ctx:e}}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};512&n[0]&&(i.cls=Oi("image",Lr,e[9])),1&n[0]&&(i.componentContext=e[0]),2&n[0]&&(i.layoutParams=e[1]),67110780&n[0]|16&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function zr(e){let t,n,i,o,r,s,a,l;return{c(){t=tn("img"),ln(t,"class",n=Lr.image__image),St(t.src,i=e[3]===Pr?Br:e[4])||ln(t,"src",i),ln(t,"loading",o=e[26]?"eager":"lazy"),ln(t,"decoding","async"),ln(t,"style",r=vi(e[8])),ln(t,"alt",e[10]),ln(t,"aria-hidden",s=e[10]?null:"true")},m(n,i){Qt(n,t,i),e[62](t),a||(l=[an(t,"load",e[28]),an(t,"error",e[29])],a=!0)},p(e,n){24&n[0]&&!St(t.src,i=e[3]===Pr?Br:e[4])&&ln(t,"src",i),67108864&n[0]&&o!==(o=e[26]?"eager":"lazy")&&ln(t,"loading",o),256&n[0]&&r!==(r=vi(e[8]))&&ln(t,"style",r),1024&n[0]&&ln(t,"alt",e[10]),1024&n[0]&&s!==(s=e[10]?null:"true")&&ln(t,"aria-hidden",s)},d(n){n&&Jt(t),e[62](null),a=!1,It(l)}}}function Or(e){let t,n,i,o,r,s,a,l,c,u,d="".concat(e[5],"%");return{c(){t=tn("span"),n=tn("img"),ln(n,"class",i=Lr.image__image),St(n.src,o=e[3]===Pr?Br:e[4])||ln(n,"src",o),ln(n,"loading",r=e[26]?"eager":"lazy"),ln(n,"decoding","async"),ln(n,"style",s=vi(e[8])),ln(n,"alt",e[10]),ln(n,"aria-hidden",a=e[10]?null:"true"),ln(t,"class",l=Lr["image__aspect-wrapper"]),dn(t,"padding-bottom",d)},m(i,o){Qt(i,t,o),Wt(t,n),e[61](n),c||(u=[an(n,"load",e[28]),an(n,"error",e[29])],c=!0)},p(e,i){24&i[0]&&!St(n.src,o=e[3]===Pr?Br:e[4])&&ln(n,"src",o),67108864&i[0]&&r!==(r=e[26]?"eager":"lazy")&&ln(n,"loading",r),256&i[0]&&s!==(s=vi(e[8]))&&ln(n,"style",s),1024&i[0]&&ln(n,"alt",e[10]),1024&i[0]&&a!==(a=e[10]?null:"true")&&ln(n,"aria-hidden",a),32&i[0]&&d!==(d="".concat(e[5],"%"))&&dn(t,"padding-bottom",d)},d(n){n&&Jt(t),e[61](null),c=!1,It(u)}}}function Ar(e){let t;function n(e,t){return e[9].aspect?Or:zr}let i=n(e),o=i(e);return{c(){o.c(),t=sn()},m(e,n){o.m(e,n),Qt(e,t,n)},p(e,r){i===(i=n(e))&&o?o.p(e,r):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&Jt(t),o.d(e)}}}function Nr(e){let t,n=e[6],i=Ar(e);return{c(){i.c(),t=sn()},m(e,n){i.m(e,n),Qt(e,t,n)},p(e,o){64&o[0]&&Tt(n,n=e[6])?(i.d(1),i=Ar(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&Jt(t),i.d(e)}}}function Rr(e){let t,n,i=!e[7]&&Dr(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){e[7]?i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn()):i?(i.p(e,n),128&n[0]&&qn(i,1)):(i=Dr(e),i.c(),qn(i,1),i.m(t.parentNode,t))},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}const Br="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Pr=2;function Hr(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T,E,L,D,z,O,A,N,R,B=xt,P=xt,H=xt,U=xt,V=xt,G=xt,q=xt,F=xt,Z=xt,Y=xt,W=xt,X=xt,K=xt,Q=xt,J=xt;e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>Q())),e.$$.on_destroy.push((()=>J()));let{componentContext:ee}=t,{layoutParams:te}=t;const ne=kn(hi),ie=ne.direction;let oe;Lt(e,ie,(e=>n(47,$=e)));let re,se,ae=0,le=!1,ce="rgba(0,0,0,0.08)",ue=!1,de="",pe="none",he="50% 50%",ge="0",me="source_in",fe="",ve="",_e=0,be=0,ye=0,xe="",we="",ke=!1;return xn((()=>{ne.removeSvgFilter(se,me)})),e.$$set=e=>{"componentContext"in e&&n(0,ee=e.componentContext),"layoutParams"in e&&n(1,te=e.layoutParams)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&ee.json&&(n(33,pe="none"),n(34,he="50% 50%"),n(36,me="source_in")),1&e.$$.dirty[0]&&(n(25,i=ee.getDerivedFromVars(ee.json.image_url)),K(),K=Et(i,(e=>n(59,A=e)))),1&e.$$.dirty[0]&&(n(24,o=ee.getDerivedFromVars(ee.json.gif_url)),Q(),Q=Et(o,(e=>n(60,N=e)))),1&e.$$.dirty[0]&&(n(23,r=ee.getDerivedFromVars(ee.json.width)),X(),X=Et(r,(e=>n(58,O=e)))),1&e.$$.dirty[0]&&(n(22,s=ee.getDerivedFromVars(ee.json.height)),W(),W=Et(s,(e=>n(57,z=e)))),1&e.$$.dirty[0]&&(n(21,a=ee.getDerivedFromVars(ee.json.preview)),Y(),Y=Et(a,(e=>n(56,D=e)))),1&e.$$.dirty[0]&&(n(20,l=ee.getDerivedFromVars(ee.json.placeholder_color)),Z(),Z=Et(l,(e=>n(55,L=e)))),1&e.$$.dirty[0]&&(n(19,c=ee.getDerivedFromVars(ee.json.scale)),F(),F=Et(c,(e=>n(54,E=e)))),1&e.$$.dirty[0]&&(n(18,u=ee.getDerivedFromVars({content_alignment_horizontal:ee.json.content_alignment_horizontal,content_alignment_vertical:ee.json.content_alignment_vertical})),q(),q=Et(u,(e=>n(53,T=e)))),1&e.$$.dirty[0]&&(n(17,d=ee.getDerivedFromVars(ee.json.accessibility)),G(),G=Et(d,(e=>n(52,S=e)))),1&e.$$.dirty[0]&&(n(16,p=ee.getDerivedFromVars(ee.json.aspect)),V(),V=Et(p,(e=>n(51,j=e)))),1&e.$$.dirty[0]&&(n(15,h=ee.getDerivedFromVars(ee.json.tint_color)),U(),U=Et(h,(e=>n(50,M=e)))),1&e.$$.dirty[0]&&(n(14,g=ee.getDerivedFromVars(ee.json.tint_mode)),H(),H=Et(g,(e=>n(49,I=e)))),1&e.$$.dirty[0]&&(n(13,m=ee.getDerivedFromVars(ee.json.appearance_animation)),P(),P=Et(m,(e=>n(48,C=e)))),1&e.$$.dirty[0]&&(n(12,f=ee.getDerivedFromVars(ee.json.filters)),B(),B=Et(f,(e=>n(46,k=e)))),1&e.$$.dirty[0]&&(n(11,v=ee.getDerivedFromVars(ee.json.preload_required)),J(),J=Et(v,(e=>n(26,R=e)))),1073741825&e.$$.dirty[0]|805306368&e.$$.dirty[1]){let e="gif"===ee.json.type?N:A;n(30,le="empty://"===e),le&&(e=Br),n(4,re=e)}var t;if(16&e.$$.dirty[0]&&n(3,ae=0),17&e.$$.dirty[0]&&(re?n(7,ue=!1):(n(7,ue=!0),ee.logError(gi(new Error('Missing "'.concat("gif"===ee.json.type?"gif_url":"image_url",'" for "').concat(ee.json.type,'"')))))),134217728&e.$$.dirty[1]&&n(45,_="wrap_content"===(null==O?void 0:O.type)),67108864&e.$$.dirty[1]&&n(44,b="wrap_content"===(null==z?void 0:z.type)),1073741832&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&n(32,de=(0===ae||ae===Pr||le)&&D?'url("'.concat((t=D).startsWith("data:")?ki(t):"data:image/jpg;base64,".concat(ki(t)),'")'):""),1073741832&e.$$.dirty[0]|16777217&e.$$.dirty[1]&&n(31,ce=0===ae||ae===Pr||le?xi(L,1,ce):""),8388612&e.$$.dirty[1]&&n(33,pe=ji(E)||pe),4194304&e.$$.dirty[1]&&n(34,he=function(e,t,n){let i=e.content_alignment_horizontal;const o=e.content_alignment_vertical;return"start"===i?i="ltr"===t?"left":"right":"end"===i&&(i="ltr"===t?"right":"left"),i&&"left"!==i&&"center"!==i&&"right"!==i||o&&"top"!==o&&"center"!==o&&"bottom"!==o?n:Si({content_alignment_horizontal:i,content_alignment_vertical:o})}(T,$,he)),2097152&e.$$.dirty[1]&&n(10,y=(null==S?void 0:S.description)||""),1048576&e.$$.dirty[1]){const e=null==j?void 0:j.ratio;e&&ao(e)?n(5,ge=(100/Number(e)).toFixed(2)):n(5,ge="0")}if(786480&e.$$.dirty[1]){const e=M?xi(M):void 0,t=No(I,me);e===se&&t===me||(ne.removeSvgFilter(se,me),n(6,fe=e?ne.addSvgFilter(e,t):""),n(35,se=e),n(36,me=t))}if(131072&e.$$.dirty[1]&&C&&"fade"===C.type){const e=C;n(37,ve=qi(e.interpolator,"ease_in_out").replace(/_/g,"-")),n(40,ye=Hi(e.duration,300)),n(39,be=Hi(e.start_delay,0)),n(38,_e=Hi(e.alpha,0))}if(1&e.$$.dirty[0]|98304&e.$$.dirty[1]){let e="",t="";Array.isArray(k)&&k.length&&(e=lo(k,ee.logError)),e&&(t="polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"),n(41,xe=e),n(42,we=t),n(43,ke="rtl"===$&&Array.isArray(k)&&k.some((e=>"rtl_mirror"===e.type)))}40&e.$$.dirty[0]|28736&e.$$.dirty[1]&&n(9,x={aspect:"0"!==ge,"is-width-content":_,"is-height-content":b,loaded:1===ae,"before-appearance":Boolean(ve)&&0===ae,"is-rtl-mirror":ke}),72&e.$$.dirty[0]|4047&e.$$.dirty[1]&&n(8,w={"background-image":de,"background-color":de?void 0:ce,"background-size":pe,"clip-path":we||void 0,"object-fit":pe,"object-position":he,filter:[1===ae&&fe?"url(#".concat(fe,")"):"",xe].filter(Boolean).join(" "),"--divkit-appearance-interpolator":ve||void 0,"--divkit-appearance-fade-start":ve?_e:void 0,"--divkit-appearance-delay":ve?"".concat(be,"ms"):void 0,"--divkit-appearance-duration":ve?"".concat(ye,"ms"):void 0})},[ee,te,oe,ae,re,ge,fe,ue,w,x,y,v,f,m,g,h,p,d,u,c,l,a,s,r,o,i,R,ie,function(){0===ae&&n(3,ae=1)},function(){0===ae&&n(3,ae=Pr)},le,ce,de,pe,he,se,me,ve,_e,be,ye,xe,we,ke,b,_,k,$,C,I,M,j,S,T,E,L,D,z,O,A,N,function(e){In[e?"unshift":"push"]((()=>{oe=e,n(2,oe),n(0,ee),n(60,N),n(59,A),n(30,le)}))},function(e){In[e?"unshift":"push"]((()=>{oe=e,n(2,oe),n(0,ee),n(60,N),n(59,A),n(30,le)}))}]}const Ur=class extends li{constructor(e){super(),si(this,e,Hr,Rr,Tt,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},Vr={gallery:"divkit-e89ba",gallery__scroller:"divkit-c4b6b",gallery_scrollbar_none:"divkit-cada8",gallery_orientation_horizontal:"divkit-db3e3",gallery_orientation_vertical:"divkit-b4695","gallery_scroll-snap":"divkit-a472d","gallery__items-grid":"divkit-a805e",gallery__items:"divkit-d789e",gallery__arrow:"divkit-afe51","gallery__arrow-icon-path":"divkit-dd66d"},Gr={arrow:"divkit-b7608",arrow__icon:"divkit-ccc86",arrow_left:"divkit-f25e0",arrow_right:"divkit-c5954"};function qr(e){const t=[];let n=e[0],i=1;for(let o=1;o<=e.length;o++)e[o]!==n?(t.push(i>1?"repeat(".concat(i,", ").concat(n,")"):n),n=e[o],i=1):i++;return t.join(" ")}const{Boolean:Fr}=qt;function Zr(e,t,n){const i=e.slice();return i[75]=t[n],i[76]=t,i[77]=n,i}function Yr(e,t,n){const i=e.slice();return i[78]=t[n],i}function Wr(e){let t,n;return t=new Qs({props:{componentContext:e[78],layoutParams:e[6]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};65536&n[0]&&(i.componentContext=e[78]),64&n[0]&&(i.layoutParams=e[6]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Xr(e){let t,n,i,o,r,s=e[77],a=Wn(e[75]),l=[];for(let t=0;t<a.length;t+=1)l[t]=Wr(Yr(e,a,t));const c=e=>Fn(l[e],1,1,(()=>{l[e]=null})),u=()=>e[63](t,s),d=()=>e[63](null,s);return{c(){t=tn("div");for(let e=0;e<l.length;e+=1)l[e].c();n=rn(),ln(t,"class",i=Vr.gallery__items),ln(t,"style",o=vi(e[14]))},m(e,i){Qt(e,t,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null);Wt(t,n),u(),r=!0},p(i,p){if(e=i,65600&p[0]){let i;for(a=Wn(e[75]),i=0;i<a.length;i+=1){const o=Yr(e,a,i);l[i]?(l[i].p(o,p),qn(l[i],1)):(l[i]=Wr(o),l[i].c(),qn(l[i],1),l[i].m(t,n))}for(Vn(),i=a.length;i<l.length;i+=1)c(i);Gn()}(!r||16384&p[0]&&o!==(o=vi(e[14])))&&ln(t,"style",o),s!==e[77]&&(d(),s=e[77],u())},i(e){if(!r){for(let e=0;e<a.length;e+=1)qn(l[e]);r=!0}},o(e){l=l.filter(Fr);for(let e=0;e<l.length;e+=1)Fn(l[e]);r=!1},d(e){e&&Jt(t),en(l,e),d()}}}function Kr(e){let t,n,i=e[10]&&e[7]&&Qr(e),o=e[11]&&e[7]&&Jr(e);return{c(){i&&i.c(),t=rn(),o&&o.c(),n=sn()},m(e,r){i&&i.m(e,r),Qt(e,t,r),o&&o.m(e,r),Qt(e,n,r)},p(e,r){e[10]&&e[7]?i?i.p(e,r):(i=Qr(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),e[11]&&e[7]?o?o.p(e,r):(o=Jr(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(e){e&&(Jt(t),Jt(n)),i&&i.d(e),o&&o.d(e)}}}function Qr(e){let t,n,i,o,r=!e[29]&&function(e){let t,n,i,o;return{c(){t=nn("svg"),n=nn("path"),ln(n,"class",i=Vr["gallery__arrow-icon-path"]),ln(n,"d","m10 16 8.3 8 1.03-1-4-6-.7-1 .7-1 4-6-1.03-1z"),ln(t,"class",o=Gr.arrow__icon),ln(t,"xmlns","http://www.w3.org/2000/svg"),ln(t,"width","32"),ln(t,"height","32"),ln(t,"viewBox","0 0 32 32"),ln(t,"fill","none")},m(e,i){Qt(e,t,i),Wt(t,n)},d(e){e&&Jt(t)}}}();return{c(){t=tn("div"),r&&r.c(),ln(t,"class",n=e[29]||"".concat(Vr.gallery__arrow," ").concat(Gr.arrow," ").concat(Gr.arrow_left))},m(n,s){Qt(n,t,s),r&&r.m(t,null),i||(o=an(t,"click",e[66]),i=!0)},p:xt,d(e){e&&Jt(t),r&&r.d(),i=!1,o()}}}function Jr(e){let t,n,i,o,r=!e[30]&&function(e){let t,n,i,o;return{c(){t=nn("svg"),n=nn("path"),ln(n,"class",i=Vr["gallery__arrow-icon-path"]),ln(n,"d","M22 16l-8.3 8-1.03-1 4-6 .7-1-.7-1-4-6 1.03-1 8.3 8z"),ln(t,"class",o=Gr.arrow__icon),ln(t,"xmlns","http://www.w3.org/2000/svg"),ln(t,"width","32"),ln(t,"height","32"),ln(t,"viewBox","0 0 32 32"),ln(t,"fill","none")},m(e,i){Qt(e,t,i),Wt(t,n)},d(e){e&&Jt(t)}}}();return{c(){t=tn("div"),r&&r.c(),ln(t,"class",n=e[30]||"".concat(Vr.gallery__arrow," ").concat(Gr.arrow," ").concat(Gr.arrow_right))},m(n,s){Qt(n,t,s),r&&r.m(t,null),i||(o=an(t,"click",e[67]),i=!0)},p:xt,d(e){e&&Jt(t),r&&r.d(),i=!1,o()}}}function es(e){let t,n,i,o,r,s,a,l,c,u,d,p=Wn(e[16]),h=[];for(let t=0;t<p.length;t+=1)h[t]=Xr(Zr(e,p,t));const g=e=>Fn(h[e],1,1,(()=>{h[e]=null}));let m="horizontal"===e[4]&&Kr(e);return{c(){t=tn("div"),n=tn("div");for(let e=0;e<h.length;e+=1)h[e].c();a=rn(),m&&m.c(),l=sn(),ln(n,"class",i=Vr["gallery__items-grid"]),ln(n,"style",o=vi(e[15])),ln(t,"class",r=Vr.gallery__scroller+" "+(e[27]?pi["root_restrict-scroll"]:"")),ln(t,"style",s=vi(e[5]))},m(i,o){Qt(i,t,o),Wt(t,n);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(n,null);e[64](n),e[65](t),Qt(i,a,o),m&&m.m(i,o),Qt(i,l,o),c=!0,u||(d=an(t,"scroll",(function(){Mt(e[7]?e[33]:null)&&(e[7]?e[33]:null).apply(this,arguments)})),u=!0)},p(i,a){if(e=i,82496&a[0]){let t;for(p=Wn(e[16]),t=0;t<p.length;t+=1){const i=Zr(e,p,t);h[t]?(h[t].p(i,a),qn(h[t],1)):(h[t]=Xr(i),h[t].c(),qn(h[t],1),h[t].m(n,null))}for(Vn(),t=p.length;t<h.length;t+=1)g(t);Gn()}(!c||32768&a[0]&&o!==(o=vi(e[15])))&&ln(n,"style",o),(!c||134217728&a[0]&&r!==(r=Vr.gallery__scroller+" "+(e[27]?pi["root_restrict-scroll"]:"")))&&ln(t,"class",r),(!c||32&a[0]&&s!==(s=vi(e[5])))&&ln(t,"style",s),"horizontal"===e[4]?m?m.p(e,a):(m=Kr(e),m.c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null)},i(e){if(!c){for(let e=0;e<p.length;e+=1)qn(h[e]);c=!0}},o(e){h=h.filter(Fr);for(let e=0;e<h.length;e+=1)Fn(h[e]);c=!1},d(n){n&&(Jt(t),Jt(a),Jt(l)),en(h,n),e[64](null),e[65](null),m&&m.d(n),u=!1,d()}}}function ts(e){let t,n,i,o;return t=new So({props:{cls:Oi("gallery",Vr,e[13]),componentContext:e[0],layoutParams:e[1],customPaddings:!0,customActions:"gallery",parentOf:e[8],replaceItems:e[31],$$slots:{default:[es]},$$scope:{ctx:e}}}),{c(){ii(t.$$.fragment)},m(r,s){oi(t,r,s),n=!0,i||(o=an(window,"resize",(function(){Mt(e[7]?e[34]:null)&&(e[7]?e[34]:null).apply(this,arguments)})),i=!0)},p(n,i){e=n;const o={};8192&i[0]&&(o.cls=Oi("gallery",Vr,e[13])),1&i[0]&&(o.componentContext=e[0]),2&i[0]&&(o.layoutParams=e[1]),256&i[0]&&(o.parentOf=e[8]),134336252&i[0]|524288&i[2]&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e),i=!1,o()}}}function ns(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T,E,L,D,z=xt,O=xt,A=xt,N=xt,R=xt,B=xt,P=xt,H=xt,U=xt,V=xt,G=xt;e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>G()));let{componentContext:q}=t,{layoutParams:F}=t;const Z=kn(hi),Y=Z.direction;let W;Lt(e,Y,(e=>n(51,x=e)));let X,K=[],Q=!1,J=!1,ee=null,te=!1;const ne=Z.getCustomization("galleryLeftClass"),ie=Z.getCustomization("galleryRightClass");let oe,re,se,ae,le,ce=1,ue="horizontal",de="start",pe=8,he="",ge=[],me={},fe=!1,ve={},_e=0;const be=Z.isDesktop;function ye(){if(!W)return;let e=W.scrollLeft;"rtl"===x&&(e*=-1);const t=W.scrollWidth,i=W.offsetWidth;"ltr"===x?(n(10,Q=e>2),n(11,J=e+i<t-2)):(n(11,J=e>2),n(10,Q=e+i<t-2))}Lt(e,be,(e=>n(62,L=e)));const xe=Ro(ye,50);function we(e){W.scroll({left:W.scrollLeft+.75*W.offsetWidth*("right"===e?1:-1),behavior:"smooth"})}function ke(){let e=[],t=K[0].children.length;for(let n=0;n<t;++n)for(let t=0;t<ce;++t){const i=K[t].children[n];i&&e.push(i)}return e}function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";const i="horizontal"===ue,o=i?"offsetLeft":"offsetTop",r=i?"left":"top",s=e[t];s&&W.scroll({[r]:Math.max(0,s[o]+.01-pe/2),behavior:n})}function Ce(e){const t=ke(),n=W.getBoundingClientRect(),i=t.findIndex((e=>function(e,t){return"horizontal"===ue?t.left>=e.left&&t.right<=e.right:t.top>=e.top&&t.bottom<=e.bottom}(n,e.getBoundingClientRect())));if(-1!==i)return i;const o=t.map((e=>function(e,t){return"horizontal"===ue?t.right>e.left&&e.right>t.left:t.bottom>e.top&&e.bottom>t.top}(n,e.getBoundingClientRect()))),r=o.findIndex(Boolean);return-1!==r?"prev"===e&&2===o.filter(Boolean).length?r+1:r:"prev"===e?1:t.length-2}return yn((()=>{n(37,te=!0),ye(),_e&&$e(ke(),_e,"auto")})),xn((()=>{n(37,te=!1),oe&&!q.fakeElement&&(Z.unregisterInstance(oe),n(38,oe=void 0))})),e.$$set=e=>{"componentContext"in e&&n(0,q=e.componentContext),"layoutParams"in e&&n(1,F=e.layoutParams)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&q.json&&(n(39,ce=1),n(4,ue="horizontal"),n(40,de="start"),n(42,pe=8),n(45,he="")),1&e.$$.dirty[0]&&n(8,i=Array.isArray(q.json.items)&&q.json.items||[]),1&e.$$.dirty[0]&&(n(26,o=q.getDerivedFromVars(q.json.column_count)),V(),V=Et(o,(e=>n(61,E=e)))),1&e.$$.dirty[0]&&(n(25,r=q.getDerivedFromVars(q.json.orientation)),U(),U=Et(r,(e=>n(60,T=e)))),1&e.$$.dirty[0]&&(n(24,s=q.getDerivedFromVars(q.json.cross_content_alignment)),H(),H=Et(s,(e=>n(59,S=e)))),1&e.$$.dirty[0]&&(n(23,a=q.getDerivedFromVars(q.json.item_spacing)),P(),P=Et(a,(e=>n(58,j=e)))),1&e.$$.dirty[0]&&(n(22,l=q.getDerivedFromVars(q.json.cross_spacing)),B(),B=Et(l,(e=>n(57,M=e)))),1&e.$$.dirty[0]&&(n(21,c=q.getDerivedFromVars(q.json.paddings)),R(),R=Et(c,(e=>n(56,I=e)))),1&e.$$.dirty[0]&&(n(20,u=q.getDerivedFromVars(q.json.scroll_mode)),A(),A=Et(u,(e=>n(54,$=e)))),1&e.$$.dirty[0]&&(n(19,d=q.getDerivedFromVars(q.json.restrict_parent_scroll)),G(),G=Et(d,(e=>n(27,D=e)))),1&e.$$.dirty[0]&&(n(18,p=q.getDerivedFromVars(q.json.scrollbar)),O(),O=Et(p,(e=>n(53,k=e)))),1&e.$$.dirty[0]&&(n(17,h=q.getDerivedFromVars(q.json.default_item)),z(),z=Et(h,(e=>n(52,w=e)))),257&e.$$.dirty[0]&&n(50,g=i.map(((e,t)=>q.produceChildContext(e,{path:t})))),64&e.$$.dirty[1]|1&e.$$.dirty[2]&&n(7,m=L&&te),136&e.$$.dirty[0]|32&e.$$.dirty[1]&&(m?"undefined"!=typeof ResizeObserver&&(n(36,ee=new ResizeObserver((()=>{xe()}))),ee.observe(X)):ee&&(ee.disconnect(),n(36,ee=null))),1073742080&e.$$.dirty[1]&&n(39,ce=Eo(E,ce)),524544&e.$$.dirty[1]&&n(16,f=function(e,t){let n=0,i=[];for(let o=0;o<e.length;++o)i[n]||(i[n]=[]),i[n].push(e[o]),++n>=t&&(n=0);return i}(g,ce)),16&e.$$.dirty[0]|536870912&e.$$.dirty[1]&&n(4,ue=Mr(T,ue)),268435968&e.$$.dirty[1]&&n(40,de=function(e,t){return"start"===e||"center"===e||"end"===e?e:t}(S,de)),134219776&e.$$.dirty[1]&&(n(42,pe=Hi(j,pe)),n(41,re=_i(pe))),67119104&e.$$.dirty[1]&&(n(44,ae=Hi(M,pe)),n(43,se=_i(ae))),34619392&e.$$.dirty[1]&&n(45,he=Pi(I,x,he)),16&e.$$.dirty[0]&&n(49,v="horizontal"===ue?"grid-template-columns":"grid-template-rows"),17&e.$$.dirty[0]|524288&e.$$.dirty[1]){let e=[];g.forEach((t=>{const n="horizontal"===ue?"width":"height";e.push(q.getDerivedFromVars(t.json[n]))})),n(12,le=di(e,(e=>e))),N(),N=Et(le,(e=>n(55,C=e)))}if(16&e.$$.dirty[0]|16810240&e.$$.dirty[1]&&(n(46,ge=[]),ce>1?ge.push("auto"):C.forEach((e=>{!e&&"horizontal"===ue||"match_parent"===(null==e?void 0:e.type)?ge.push("100%"):ge.push("max-content")}))),112&e.$$.dirty[0]|8391424&e.$$.dirty[1]){const e={};let t={};n(47,fe=!1),"horizontal"===ue?t.parentVAlign=de:t.parentHAlign=de,"paging"===$&&(n(47,fe=!0),t.scrollSnap="start",e["horizontal"===ue?"scroll-padding-left":"scroll-padding-top"]=_i(pe/2)),1===ce&&(t.parentLayoutOrientation=ue),n(5,me=Gi(e,me)),n(6,ve=Gi(t,ve))}20480&e.$$.dirty[1]&&n(15,_={padding:he,"grid-gap":se}),295936&e.$$.dirty[1]&&n(14,b={"grid-gap":re,[v]:qr(ge)}),16&e.$$.dirty[0]|4259840&e.$$.dirty[1]&&n(13,y={orientation:ue,"scroll-snap":fe,scrollbar:"auto"===k?"auto":"none"}),2228224&e.$$.dirty[1]&&n(48,_e=Hi(w,_e)),1&e.$$.dirty[0]&&q.json&&xe(),21&e.$$.dirty[0]|128&e.$$.dirty[1]&&q.json&&(oe&&(Z.unregisterInstance(oe),n(38,oe=void 0)),q.json.id&&!q.fakeElement&&(n(38,oe=q.json.id),Z.registerInstance(oe,{setCurrentItem(e){const t=ke();if(e<0||e>t.length-1)throw new Error('Item is out of range in "set-current-item" action');$e(t,e)},setPreviousItem(e){const t=Ce("prev"),n=ke();let i=t-1;i<0&&(i="ring"===e?n.length-1:t),$e(n,i)},setNextItem(e){const t="horizontal"===ue?W.scrollLeft+W.offsetWidth===W.scrollWidth:W.scrollTop+W.offsetHeight===W.scrollHeight,n=ke();if(t&&"ring"===e)return void $e(n,0);const i=Ce("next");let o=i+1;o>n.length-1&&(o="ring"===e?0:i),$e(n,o)}})))},[q,F,W,X,ue,me,ve,m,i,K,Q,J,le,y,b,_,f,h,p,d,u,c,l,a,s,r,o,D,Y,ne,ie,function(e){n(0,q=Object.assign(Object.assign({},q),{json:Object.assign(Object.assign({},q.json),{items:e.filter($i)})}))},be,ye,xe,we,ee,te,oe,ce,de,re,pe,se,ae,he,ge,fe,_e,v,g,x,w,k,$,C,I,M,j,S,T,E,L,function(e,t){In[e?"unshift":"push"]((()=>{K[t]=e,n(9,K)}))},function(e){In[e?"unshift":"push"]((()=>{X=e,n(3,X)}))},function(e){In[e?"unshift":"push"]((()=>{W=e,n(2,W)}))},()=>we("left"),()=>we("right")]}const is={state:"divkit-a0314",state__animations:"divkit-a56a1","state__animation-child":"divkit-ab450","state__animation-child-inner":"divkit-c53cb"};function os(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function rs(e){return e*e*e}function ss(e){const t=e-1;return t*t*t+1}function as(e){return t=>{if(t<=0)return 0;if(t>=1)return 1;const n=t*e.length,i=Math.floor(n),o=n-i;return e[i]*o+e[i+1]*(1-o)}}const ls=as([.0021,.0045,.0071,.01,.0131,.0165,.0202,.0242,.0284,.033,.0378,.0429,.0483,.054,.0601,.0664,.0731,.08,.0872,.0948,.1026,.1108,.1192,.1279,.1369,.1461,.1556,.1653,.1753,.1855,.1958,.2064,.2171,.2279,.2389,.25,.2612,.2725,.2839,.2952,.3067,.3181,.3295,.341,.3524,.3637,.375,.3863,.3974,.4085,.4195,.4304,.4412,.4519,.4624,.4729,.4832,.4934,.5034,.5133,.5231,.5327,.5422,.5516,.5608,.5699,.5788,.5876,.5963,.6048,.6132,.6214,.6295,.6375,.6453,.653,.6606,.668,.6754,.6825,.6896,.6965,.7034,.7101,.7166,.7231,.7295,.7357,.7418,.7479,.7538,.7596,.7653,.7709,.7764,.7818,.7871,.7923,.7974,.8024,.8073,.8122,.8169,.8216,.8261,.8306,.835,.8394,.8436,.8478,.8518,.8558,.8598,.8636,.8674,.8711,.8747,.8783,.8818,.8852,.8886,.8919,.8951,.8983,.9014,.9044,.9074,.9103,.9131,.9159,.9187,.9213,.924,.9265,.929,.9315,.9339,.9362,.9385,.9408,.943,.9451,.9472,.9492,.9512,.9532,.9551,.9569,.9587,.9605,.9622,.9638,.9655,.967,.9686,.9701,.9715,.9729,.9743,.9756,.9769,.9782,.9794,.9805,.9817,.9828,.9838,.9848,.9858,.9868,.9877,.9886,.9894,.9902,.991,.9917,.9924,.9931,.9937,.9943,.9949,.9954,.9959,.9964,.9969,.9973,.9977,.998,.9983,.9986,.9989,.9991,.9993,.9995,.9997,.9998,.9999,.9999,1,1]),cs=as([5e-4,.002,.0045,.0078,.0119,.0168,.0224,.0286,.0355,.0429,.0508,.0592,.0681,.0774,.087,.0969,.1072,.1177,.1285,.1395,.1507,.1621,.1736,.1853,.197,.2089,.2208,.2328,.2448,.2569,.2689,.281,.293,.305,.317,.3289,.3408,.3526,.3644,.376,.3876,.3991,.4105,.4218,.433,.444,.455,.4658,.4765,.4871,.4975,.5078,.518,.528,.5379,.5477,.5573,.5668,.5761,.5853,.5944,.6033,.612,.6206,.6291,.6374,.6456,.6537,.6616,.6693,.677,.6845,.6918,.699,.7061,.713,.7199,.7265,.7331,.7395,.7458,.752,.758,.764,.7698,.7755,.781,.7865,.7918,.7971,.8022,.8072,.8121,.8169,.8216,.8262,.8307,.8351,.8394,.8436,.8477,.8517,.8557,.8595,.8633,.8669,.8705,.874,.8775,.8808,.8841,.8873,.8904,.8934,.8964,.8993,.9022,.9049,.9076,.9103,.9129,.9154,.9178,.9202,.9226,.9249,.9271,.9293,.9314,.9335,.9355,.9375,.9394,.9413,.9431,.9449,.9466,.9483,.95,.9516,.9532,.9547,.9562,.9576,.9591,.9605,.9618,.9631,.9644,.9657,.9669,.9681,.9692,.9703,.9714,.9725,.9736,.9746,.9756,.9765,.9775,.9784,.9793,.9802,.981,.9818,.9826,.9834,.9842,.9849,.9856,.9863,.987,.9877,.9883,.989,.9896,.9902,.9908,.9913,.9919,.9924,.993,.9935,.994,.9944,.9949,.9954,.9958,.9963,.9967,.9971,.9975,.9979,.9983,.9986,.999,.9993,.9997,1]),us={linear:wt,ease:ls,ease_in:rs,ease_out:ss,ease_in_out:os,spring:cs},ds=200,ps=0,hs=0,gs=0;function ms(e){return Math.max(...e.map((e=>(Number(e.duration)||ds)+(Number(e.start_delay)||ps))))}function fs(e,t){let{transitions:n,elementBbox:i,rootBbox:o,direction:r,maxDuration:s,alpha:a}=t;const l=null!=a?a:1;return{duration:Ki()?0:s,css:e=>{const t=e*s,a=n.map((e=>{const n=Number(e.start_delay)||ps,s=Number(e.duration)||ds,a=Math.max(0,Math.min(1,(t-n)/s)),c="in"===r?1-a:a,u=(us[e.interpolator||"ease_in_out"]||os)(c);if("fade"===e.type)return u>=1?{active:!1,opacity:0}:{active:u>0&&u<1,opacity:(1-u)*l+u*(e.alpha||hs)};if("slide"===e.type){var d;const t="top"===e.edge||"left"===e.edge?-1:1,n="top"!==e.edge&&"bottom"!==e.edge&&e.edge?"translateX":"translateY";let r=null===(d=e.distance)||void 0===d?void 0:d.value;void 0===r&&(r="top"!==e.edge&&"bottom"!==e.edge&&e.edge?Math.abs(o["left"===e.edge?"left":"right"]-i["left"===e.edge?"right":"left"]):Math.abs(o["bottom"===e.edge?"bottom":"top"]-i["bottom"===e.edge?"top":"bottom"]));const s=r*u;return{active:u>0&&u<1,translate:"".concat(n,"(").concat(s*t,"px)")}}if("scale"===e.type){var p,h;const t=1-u+u*(e.scale||gs),n=null!==(p=e.pivot_x)&&void 0!==p?p:.5,o=null!==(h=e.pivot_y)&&void 0!==h?h:.5,r=(1-t)*i.width*n,s=(1-t)*i.height*o;return{active:u>0&&u<1,scale:"translate(".concat(r,"px, ").concat(s,"px) scale(").concat(t,")")}}return{}})),c=a.map((e=>e.opacity)).filter((e=>void 0!==e)).reduce(((e,t)=>e*t),1),u=a.map((e=>e.translate)).filter((e=>void 0!==e)).join(" "),d=a.map((e=>e.scale)).filter((e=>void 0!==e)).join(" "),p=a.filter((e=>e.active)).map((e=>e.scale)).filter((e=>void 0!==e)),h=[u,p.length?p[p.length-1]:d].filter(Boolean).join(" ");return"transform:".concat(h||"none",";opacity:").concat(c)}}}function vs(e,t,n){return e*(1-n)+t*n}const _s={linear:wt,ease:ls,ease_in:rs,ease_out:ss,ease_in_out:os,spring:cs},bs=200,ys=0;function xs(e,t){var n,i;let{rootBbox:o,beforeBbox:r,afterBbox:s,transition:a}=t;return{delay:null!==(n=a.start_delay)&&void 0!==n?n:ys,duration:Ki()?0:null!==(i=a.duration)&&void 0!==i?i:bs,easing:a.interpolator&&a.interpolator in _s?_s[a.interpolator]:os,css:e=>["top:".concat(vs(r.top,s.top,e)-o.top,"px"),"left:".concat(vs(r.left,s.left,e)-o.left,"px"),"width:".concat(vs(r.width,s.width,e),"px"),"height:".concat(vs(r.height,s.height,e),"px")].join(";")}}function ws(e){const t=[];return"set"===e.type?(e.items||[]).forEach((e=>{t.push(...ws(e))})):t.push(e),t}const ks={tooltip:"divkit-cfde6",tooltip_visible:"divkit-ea2ab"},$s={linear:wt,ease:ls,ease_in:rs,ease_out:ss,ease_in_out:os,spring:cs},Cs=300,Is=0;function Ms(e,t){let{animations:n,direction:i}=t;if(!n)return{};const o=Zi(n),r=(s=o,Math.max(...s.map((e=>(Number(e.duration)||Cs)+(Number(e.start_delay)||Is)))));var s;return o.some((e=>"no_animation"===e.name))?{}:{duration:Ki()?0:r,css:e=>{const t=e*r,n=o.map((e=>{const n=Number(e.start_delay)||Is,o=Number(e.duration)||Cs,r=Math.max(0,Math.min(1,(t-n)/o)),s=($s[e.interpolator||"ease_in_out"]||os)(r);var a,l;if("fade"===e.name)return{active:s>0&&s<1,opacity:(1-s)*("in"===i&&null!==(a=e.start_value)&&void 0!==a?a:0)+s*("in"===i?1:null!==(l=e.end_value)&&void 0!==l?l:1)};if("translate"===e.name){var c,u;const t=-("in"===i&&null!==(c=e.start_value)&&void 0!==c?c:10),n=-("in"===i?0:null!==(u=e.end_value)&&void 0!==u?u:0);return{active:s>0&&s<1,translate:"translateY(".concat((1-s)*t+s*n).concat("in"===i&&void 0!==e.start_value||"out"===i&&void 0!==e.end_value?"%":"px",")")}}if("scale"===e.name){var d,p;const t="in"===i&&null!==(d=e.start_value)&&void 0!==d?d:0,n="in"===i?1:null!==(p=e.end_value)&&void 0!==p?p:1;return{active:s>0&&s<1,scale:"scale(".concat((1-s)*t+s*n,")")}}return{}})),s=n.map((e=>e.opacity)).filter((e=>void 0!==e)).reduce(((e,t)=>e*t),1),a=n.map((e=>e.translate)).filter((e=>void 0!==e)).join(" "),l=n.map((e=>e.scale)).filter((e=>void 0!==e)).join(" "),c=n.filter((e=>e.active)).map((e=>e.scale)).filter((e=>void 0!==e)),u=[a,c.length?c[c.length-1]:l].filter(Boolean).join(" ");return"transform:".concat(u||"none",";opacity:").concat(s)}}}const{window:js}=qt;function Ss(e){let t,n,i,o,r,s,a,l;return n=new Qs({props:{componentContext:e[11]}}),{c(){t=tn("div"),ii(n.$$.fragment),ln(t,"class",i=Oi("tooltip",ks,e[5])+" "+(e[12]?pi.root_platform_desktop:"")),dn(t,"top",e[2]),dn(t,"left",e[1]),dn(t,"width",e[3]),dn(t,"height",e[4])},m(i,o){Qt(i,t,o),oi(n,t,null),e[27](t),s=!0,a||(l=[an(js,"click",e[16]),an(js,"resize",e[17])],a=!0)},p(o,r){e=o;const a={};2048&r[0]&&(a.componentContext=e[11]),n.$set(a),(!s||4128&r[0]&&i!==(i=Oi("tooltip",ks,e[5])+" "+(e[12]?pi.root_platform_desktop:"")))&&ln(t,"class",i),4&r[0]&&dn(t,"top",e[2]),2&r[0]&&dn(t,"left",e[1]),8&r[0]&&dn(t,"width",e[3]),16&r[0]&&dn(t,"height",e[4])},i(i){s||(qn(n.$$.fragment,i),i&&Dn((()=>{s&&(r&&r.end(1),o=Yn(t,Ms,{animations:e[13]||Ts,direction:"in"}),o.start())})),s=!0)},o(i){Fn(n.$$.fragment,i),o&&o.invalidate(),i&&(r=function(e,t,n){const i={direction:"out"};let o,r=t(e,n,i),s=!0;const a=Un;let l;function c(){const{delay:t=0,duration:n=300,easing:i=wt,tick:c=xt,css:u}=r||Zn;u&&(o=fn(e,1,0,n,t,i,u));const d=Pt()+t,p=d+n;Dn((()=>Pn(e,!1,"start"))),"inert"in e&&(l=e.inert,e.inert=!0),Gt((t=>{if(s){if(t>=p)return c(0,1),Pn(e,!1,"end"),--a.r||It(a.c),!1;if(t>=d){const e=i((t-d)/n);c(1-e,e)}}return s}))}return a.r+=1,Mt(r)?Bn().then((()=>{r=r(i),c()})):c(),{end(t){t&&"inert"in e&&(e.inert=l),t&&r.tick&&r.tick(1,0),s&&(o&&vn(e,o),s=!1)}}}(t,Ms,{animations:e[14]||Ts,direction:"out"})),s=!1},d(i){i&&Jt(t),ri(n),e[27](null),i&&r&&r.end(),a=!1,It(l)}}}const Ts={name:"set",items:[{name:"translate"},{name:"fade"}]};function Es(e,t,n){let i,o,r,s,a,l,c,u,d,p,h,g,m,f=xt,v=xt,_=xt,b=xt,y=xt;var x,w,k,$;e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>y()));let{ownerNode:C}=t,{data:I}=t,{internalId:M}=t,{parentComponentContext:j}=t;const S=kn(hi),T=S.isDesktop;Lt(e,T,(e=>n(12,h=e)));const E=Date.now();let L,D=!1,z="",O="",A="",N="",R=null;function B(){var e,t;if(!L||!C)return;const i=L.parentElement;if(!i)return;const o=L.style.cssText;n(0,L.style.cssText+=";transform: none !important",L);const r=C.getBoundingClientRect(),s=L.getBoundingClientRect(),a=i.getBoundingClientRect();n(0,L.style.cssText=o,L);let l=0,c=0,h=null,g=null,m=0,f=0;const v=j.getJsonWithVars(null===(e=I.div)||void 0===e?void 0:e.width),_=j.getJsonWithVars(null===(t=I.div)||void 0===t?void 0:t.width);if(m=v&&"match_parent"!==v.type?"fixed"===v.type&&v.value?h=v.value:s.width:h=r.width,f="match_parent"===(null==_?void 0:_.type)?g=r.height:"fixed"===(null==_?void 0:_.type)&&_.value?g=_.value:s.height,"left"===p||"bottom-left"===p||"top-left"===p)l=r.left-m;else if("top"===p||"bottom"===p||"center"===p)l=(r.left+r.right)/2-m/2;else{if("right"!==p&&"bottom-right"!==p&&"top-right"!==p)return;l=r.right}if("top"===p||"top-left"===p||"top-right"===p)c=r.top-f;else if("left"===p||"right"===p||"center"===p)c=(r.top+r.bottom)/2-f/2;else{if("bottom-left"!==p&&"bottom"!==p&&"bottom-right"!==p)return;c=r.bottom}l-=a.left,c-=a.top,l+=d||0,c+=u||0,n(1,z="".concat(l,"px")),n(2,O="".concat(c,"px")),n(3,A=null!==h?"".concat(h,"px"):""),n(4,N=null!==g?"".concat(g,"px"):""),n(26,D=!0),null===h||null===g?"undefined"==typeof ResizeObserver||R||(R=new ResizeObserver((()=>{requestAnimationFrame(B)})),R.observe(L)):null==R||R.disconnect()}var P;return yn((()=>{if(S.tooltipRoot){const e=window.getComputedStyle(L);n(0,L.style.fontSize=e.fontSize,L),n(0,L.style.fontFamily=e.fontFamily,L),n(0,L.style.lineHeight=e.lineHeight,L),S.tooltipRoot.appendChild(L)}})),P=()=>{D||B()},bn().$$.after_update.push(P),xn((()=>{null==R||R.disconnect()})),e.$$set=e=>{"ownerNode"in e&&n(18,C=e.ownerNode),"data"in e&&n(19,I=e.data),"internalId"in e&&n(20,M=e.internalId),"parentComponentContext"in e&&n(21,j=e.parentComponentContext)},e.$$.update=()=>{2621440&e.$$.dirty[0]&&n(11,i=j.produceChildContext(I.div)),2621440&e.$$.dirty[0]&&(n(10,o=j.getDerivedFromVars(I.position)),_(),_=Et(o,(e=>n(31,p=e)))),15204352&e.$$.dirty[0]&&(n(9,r=j.getDerivedFromVars(null===n(23,w=null===n(22,x=I.offset)||void 0===x?void 0:x.x)||void 0===w?void 0:w.value)),v(),v=Et(r,(e=>n(30,d=e)))),52953088&e.$$.dirty[0]&&(n(8,s=j.getDerivedFromVars(null===n(25,$=null===n(24,k=I.offset)||void 0===k?void 0:k.y)||void 0===$?void 0:$.value)),f(),f=Et(s,(e=>n(29,u=e)))),2621440&e.$$.dirty[0]&&(n(7,a=j.getDerivedFromVars(I.animation_in)),b(),b=Et(a,(e=>n(13,g=e)))),2621440&e.$$.dirty[0]&&(n(6,l=j.getDerivedFromVars(I.animation_out)),y(),y=Et(l,(e=>n(14,m=e)))),67108864&e.$$.dirty[0]&&n(5,c={visible:D})},[L,z,O,A,N,c,l,a,s,r,o,i,h,g,m,T,function(e){Date.now()-E<100||e.composedPath().includes(L)||S.onTooltipClose(M)},function(){B()},C,I,M,j,x,w,k,$,D,function(e){In[e?"unshift":"push"]((()=>{L=e,n(0,L)}))}]}const Ls=class extends li{constructor(e){super(),si(this,e,Es,Ss,Tt,{ownerNode:18,data:19,internalId:20,parentComponentContext:21},null,[-1,-1])}},{Map:Ds}=qt;function zs(e,t,n){const i=e.slice();return i[33]=t[n],i}function Os(e,t,n){const i=e.slice();return i[33]=t[n],i}function As(e){var t;let n,i,o,r;n=new So({props:{cls:is.state,componentContext:e[0],layoutParams:e[1],parentOf:e[7],parentOfSimpleMode:!0,replaceItems:e[8],$$slots:{default:[Us]},$$scope:{ctx:e}}});let s=(null===(t=e[0])||void 0===t?void 0:t.tooltips)&&Vs(e);return{c(){ii(n.$$.fragment),i=rn(),s&&s.c(),o=sn()},m(e,t){oi(n,e,t),Qt(e,i,t),s&&s.m(e,t),Qt(e,o,t),r=!0},p(e,t){var i;const r={};1&t[0]&&(r.componentContext=e[0]),2&t[0]&&(r.layoutParams=e[1]),128&t[0]&&(r.parentOf=e[7]),120&t[0]|128&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),null!==(i=e[0])&&void 0!==i&&i.tooltips?s?(s.p(e,t),1&t[0]&&qn(s,1)):(s=Vs(e),s.c(),qn(s,1),s.m(o.parentNode,o)):s&&(Vn(),Fn(s,1,1,(()=>{s=null})),Gn())},i(e){r||(qn(n.$$.fragment,e),qn(s),r=!0)},o(e){Fn(n.$$.fragment,e),Fn(s),r=!1},d(e){e&&(Jt(i),Jt(o)),ri(n,e),s&&s.d(e)}}}function Ns(e){let t,n,i=e[5],o=Rs(e);return{c(){o.c(),t=sn()},m(e,i){o.m(e,i),Qt(e,t,i),n=!0},p(e,n){32&n[0]&&Tt(i,i=e[5])?(Vn(),Fn(o,1,1,xt),Gn(),o=Rs(e),o.c(),qn(o,1),o.m(t.parentNode,t)):o.p(e,n)},i(e){n||(qn(o),n=!0)},o(e){Fn(o),n=!1},d(e){e&&Jt(t),o.d(e)}}}function Rs(e){let t,n;return t=new Qs({props:{componentContext:e[6]}}),{c(){ii(t.$$.fragment)},m(e,i){oi(t,e,i),n=!0},p(e,n){const i={};64&n[0]&&(i.componentContext=e[6]),t.$set(i)},i(e){n||(qn(t.$$.fragment,e),n=!0)},o(e){Fn(t.$$.fragment,e),n=!1},d(e){ri(t,e)}}}function Bs(e){let t,n,i,o,r,s,a,l,c,u;function d(){return e[16](e[33])}return i=new Qs({props:{componentContext:e[33].componentContextCopy}}),{c(){t=tn("div"),n=tn("div"),ii(i.$$.fragment),r=rn(),ln(n,"class",o=is["state__animation-child-inner"]),ln(t,"class",s=is["state__animation-child"])},m(e,o){Qt(e,t,o),Wt(t,n),oi(i,n,null),Wt(t,r),l=!0,c||(u=an(t,"introend",d),c=!0)},p(t,n){e=t;const o={};16&n[0]&&(o.componentContext=e[33].componentContextCopy),i.$set(o)},i(n){l||(qn(i.$$.fragment,n),a||Dn((()=>{a=Yn(t,xs,e[33]),a.start()})),l=!0)},o(e){Fn(i.$$.fragment,e),l=!1},d(e){e&&Jt(t),ri(i),c=!1,u()}}}function Ps(e){let t,n,i,o,r,s,a,l,c,u,d="".concat(e[33].offsetLeft,"px"),p="".concat(e[33].offsetTop,"px"),h="".concat(e[33].width,"px"),g="".concat(e[33].height,"px");function m(){return e[15](e[33])}return i=new Qs({props:{componentContext:e[33].componentContextCopy}}),{c(){t=tn("div"),n=tn("div"),ii(i.$$.fragment),r=rn(),ln(n,"class",o=is["state__animation-child-inner"]),ln(t,"class",s=is["state__animation-child"]),dn(t,"left",d),dn(t,"top",p),dn(t,"width",h),dn(t,"height",g)},m(e,o){Qt(e,t,o),Wt(t,n),oi(i,n,null),Wt(t,r),l=!0,c||(u=an(t,"introend",m),c=!0)},p(n,o){e=n;const r={};16&o[0]&&(r.componentContext=e[33].componentContextCopy),i.$set(r),16&o[0]&&d!==(d="".concat(e[33].offsetLeft,"px"))&&dn(t,"left",d),16&o[0]&&p!==(p="".concat(e[33].offsetTop,"px"))&&dn(t,"top",p),16&o[0]&&h!==(h="".concat(e[33].width,"px"))&&dn(t,"width",h),16&o[0]&&g!==(g="".concat(e[33].height,"px"))&&dn(t,"height",g)},i(n){l||(qn(i.$$.fragment,n),a||Dn((()=>{a=Yn(t,fs,e[33]),a.start()})),l=!0)},o(e){Fn(i.$$.fragment,e),l=!1},d(e){e&&Jt(t),ri(i),c=!1,u()}}}function Hs(e,t){let n,i,o,r,s;const a=[Ps,Bs],l=[];function c(e,t){return"direction"in e[33]?0:1}return i=c(t),o=l[i]=a[i](t),{key:e,first:null,c(){n=sn(),o.c(),r=sn(),this.first=n},m(e,t){Qt(e,n,t),l[i].m(e,t),Qt(e,r,t),s=!0},p(e,n){let s=i;i=c(t=e),i===s?l[i].p(t,n):(Vn(),Fn(l[s],1,1,(()=>{l[s]=null})),Gn(),o=l[i],o?o.p(t,n):(o=l[i]=a[i](t),o.c()),qn(o,1),o.m(r.parentNode,r))},i(e){s||(qn(o),s=!0)},o(e){Fn(o),s=!1},d(e){e&&(Jt(n),Jt(r)),l[i].d(e)}}}function Us(e){let t,n,i,o,r=[],s=new Ds,a=e[6]&&Ns(e),l=Wn(e[4]);const c=e=>e[33];for(let t=0;t<l.length;t+=1){let n=Os(e,l,t),i=c(n);s.set(i,r[t]=Hs(i,n))}return{c(){a&&a.c(),t=rn(),n=tn("div");for(let e=0;e<r.length;e+=1)r[e].c();ln(n,"class",i=is.state__animations),ln(n,"aria-hidden","true")},m(i,s){a&&a.m(i,s),Qt(i,t,s),Qt(i,n,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);e[17](n),o=!0},p(e,i){e[6]?a?(a.p(e,i),64&i[0]&&qn(a,1)):(a=Ns(e),a.c(),qn(a,1),a.m(t.parentNode,t)):a&&(Vn(),Fn(a,1,1,(()=>{a=null})),Gn()),528&i[0]&&(l=Wn(e[4]),Vn(),r=Kn(r,i,c,1,e,l,s,n,Xn,Hs,null,Os),Gn())},i(e){if(!o){qn(a);for(let e=0;e<l.length;e+=1)qn(r[e]);o=!0}},o(e){Fn(a);for(let e=0;e<r.length;e+=1)Fn(r[e]);o=!1},d(i){i&&(Jt(t),Jt(n)),a&&a.d(i);for(let e=0;e<r.length;e+=1)r[e].d();e[17](null)}}}function Vs(e){let t,n,i=[],o=new Ds,r=Wn(e[0].tooltips);const s=e=>e[33].internalId;for(let t=0;t<r.length;t+=1){let n=zs(e,r,t),a=s(n);o.set(a,i[t]=Gs(a,n))}return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=sn()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Qt(e,t,o),n=!0},p(e,n){1&n[0]&&(r=Wn(e[0].tooltips),Vn(),i=Kn(i,n,s,1,e,r,o,t.parentNode,Xn,Gs,t,zs),Gn())},i(e){if(!n){for(let e=0;e<r.length;e+=1)qn(i[e]);n=!0}},o(e){for(let e=0;e<i.length;e+=1)Fn(i[e]);n=!1},d(e){e&&Jt(t);for(let t=0;t<i.length;t+=1)i[t].d(e)}}}function Gs(e,t){let n,i,o;return i=new Ls({props:{ownerNode:t[33].ownerNode,data:t[33].desc,internalId:t[33].internalId,parentComponentContext:t[0]}}),{key:e,first:null,c(){n=sn(),ii(i.$$.fragment),this.first=n},m(e,t){Qt(e,n,t),oi(i,e,t),o=!0},p(e,n){t=e;const o={};1&n[0]&&(o.ownerNode=t[33].ownerNode),1&n[0]&&(o.data=t[33].desc),1&n[0]&&(o.internalId=t[33].internalId),1&n[0]&&(o.parentComponentContext=t[0]),i.$set(o)},i(e){o||(qn(i.$$.fragment,e),o=!0)},o(e){Fn(i.$$.fragment,e),o=!1},d(e){e&&Jt(n),ri(i,e)}}}function qs(e){let t,n,i=!e[2]&&As(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){e[2]?i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn()):i?(i.p(e,n),4&n[0]&&qn(i,1)):(i=As(e),i.c(),qn(i,1),i.m(t.parentNode,t))},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}function Fs(e){return"change_bounds"===e.type?e:"set"===e.type?Fs(e.items[0]):null}function Zs(e,t,n){let i,o,r,s,a,l,{componentContext:c}=t,{layoutParams:u}=t;const d=kn(hi),p=kn(Ai);let h,g,m,f,v=!1,_=new Map,b=new Set,y=null,x=[],w=[],k=[],$=[],C=!1;function I(e){n(6,f=(null==e?void 0:e.div)?c.produceChildContext(e.div,{path:e.state_id||"<unknown>"}):void 0)}function M(e,t,n){let{json:i,parentComponentContext:o,transitions:r,node:s}=t;i=c.getJsonWithVars(i),r=c.getJsonWithVars(r);const a=ws(r),l=s.getBoundingClientRect(),u=Object.assign(Object.assign({},i),{margins:void 0,alpha:(d=a,d.some((e=>"fade"===e.type))?void 0:i.alpha)});var d;return{json:u,componentContextCopy:o.produceChildContext(u,{fake:!0}),elementBbox:l,rootBbox:e,transitions:a,alpha:i.alpha,width:l.width,height:l.height,offsetTop:l.top-e.top,offsetLeft:l.left-e.left,direction:n,resolvePromise:t.resolvePromise,node:t.node}}async function j(e){if(m===e)return;d.setRunning("stateChange",!0);const t=new Set(b);x.forEach((e=>{e.resolvePromise&&e.resolvePromise()})),n(4,x=[]);let i=[];if(h){const e=h.getBoundingClientRect();i=k.map((t=>M(e,t,"out")))}$.forEach((e=>{_.set(e.id,e.node.getBoundingClientRect())})),w=[],k=[],$=[];const o=a.find((t=>t.state_id===e))||null;if(o?(n(5,m=e),null==s||s.setValue(m),I(o)):c.logError(gi(new Error("Cannot find state with id"),{additional:{stateId:e}})),await Ln(),!h)return;const r=h.getBoundingClientRect();let l=w.filter((e=>{var n;return!(!e.json.id||t.has(e.json.id))||(null===(n=e.resolvePromise)||void 0===n||n.call(e),!1)})).map((e=>M(r,e,"in")));i=i.filter((e=>{var t;return!(!e.json.id||b.has(e.json.id))||(null===(t=e.resolvePromise)||void 0===t||t.call(e),!1)}));const u=i.concat(l),p=u.reduce(((e,t)=>Math.max(e,ms(t.transitions))),0),g=$.filter((e=>_.has(e.id))).map((e=>{const t=Object.assign(Object.assign({},e.json),{margins:void 0,width:{type:"match_parent"},height:{type:"match_parent"}});return{json:t,componentContextCopy:e.parentComponentContext.produceChildContext(t,{fake:!0}),rootBbox:r,beforeBbox:_.get(e.id),afterBbox:e.node.getBoundingClientRect(),node:e.node,transition:c.getJsonWithVars(Fs(e.transitions)),resolvePromise:e.resolvePromise}}));n(4,x=[...u.map((e=>Object.assign(Object.assign({},e),{maxDuration:p}))),...g]),_.clear(),d.setRunning("stateChange",!1)}function S(e){if(y&&y.has(e))return y.get(e);c.logError(gi(new Error("Missing state block with id"),{additional:{id:e}}))}function T(e){n(4,x=x.filter((t=>t!==e))),e.resolvePromise&&e.resolvePromise()}return wn(Ai,{registerInstance(e,t){y||(y=new Map),y.has(e)?c.logError(gi(new Error("Duplicate state with id"),{additional:{id:e}})):y.set(e,t)},unregisterInstance(e){null==y||y.delete(e)},runVisibilityTransition(e,t,i,o,r){if(!h)return Promise.resolve();const s=M(h.getBoundingClientRect(),{json:e,parentComponentContext:t,transitions:i,node:o},r),a=ms(s.transitions),l=Object.assign(Object.assign({},s),{maxDuration:a});return n(4,x=[...x.filter((e=>e.node!==s.node)),l]),new Promise((e=>{l.resolvePromise=e}))},registerChildWithTransitionIn(e,t,n,i){const o={json:e,parentComponentContext:t,transitions:n,node:i};return w.push(o),new Promise((e=>{o.resolvePromise=e}))},registerChildWithTransitionOut(e,t,n,i){const o={json:e,parentComponentContext:t,transitions:n,node:i};return k.push(o),new Promise((e=>{o.resolvePromise=e}))},registerChildWithTransitionChange(e,t,n,i){const o=e.id;if(!o)return Promise.resolve();const r={id:o,json:e,parentComponentContext:t,transitions:n,node:i};return $.push(r),new Promise((e=>{r.resolvePromise=e}))},hasTransitionChange:e=>!!e&&_.has(e),registerChild(e){b.add(e)},unregisterChild(e){b.delete(e)}}),xn((()=>{g&&p.unregisterInstance(g)})),e.$$set=e=>{"componentContext"in e&&n(0,c=e.componentContext),"layoutParams"in e&&n(1,u=e.layoutParams)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(13,i=c.json.div_id||c.json.id),1&e.$$.dirty[0]&&(o=c.getJsonWithVars(c.json.default_state_id)),1&e.$$.dirty[0]&&n(14,r=c.json.state_id_variable),16385&e.$$.dirty[0]&&(s=r?c.getVariable(r,"string"):null),1&e.$$.dirty[0]&&c.json&&n(11,C=!1),8193&e.$$.dirty[0]&&(i?n(2,v=!1):(n(2,v=!0),c.logError(gi(new Error('Missing "id" prop for div "state"'))))),1&e.$$.dirty[0]&&c.json&&(b=new Set),1&e.$$.dirty[0]&&n(12,a=c.json.states||[]),4096&e.$$.dirty[0]&&n(7,l=a.map((e=>e.div))),4097&e.$$.dirty[0]&&((null==a?void 0:a.length)?n(2,v=!1):(n(2,v=!0),c.logError(gi(new Error('Empty "states" prop for div "state"'))))),9217&e.$$.dirty[0]&&c.json&&(g&&(p.unregisterInstance(g),n(10,g=void 0)),i&&!(null==c?void 0:c.fakeElement)&&(n(10,g=i),p.registerInstance(i,{setState:j,getChild:S}))),6144&e.$$.dirty[0]&&!C&&function(e){if(!C&&(n(11,C=!0),e.length)){const t=(null==s?void 0:s.getValue())||o;if(t){n(5,m=t);const i=e.find((e=>e.state_id===m))||null;I(i),i||c.logError(gi(new Error("Cannot find state for default_state_id"),{additional:{selectedId:m}}))}else{const t=e[0];n(5,m=t.state_id),I(t)}s&&(s.setValue(m),s.subscribe((e=>{j(e)})))}}(a)},[c,u,v,h,x,m,f,l,function(e){const t=c.json.states;t&&(n(12,a=t.map(((t,n)=>Object.assign(Object.assign({},t),{div:e[n]})))),n(0,c.json=Object.assign(Object.assign({},c.json),{states:a}),c),m&&I(a.find((e=>e.state_id===m))||null))},T,g,C,a,i,r,e=>T(e),e=>T(e),function(e){In[e?"unshift":"push"]((()=>{h=e,n(3,h)}))}]}const Ys={};function Ws(e){let t,n,i;var o=e[2];function r(e,t){return{props:{componentContext:e[0],layoutParams:e[1]}}}return o&&(t=pn(o,r(e))),{c(){t&&ii(t.$$.fragment),n=sn()},m(e,o){t&&oi(t,e,o),Qt(e,n,o),i=!0},p(e,i){if(4&i&&o!==(o=e[2])){if(t){Vn();const e=t;Fn(e.$$.fragment,1,0,(()=>{ri(e,1)})),Gn()}o?(t=pn(o,r(e)),ii(t.$$.fragment),qn(t.$$.fragment,1),oi(t,n.parentNode,n)):t=null}else if(o){const n={};1&i&&(n.componentContext=e[0]),2&i&&(n.layoutParams=e[1]),t.$set(n)}},i(e){i||(t&&qn(t.$$.fragment,e),i=!0)},o(e){t&&Fn(t.$$.fragment,e),i=!1},d(e){e&&Jt(n),t&&ri(t,e)}}}function Xs(e){let t,n,i=e[2]&&Ws(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){let[o]=n;e[2]?i?(i.p(e,o),4&o&&qn(i,1)):(i=Ws(e),i.c(),qn(i,1),i.m(t.parentNode,t)):i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn())},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}function Ks(e,t,n){let{componentContext:i}=t,{layoutParams:o}=t;const r=kn(hi);let s;return e.$$set=e=>{"componentContext"in e&&n(0,i=e.componentContext),"layoutParams"in e&&n(1,o=e.layoutParams)},e.$$.update=()=>{if(5&e.$$.dirty){const e=i.json;if(n(2,s=(null==e?void 0:e.type)&&Ys[e.type]||void 0),!s){let t;t=(null==e?void 0:e.type)&&r.hasTemplate(e.type)?"Recursive template":"Unknown component",i.logError(gi(new Error(t),{additional:{component:(null==e?void 0:e.type)||"<missing>"}}))}}},[i,o,s]}Ys.text=class extends li{constructor(e){super(),si(this,e,Xo,Wo,Tt,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},Ys.container=class extends li{constructor(e){super(),si(this,e,Cr,yr,Tt,{componentContext:0,layoutParams:1},null,[-1,-1])}},Ys.separator=class extends li{constructor(e){super(),si(this,e,Er,Tr,Tt,{componentContext:0,layoutParams:1})}},Ys.image=Ur,Ys.gif=Ur,Ys.gallery=class extends li{constructor(e){super(),si(this,e,ns,ts,Tt,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},Ys.state=class extends li{constructor(e){super(),si(this,e,Zs,qs,Tt,{componentContext:0,layoutParams:1},null,[-1,-1])}};const Qs=class extends li{constructor(e){super(),si(this,e,Ks,Xs,Tt,{componentContext:0,layoutParams:1})}},Js={"root-svg-filters":"divkit-b5eca"};function ea(e,t,n){const i=e.slice();i[1]=t[n];const o=i[1].split(":");return i[2]=o[0],i[3]=o[1],i}function ta(e){let t,n,i,o=Wn([...Object.keys(e[0])]),r=[];for(let t=0;t<o.length;t+=1)r[t]=ra(ea(e,o,t));return{c(){t=nn("svg"),n=nn("defs");for(let e=0;e<r.length;e+=1)r[e].c();ln(t,"class",i=Js["root-svg-filters"]),ln(t,"aria-hidden","true")},m(e,i){Qt(e,t,i),Wt(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,t){if(1&t){let i;for(o=Wn([...Object.keys(e[0])]),i=0;i<o.length;i+=1){const s=ea(e,o,i);r[i]?r[i].p(s,t):(r[i]=ra(s),r[i].c(),r[i].m(n,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}},d(e){e&&Jt(t),en(r,e)}}}function na(e){let t,n;return{c(){t=nn("feBlend"),ln(t,"in2","SourceGraphic"),ln(t,"mode",n=e[3])},m(e,n){Qt(e,t,n)},p(e,i){1&i&&n!==(n=e[3])&&ln(t,"mode",n)},d(e){e&&Jt(t)}}}function ia(e){let t;return{c(){t=nn("feComposite"),ln(t,"in2","SourceGraphic"),ln(t,"operator","arithmetic"),ln(t,"k1","1"),ln(t,"k2","0"),ln(t,"k3","0"),ln(t,"k4","0")},m(e,n){Qt(e,t,n)},p:xt,d(e){e&&Jt(t)}}}function oa(e){let t,n;return{c(){t=nn("feComposite"),ln(t,"in2","SourceGraphic"),ln(t,"operator",n=e[3].split("_")[1])},m(e,n){Qt(e,t,n)},p(e,i){1&i&&n!==(n=e[3].split("_")[1])&&ln(t,"operator",n)},d(e){e&&Jt(t)}}}function ra(e){let t,n,i,o;function r(e,t){return"source_in"===e[3]||"source_atop"===e[3]?oa:"multiply"===e[3]?ia:na}let s=r(e),a=s(e);return{c(){t=nn("filter"),n=nn("feFlood"),a.c(),ln(n,"flood-color",i=e[2]),ln(t,"id",o=e[0][e[1]])},m(e,i){Qt(e,t,i),Wt(t,n),a.m(t,null)},p(e,l){1&l&&i!==(i=e[2])&&ln(n,"flood-color",i),s===(s=r(e))&&a?a.p(e,l):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null))),1&l&&o!==(o=e[0][e[1]])&&ln(t,"id",o)},d(e){e&&Jt(t),a.d()}}}function sa(e){let t,n=Object.keys(e[0]).length,i=n&&ta(e);return{c(){i&&i.c(),t=sn()},m(e,n){i&&i.m(e,n),Qt(e,t,n)},p(e,o){let[r]=o;1&r&&(n=Object.keys(e[0]).length),n?i?i.p(e,r):(i=ta(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:xt,o:xt,d(e){e&&Jt(t),i&&i.d(e)}}}function aa(e,t,n){let{svgFiltersMap:i}=t;return e.$$set=e=>{"svgFiltersMap"in e&&n(0,i=e.svgFiltersMap)},[i]}const la=class extends li{constructor(e){super(),si(this,e,aa,sa,Tt,{svgFiltersMap:0})}};function ca(e,t,n,i){const o=n[e.type];if(!o)return i(gi(new Error("No such template"),{additional:{template:e.type}})),{json:e,templateContext:t};let r;const s={};for(r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);for(r in e)"type"!==r&&"__proto__"!==r&&e.hasOwnProperty(r)&&(s[r]=e[r]);const a=function e(t,n){const i=Object.keys(n).filter((e=>"__proto__"!==e)),o=i.filter((e=>"$"!==e.charAt(0))),r=i.filter((e=>"$"===e.charAt(0)));return o.forEach((i=>{const o=n[i];"object"==typeof o&&null!==o?(t[i]=Array.isArray(o)?[]:{},e(t[i],o)):t[i]=o})),r.forEach((e=>{const i=n[e],o=s[i];if(void 0!==o){const n=e.substring(1);t[n]=o}})),t}({},o);for(r in e)"type"!==r&&"__proto__"!==r&&e.hasOwnProperty(r)&&(a[r]=e[r]);return{json:a,templateContext:s}}function ua(){}function da(e){return{subscribe:t=>(t(e),ua)}}da(void 0);const pa="function"==typeof BigInt;function ha(e){return pa?BigInt(e):Number(e)}const ga=ha("9223372036854775807"),ma=ha("-9223372036854775808");function fa(e){const t=ha(e);if(t>ga||t<ma)throw new Error("Integer overflow.");if("number"==typeof t&&(Number.isNaN(t)||t!==Math.round(t)))throw new Error("Incorrect integer value.");return t}const va=fa(0);function _a(e){let t=e;return t<0&&(t=-t),t}function ba(e){let t=0;return e>0?t=1:e<0&&(t=-1),fa(t)}function ya(e,t){return t.reduce(((e,t)=>({type:"BinaryExpression",operator:t[1],left:e,right:t[3]})),e)}function xa(e,t){return t.reduce(((e,t)=>({type:"LogicalExpression",operator:t[1],left:e,right:t[3]})),e)}function wa(e){if(e.every((e=>"string"==typeof e)))return{type:"StringLiteral",value:e.join("")};let t=e.reduce(((e,t)=>("string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e)),[]).reduce(((e,t)=>("string"==typeof t?e.quasis.push({type:"StringLiteral",value:t}):(e.quasis.length===e.expressions.length&&e.quasis.push({type:"StringLiteral",value:""}),e.expressions.push(t)),e)),{type:"TemplateLiteral",quasis:[],expressions:[]});return t.quasis.length===t.expressions.length&&t.quasis.push({type:"StringLiteral",value:""}),t}function ka(e){try{return fa(e)}catch(t){throw new Error("Value ".concat(e," can't be converted to Integer type."))}}function $a(e){if("'"===e||"\\"===e)return e;throw new Error("Incorrect string escape")}function Ca(e,t,n,i){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,Ca.prototype),o.expected=t,o.found=n,o.location=i,o.name="SyntaxError",o}function Ia(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function Ma(e,t){var n,i={},o=(t=void 0!==t?t:{}).grammarSource,r={start:Tt,JsonStringContents:function(){var e,t,n;for(e=vt,t=[],n=Et();n!==i;)t.push(n),n=Et();return _t=e,De(t)}},s=Tt,a="@{",l="}",c="@{}",u="\\",d="?",p=":",h="!:",g="||",m="&&",f="==",v="!=",_=">=",b=">",y="<=",x="<",w="+",k="-",$="/",C="*",I="%",M="!",j="(",S=")",T=",",E="'",L=".",D="e",z="E",O="true",A="false",N=/^[^}]/,R=/^[^'}]/,B=/^[0-9]/,P=/^[a-zA-Z_0-9.]/,H=/^[a-zA-Z_]/,U=/^[ \t\r\n]/,V=$t("@{",!1),G=$t("}",!1),q=$t("@{}",!1),F=$t("\\",!1),Z={type:"any"},Y=Ct(["}"],!0,!1),W=$t("?",!1),X=$t(":",!1),K=$t("!:",!1),Q=$t("||",!1),J=$t("&&",!1),ee=$t("==",!1),te=$t("!=",!1),ne=$t(">=",!1),ie=$t(">",!1),oe=$t("<=",!1),re=$t("<",!1),se=$t("+",!1),ae=$t("-",!1),le=$t("/",!1),ce=$t("*",!1),ue=$t("%",!1),de=$t("!",!1),pe=$t("(",!1),he=$t(")",!1),ge=$t(",",!1),me=It("string"),fe=$t("'",!1),ve=Ct(["'","}"],!0,!1),_e=It("integer"),be=Ct([["0","9"]],!1,!1),ye=It("number"),xe=$t(".",!1),we=$t("e",!1),ke=$t("E",!1),$e=It("boolean"),Ce=$t("true",!1),Ie=$t("false",!1),Me=Ct([["a","z"],["A","Z"],"_",["0","9"],"."],!1,!1),je=It("identifier"),Se=Ct([["a","z"],["A","Z"],"_"],!1,!1),Te=It("whitespace"),Ee=Ct([" ","\t","\r","\n"],!1,!1),Le=function(e){return e},De=function(e){return wa(e)},ze=function(e){return e},Oe=function(){return""},Ae=function(){return kt()},Ne=function(){throw new Error("Error tokenizing '"+e+"'.")},Re=function(){throw new Error("Error tokenizing '"+e+"'.")},Be=function(e){return e},Pe=function(e){return $a(e)},He=function(){throw new Error("Error tokenizing '"+e+"'.")},Ue=function(e,t,n){return{type:"ConditionalExpression",test:e,consequent:t,alternate:n}},Ve=function(e,t){return{type:"TryExpression",test:e,alternate:t}},Ge=function(e,t){return xa(e,t)},qe=function(e,t){return xa(e,t)},Fe=function(e,t){return ya(e,t)},Ze=function(e,t){return ya(e,t)},Ye=function(e,t){return ya(e,t)},We=function(e,t){return ya(e,t)},Xe=function(e,t){return{type:"UnaryExpression",operator:e,argument:t}},Ke=function(e,t){return{type:"CallExpression",callee:e,arguments:t}},Qe=function(e){return{type:"Variable",id:e}},Je=function(e,t){return[e,...t]},et=function(e){return e},tt=function(e){return e},nt=function(e){return wa(e)},it=function(e){return e},ot=function(){return""},rt=function(){return kt()},st=function(){throw new Error("Error tokenizing '"+e+"'.")},at=function(){throw new Error("Error tokenizing '"+e+"'.")},lt=function(e){return e},ct=function(e){return $a(e)},ut=function(){throw new Error("Error tokenizing '"+e+"'.")},dt=function(){return{type:"IntegerLiteral",value:ka(kt())}},pt=function(){return{type:"NumberLiteral",value:parseFloat(kt())}},ht=function(){return{type:"NumberLiteral",value:parseFloat(kt())}},gt=function(){return{type:"BooleanLiteral",value:!0}},mt=function(){return{type:"BooleanLiteral",value:!1}},ft=function(){return{type:"Identifier",name:kt()}},vt=0,_t=0,bt=[{line:1,column:1}],yt=0,xt=[],wt=0;if("startRule"in t){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=r[t.startRule]}function kt(){return e.substring(_t,vt)}function $t(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ct(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function It(e){return{type:"other",description:e}}function Mt(t){var n,i=bt[t];if(i)return i;for(n=t-1;!bt[n];)n--;for(i={line:(i=bt[n]).line,column:i.column};n<t;)10===e.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return bt[t]=i,i}function jt(e,t,n){var i=Mt(e),r=Mt(t),s={source:o,start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:r.line,column:r.column}};return n&&o&&"function"==typeof o.offset&&(s.start=o.offset(s.start),s.end=o.offset(s.end)),s}function St(e){vt<yt||(vt>yt&&(yt=vt,xt=[]),xt.push(e))}function Tt(){var e,t;return e=vt,qt(),(t=Lt())!==i?(qt(),_t=e,e=Le(t)):(vt=e,e=i),e}function Et(){var t,n,o,r,s;if(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i?(o=qt(),(r=Lt())!==i?(qt(),125===e.charCodeAt(vt)?(s=l,vt++):(s=i,0===wt&&St(G)),s!==i?(_t=t,t=ze(r)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,e.substr(vt,3)===c?(n=c,vt+=3):(n=i,0===wt&&St(q)),n!==i&&(_t=t,n=Oe()),(t=n)===i&&(t=vt,n=vt,wt++,92===e.charCodeAt(vt)?(o=u,vt++):(o=i,0===wt&&St(F)),o===i&&(e.substr(vt,2)===a?(o=a,vt+=2):(o=i,0===wt&&St(V))),wt--,o===i?n=void 0:(vt=n,n=i),n!==i?(e.length>vt?(o=e.charAt(vt),vt++):(o=i,0===wt&&St(Z)),o!==i?(_t=t,t=Ae()):(vt=t,t=i)):(vt=t,t=i),t===i))){if(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i){if(o=[],N.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(Y)),r!==i)for(;r!==i;)o.push(r),N.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(Y));else o=i;o!==i?(125===e.charCodeAt(vt)?(r=l,vt++):(r=i,0===wt&&St(G)),r!==i?(_t=t,t=Ne()):(vt=t,t=i)):(vt=t,t=i)}else vt=t,t=i;t===i&&(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i&&(_t=t,n=Re()),(t=n)===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i?(e.substr(vt,2)===a?(o=a,vt+=2):(o=i,0===wt&&St(V)),o!==i?(_t=t,t=Be(o)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i?(e.length>vt?(o=e.charAt(vt),vt++):(o=i,0===wt&&St(Z)),o!==i?(_t=t,t=Pe(o)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i&&(_t=t,n=He()),t=n))))}return t}function Lt(){var t,n,o,r,s,a;return t=vt,(n=Dt())!==i?(qt(),63===e.charCodeAt(vt)?(o=d,vt++):(o=i,0===wt&&St(W)),o!==i?(qt(),(r=Lt())!==i?(qt(),58===e.charCodeAt(vt)?(s=p,vt++):(s=i,0===wt&&St(X)),s!==i?(qt(),(a=Lt())!==i?(_t=t,t=Ue(n,r,a)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=Dt()),t}function Dt(){var t,n,o,r;return t=vt,(n=zt())!==i?(qt(),e.substr(vt,2)===h?(o=h,vt+=2):(o=i,0===wt&&St(K)),o!==i?(qt(),(r=Lt())!==i?(_t=t,t=Ve(n,r)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=zt()),t}function zt(){var t,n,o,r,s,a,l,c;if(t=vt,(n=Ot())!==i){for(o=[],r=vt,s=qt(),e.substr(vt,2)===g?(a=g,vt+=2):(a=i,0===wt&&St(Q)),a!==i?(l=qt(),(c=Ot())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),e.substr(vt,2)===g?(a=g,vt+=2):(a=i,0===wt&&St(Q)),a!==i?(l=qt(),(c=Ot())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=Ge(n,o)}else vt=t,t=i;return t}function Ot(){var t,n,o,r,s,a,l,c;if(t=vt,(n=At())!==i){for(o=[],r=vt,s=qt(),e.substr(vt,2)===m?(a=m,vt+=2):(a=i,0===wt&&St(J)),a!==i?(l=qt(),(c=At())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),e.substr(vt,2)===m?(a=m,vt+=2):(a=i,0===wt&&St(J)),a!==i?(l=qt(),(c=At())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=qe(n,o)}else vt=t,t=i;return t}function At(){var t,n,o,r,s,a,l,c;if(t=vt,(n=Nt())!==i){for(o=[],r=vt,s=qt(),e.substr(vt,2)===f?(a=f,vt+=2):(a=i,0===wt&&St(ee)),a===i&&(e.substr(vt,2)===v?(a=v,vt+=2):(a=i,0===wt&&St(te))),a!==i?(l=qt(),(c=Nt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),e.substr(vt,2)===f?(a=f,vt+=2):(a=i,0===wt&&St(ee)),a===i&&(e.substr(vt,2)===v?(a=v,vt+=2):(a=i,0===wt&&St(te))),a!==i?(l=qt(),(c=Nt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=Fe(n,o)}else vt=t,t=i;return t}function Nt(){var t,n,o,r,s,a,l,c;if(t=vt,(n=Rt())!==i){for(o=[],r=vt,s=qt(),e.substr(vt,2)===_?(a=_,vt+=2):(a=i,0===wt&&St(ne)),a===i&&(62===e.charCodeAt(vt)?(a=b,vt++):(a=i,0===wt&&St(ie)),a===i&&(e.substr(vt,2)===y?(a=y,vt+=2):(a=i,0===wt&&St(oe)),a===i&&(60===e.charCodeAt(vt)?(a=x,vt++):(a=i,0===wt&&St(re))))),a!==i?(l=qt(),(c=Rt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),e.substr(vt,2)===_?(a=_,vt+=2):(a=i,0===wt&&St(ne)),a===i&&(62===e.charCodeAt(vt)?(a=b,vt++):(a=i,0===wt&&St(ie)),a===i&&(e.substr(vt,2)===y?(a=y,vt+=2):(a=i,0===wt&&St(oe)),a===i&&(60===e.charCodeAt(vt)?(a=x,vt++):(a=i,0===wt&&St(re))))),a!==i?(l=qt(),(c=Rt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=Ze(n,o)}else vt=t,t=i;return t}function Rt(){var t,n,o,r,s,a,l,c;if(t=vt,(n=Bt())!==i){for(o=[],r=vt,s=qt(),43===e.charCodeAt(vt)?(a=w,vt++):(a=i,0===wt&&St(se)),a===i&&(45===e.charCodeAt(vt)?(a=k,vt++):(a=i,0===wt&&St(ae))),a!==i?(l=qt(),(c=Bt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),43===e.charCodeAt(vt)?(a=w,vt++):(a=i,0===wt&&St(se)),a===i&&(45===e.charCodeAt(vt)?(a=k,vt++):(a=i,0===wt&&St(ae))),a!==i?(l=qt(),(c=Bt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=Ye(n,o)}else vt=t,t=i;return t}function Bt(){var t,n,o,r,s,a,l,c;if(t=vt,(n=Pt())!==i){for(o=[],r=vt,s=qt(),47===e.charCodeAt(vt)?(a=$,vt++):(a=i,0===wt&&St(le)),a===i&&(42===e.charCodeAt(vt)?(a=C,vt++):(a=i,0===wt&&St(ce)),a===i&&(37===e.charCodeAt(vt)?(a=I,vt++):(a=i,0===wt&&St(ue)))),a!==i?(l=qt(),(c=Pt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,s=qt(),47===e.charCodeAt(vt)?(a=$,vt++):(a=i,0===wt&&St(le)),a===i&&(42===e.charCodeAt(vt)?(a=C,vt++):(a=i,0===wt&&St(ce)),a===i&&(37===e.charCodeAt(vt)?(a=I,vt++):(a=i,0===wt&&St(ue)))),a!==i?(l=qt(),(c=Pt())!==i?r=s=[s,a,l,c]:(vt=r,r=i)):(vt=r,r=i);_t=t,t=We(n,o)}else vt=t,t=i;return t}function Pt(){var t,n,o;return(t=Vt())===i&&(t=Ut())===i&&(t=vt,33===e.charCodeAt(vt)?(n=M,vt++):(n=i,0===wt&&St(de)),n===i&&(43===e.charCodeAt(vt)?(n=w,vt++):(n=i,0===wt&&St(se)),n===i&&(45===e.charCodeAt(vt)?(n=k,vt++):(n=i,0===wt&&St(ae)))),n!==i?(qt(),(o=Pt())!==i?(_t=t,t=Xe(n,o)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=function(){var t,n,o,r,s;return t=vt,(n=Gt())!==i?(qt(),40===e.charCodeAt(vt)?(o=j,vt++):(o=i,0===wt&&St(pe)),o!==i?(qt(),r=function(){var t,n,o,r,s,a;if(t=vt,(n=Lt())!==i){for(o=[],r=vt,qt(),44===e.charCodeAt(vt)?(s=T,vt++):(s=i,0===wt&&St(ge)),s!==i?(qt(),(a=Lt())!==i?r=a:(vt=r,r=i)):(vt=r,r=i);r!==i;)o.push(r),r=vt,qt(),44===e.charCodeAt(vt)?(s=T,vt++):(s=i,0===wt&&St(ge)),s!==i?(qt(),(a=Lt())!==i?r=a:(vt=r,r=i)):(vt=r,r=i);_t=t,t=Je(n,o)}else vt=t,t=i;return t===i&&(t=qt()),t}(),r!==i?(qt(),41===e.charCodeAt(vt)?(s=S,vt++):(s=i,0===wt&&St(he)),s!==i?(_t=t,t=Ke(n,r)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,(n=Gt())!==i&&(_t=t,n=Qe(n)),(t=n)===i&&(t=function(){var t,n,o,r;return t=function(){var t,n,o,r;return wt++,t=vt,39===e.charCodeAt(vt)?(n=E,vt++):(n=i,0===wt&&St(fe)),n!==i?(o=function(){var e,t,n;for(e=vt,t=[],n=Ht();n!==i;)t.push(n),n=Ht();return _t=e,nt(t)}(),39===e.charCodeAt(vt)?(r=E,vt++):(r=i,0===wt&&St(fe)),r!==i?(_t=t,t=tt(o)):(vt=t,t=i)):(vt=t,t=i),wt--,t===i&&(n=i,0===wt&&St(me)),t}(),t===i&&(t=Vt())===i&&(t=Ut())===i&&(t=function(){var t,n;return wt++,t=vt,e.substr(vt,4)===O?(n=O,vt+=4):(n=i,0===wt&&St(Ce)),n!==i&&(_t=t,n=gt()),(t=n)===i&&(t=vt,e.substr(vt,5)===A?(n=A,vt+=5):(n=i,0===wt&&St(Ie)),n!==i&&(_t=t,n=mt()),t=n),wt--,t===i&&(n=i,0===wt&&St($e)),t}(),t===i&&(t=vt,40===e.charCodeAt(vt)?(n=j,vt++):(n=i,0===wt&&St(pe)),n!==i?(qt(),(o=Lt())!==i?(qt(),41===e.charCodeAt(vt)?(r=S,vt++):(r=i,0===wt&&St(he)),r!==i?(_t=t,t=et(o)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i))),t}())),t}())),t}function Ht(){var t,n,o,r,s;if(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i?(o=qt(),(r=Lt())!==i?(qt(),125===e.charCodeAt(vt)?(s=l,vt++):(s=i,0===wt&&St(G)),s!==i?(_t=t,t=it(r)):(vt=t,t=i)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,e.substr(vt,3)===c?(n=c,vt+=3):(n=i,0===wt&&St(q)),n!==i&&(_t=t,n=ot()),(t=n)===i&&(t=vt,n=vt,wt++,92===e.charCodeAt(vt)?(o=u,vt++):(o=i,0===wt&&St(F)),o===i&&(39===e.charCodeAt(vt)?(o=E,vt++):(o=i,0===wt&&St(fe)),o===i&&(e.substr(vt,2)===a?(o=a,vt+=2):(o=i,0===wt&&St(V)))),wt--,o===i?n=void 0:(vt=n,n=i),n!==i?(e.length>vt?(o=e.charAt(vt),vt++):(o=i,0===wt&&St(Z)),o!==i?(_t=t,t=rt()):(vt=t,t=i)):(vt=t,t=i),t===i))){if(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i){if(o=[],R.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(ve)),r!==i)for(;r!==i;)o.push(r),R.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(ve));else o=i;o!==i?(125===e.charCodeAt(vt)?(r=l,vt++):(r=i,0===wt&&St(G)),r!==i?(_t=t,t=st()):(vt=t,t=i)):(vt=t,t=i)}else vt=t,t=i;t===i&&(t=vt,e.substr(vt,2)===a?(n=a,vt+=2):(n=i,0===wt&&St(V)),n!==i&&(_t=t,n=at()),(t=n)===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i?(e.substr(vt,2)===a?(o=a,vt+=2):(o=i,0===wt&&St(V)),o!==i?(_t=t,t=lt(o)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i?(e.length>vt?(o=e.charAt(vt),vt++):(o=i,0===wt&&St(Z)),o!==i?(_t=t,t=ct(o)):(vt=t,t=i)):(vt=t,t=i),t===i&&(t=vt,92===e.charCodeAt(vt)?(n=u,vt++):(n=i,0===wt&&St(F)),n!==i&&(_t=t,n=ut()),t=n))))}return t}function Ut(){var t,n,o,r;if(wt++,t=vt,45===e.charCodeAt(vt)?(n=k,vt++):(n=i,0===wt&&St(ae)),n===i&&(n=null),o=[],B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be)),r!==i)for(;r!==i;)o.push(r),B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be));else o=i;return o!==i?(_t=t,t=dt()):(vt=t,t=i),wt--,t===i&&(n=i,0===wt&&St(_e)),t}function Vt(){var t,n,o,r,s,a,l,c,u,d;for(wt++,t=vt,45===e.charCodeAt(vt)?(n=k,vt++):(n=i,0===wt&&St(ae)),n===i&&(n=null),o=[],B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be));r!==i;)o.push(r),B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be));if(46===e.charCodeAt(vt)?(r=L,vt++):(r=i,0===wt&&St(xe)),r!==i){if(s=[],B.test(e.charAt(vt))?(a=e.charAt(vt),vt++):(a=i,0===wt&&St(be)),a!==i)for(;a!==i;)s.push(a),B.test(e.charAt(vt))?(a=e.charAt(vt),vt++):(a=i,0===wt&&St(be));else s=i;if(s!==i){if(a=vt,101===e.charCodeAt(vt)?(l=D,vt++):(l=i,0===wt&&St(we)),l===i&&(69===e.charCodeAt(vt)?(l=z,vt++):(l=i,0===wt&&St(ke))),l!==i){if(43===e.charCodeAt(vt)?(c=w,vt++):(c=i,0===wt&&St(se)),c===i&&(45===e.charCodeAt(vt)?(c=k,vt++):(c=i,0===wt&&St(ae))),c===i&&(c=null),u=[],B.test(e.charAt(vt))?(d=e.charAt(vt),vt++):(d=i,0===wt&&St(be)),d!==i)for(;d!==i;)u.push(d),B.test(e.charAt(vt))?(d=e.charAt(vt),vt++):(d=i,0===wt&&St(be));else u=i;u!==i?a=l=[l,c,u]:(vt=a,a=i)}else vt=a,a=i;a===i&&(a=null),_t=t,t=pt()}else vt=t,t=i}else vt=t,t=i;if(t===i){if(t=vt,45===e.charCodeAt(vt)?(n=k,vt++):(n=i,0===wt&&St(ae)),n===i&&(n=null),o=[],B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be)),r!==i)for(;r!==i;)o.push(r),B.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(be));else o=i;if(o!==i)if(101===e.charCodeAt(vt)?(r=D,vt++):(r=i,0===wt&&St(we)),r===i&&(69===e.charCodeAt(vt)?(r=z,vt++):(r=i,0===wt&&St(ke))),r!==i){if(43===e.charCodeAt(vt)?(s=w,vt++):(s=i,0===wt&&St(se)),s===i&&(45===e.charCodeAt(vt)?(s=k,vt++):(s=i,0===wt&&St(ae))),s===i&&(s=null),a=[],B.test(e.charAt(vt))?(l=e.charAt(vt),vt++):(l=i,0===wt&&St(be)),l!==i)for(;l!==i;)a.push(l),B.test(e.charAt(vt))?(l=e.charAt(vt),vt++):(l=i,0===wt&&St(be));else a=i;a!==i?(_t=t,t=ht()):(vt=t,t=i)}else vt=t,t=i;else vt=t,t=i}return wt--,t===i&&(n=i,0===wt&&St(ye)),t}function Gt(){var t,n,o,r,s;if(wt++,t=vt,n=vt,wt++,o=function(){var t,n,o,r;return t=vt,e.substr(vt,4)===O?(n=O,vt+=4):(n=i,0===wt&&St(Ce)),n===i&&(e.substr(vt,5)===A?(n=A,vt+=5):(n=i,0===wt&&St(Ie))),n!==i?(o=vt,wt++,P.test(e.charAt(vt))?(r=e.charAt(vt),vt++):(r=i,0===wt&&St(Me)),wt--,r===i?o=void 0:(vt=o,o=i),o!==i?t=n=[n,o]:(vt=t,t=i)):(vt=t,t=i),t}(),wt--,o===i?n=void 0:(vt=n,n=i),n!==i)if(H.test(e.charAt(vt))?(o=e.charAt(vt),vt++):(o=i,0===wt&&St(Se)),o!==i){for(r=[],P.test(e.charAt(vt))?(s=e.charAt(vt),vt++):(s=i,0===wt&&St(Me));s!==i;)r.push(s),P.test(e.charAt(vt))?(s=e.charAt(vt),vt++):(s=i,0===wt&&St(Me));_t=t,t=ft()}else vt=t,t=i;else vt=t,t=i;return wt--,t===i&&(n=i,0===wt&&St(je)),t}function qt(){var t,n;for(wt++,t=[],U.test(e.charAt(vt))?(n=e.charAt(vt),vt++):(n=i,0===wt&&St(Ee));n!==i;)t.push(n),U.test(e.charAt(vt))?(n=e.charAt(vt),vt++):(n=i,0===wt&&St(Ee));return wt--,n=i,0===wt&&St(Te),t}if((n=s())!==i&&vt===e.length)return n;throw n!==i&&vt<e.length&&St({type:"end"}),function(e,t,n){return new Ca(Ca.buildMessage(e,t),e,t,n)}(xt,yt<e.length?e.charAt(yt):null,yt<e.length?jt(yt,yt+1):jt(yt,yt))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(Ca,Error),Ca.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,i=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){i=e[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,r=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,s=this.location.source+":"+r.line+":"+r.column;if(i){var a=this.location.end,l=Ia("",r.line.toString().length," "),c=i[o.line-1],u=(o.line===a.line?a.column:c.length+1)-o.column||1;t+="\n --\x3e "+s+"\n"+l+" |\n"+r.line+" | "+c+"\n"+l+" | "+Ia("",o.column-1," ")+Ia("",u,"^")}else t+="\n at "+s}return t},Ca.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?r(e[0])+"-"+r(e[1]):r(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function r(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function s(e){return n[e.type](e)}return"Expected "+function(e){var t,n,i=e.map(s);if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."};const ja=new Map,Sa=new Map;function Ta(e,t,n){const i={args:t,cb:n},o=ja.get(e)||[];ja.has(e)||ja.set(e,o),o.push(i);const r=e+":"+t.map((e=>"object"==typeof e?e.type:e)).join("#");Sa.set(r,i)}function Ea(e,t){let n=e.args.length,i=e.args.length;const o=e.args[e.args.length-1];if("object"==typeof o&&o.isVararg&&(--n,i=1/0),t.length<n)return{type:"few",expected:n,found:t.length};if(t.length>i)return{type:"many",expected:i,found:t.length};for(let n=0;n<t.length;++n){let i=n>=e.args.length?e.args[e.args.length-1]:e.args[n];if("object"!=typeof i&&(i={type:i}),i.type!==t[n].type)return{type:"mismatch",expected:i.type,found:t[n].type}}return{type:"match"}}function La(e,t){var n;switch(null===(n=t[e.type])||void 0===n||n.call(t,e),e.type){case"TemplateLiteral":e.expressions.forEach((e=>{La(e,t)}));break;case"BinaryExpression":case"LogicalExpression":La(e.left,t),La(e.right,t);break;case"UnaryExpression":La(e.argument,t);break;case"ConditionalExpression":La(e.test,t),La(e.consequent,t),La(e.alternate,t);break;case"TryExpression":La(e.test,t),La(e.alternate,t);break;case"CallExpression":e.arguments.forEach((e=>{La(e,t)}))}}function Da(e){return"url"===e.type||"color"===e.type?{type:"string",value:e.value}:e}function za(e){return e.toISOString().replace("T"," ").replace(/\.\d{3}Z$/,"")}function Oa(e){if("string"===e.type)return e.value;if("integer"===e.type)return String(e.value);if("number"===e.type){let t=String(e.value);return t.includes(".")||(t.includes("e")?t=t.replace("e",".0e"):t+=".0"),t=t.replace(/e\+?/i,"E"),t}if("boolean"===e.type)return e.value?"true":"false";if("datetime"===e.type)return za(e.value);if("color"===e.type)return Va(Ua(e.value));if("url"===e.type)return e.value;if("dict"===e.type)return"<dict>";if("array"===e.type)return"<array>";throw new Error("Unexpected type ".concat(e.type))}function Aa(e){let t=Oa(e);return"string"===e.type&&(t="'"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"),t}function Na(e){return"datetime"===e?"DateTime":e.charAt(0).toUpperCase()+e.substring(1)}function Ra(e,t){if(pa)return fa(t);if(t<0){const e=-Math.floor(-t);return 0===e?0:e}return Math.floor(t)}function Ba(e,t){if(t<ma||t>ga)throw new Error("Integer overflow.");!pa&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(e.safeIntegerOverflow=!0)}function Pa(e){const t=[];return La(e,{Variable(e){t.push(e.id.name)}}),t}function Ha(e,t){throw new Error("Failed to evaluate [".concat(e,"]. ").concat(t))}function Ua(e){const t=wi(e);if(t)return t;throw new Error("Unable to convert value to Color, expected format #AARRGGBB.")}function Va(e){return"#".concat([e.a,e.r,e.g,e.b].map((e=>{if(e<0||e>255)throw new Error("Value out of range 0..1.");return yi(Math.round(e).toString(16),2)})).join("").toUpperCase())}function Ga(e){return Va(Ua(e))}const qa=Number.MAX_VALUE,Fa=Number.MIN_VALUE,Za="string",Ya="integer",Wa="number",Xa="boolean",Ka="color",Qa="url",Ja="datetime",el="dict",tl="array";function nl(e,t){return{type:Za,value:Oa(t)}}function il(e,t){const n=Number(t.value);if(Number.isNaN(n)||!Number.isFinite(n))throw new Error("Unable to convert value to Number.");return{type:Wa,value:n}}function ol(e,t,n,i){const o=e.variables.get(t.value);let r;return r=o&&o.getType()===i?o.getValue():n.value,"color"===i&&(r=Ga(r)),{type:i,value:r}}function rl(e,t,n){return ol(e,t,n,n.type)}function sl(e,t,n){return ol(e,t,n,"color")}function al(e,t,n){return ol(e,t,n,"url")}const ll=e=>(t,n)=>{let i=new Date(n.value.getTime())[e]();return"getUTCMonth"===e?++i:"getUTCDay"===e&&0===i&&(i=7),{type:Ya,value:fa(i)}},cl=ll("getUTCFullYear"),ul=ll("getUTCMonth"),dl=ll("getUTCDate"),pl=ll("getUTCDay"),hl=ll("getUTCHours"),gl=ll("getUTCMinutes"),ml=ll("getUTCSeconds"),fl=ll("getUTCMilliseconds");function vl(e,t,n,i){if(!i.value.length)return e.warnings.push(gi(new Error("String for padding is empty."),{level:"warn"})),"";let o="";const r=t.type===Za?t.value:Oa(t);for(;o.length+r.length<n.value;)o+=i.value;return o.length>0&&o.length+r.length>n.value&&(o=o.substring(0,Number(n.value)-Number(r.length))),o}function _l(e,t,n,i){const o=vl(e,t,n,i);return{type:Za,value:o+Oa(t)}}function bl(e,t,n,i){const o=vl(e,t,n,i);return{type:Za,value:Oa(t)+o}}function yl(e){return(t,n)=>{const i=Ua(n.value);return{type:Wa,value:i[e]/255}}}function xl(e){return(t,n,i)=>{const o=Ua(n.value);return o[e]=255*i.value,{type:Ka,value:Va(o)}}}const wl=yl("a"),kl=yl("r"),$l=yl("g"),Cl=yl("b"),Il=xl("a"),Ml=xl("r"),jl=xl("g"),Sl=xl("b");function Tl(e,t,n,i){if(t.value<0)throw new Error("Expecting non-negative number of milliseconds.");let o=fa(t.value)/fa(n);return Ba(e,o),"number"==typeof o&&(o=Math.floor(o)),i&&(o=fa(o)%fa(i)),{type:Ya,value:o}}const El=36e5;function Ll(e,t){return function(n,i){for(var o=arguments.length,r=new Array(o>2?o-2:0),s=2;s<o;s++)r[s-2]=arguments[s];let a=function(e,t){let n=e;for(let e=0;e<t.length;++e){if(!n)throw new Error('Missing property "'.concat(t[e],'" in the dict.'));const i=n[t[e]];if(void 0===i)throw new Error('Missing property "'.concat(t[e],'" in the dict.'));n=i}return n}(i.value,r.map((e=>e.value))),l=typeof a;if("array"===e&&!Array.isArray(a)||"array"!==e&&l!==e||"object"===l&&null===a)throw"object"===l&&(l=Array.isArray(a)?"array":null===a?"null":"dict"),new Error('Incorrect value type: expected "'.concat(t,'", got "').concat(l,'".'));if("number"===e&&"integer"===t){Ba(n,a);try{a=fa(a)}catch(e){throw new Error("Cannot convert value to integer.")}}return"string"===e&&"color"===t&&(a=Ga(a)),{type:t,value:a}}}function Dl(e,t){return function(n,i,o){try{for(var r=arguments.length,s=new Array(r>3?r-3:0),a=3;a<r;a++)s[a-3]=arguments[a];return e(n,o,...s)}catch(e){let n=i.value;return"color"===t&&(n=Ga(n)),{type:t,value:n}}}}const zl=Ll("string","string"),Ol=Ll("number","number"),Al=Ll("number","integer"),Nl=Ll("boolean","boolean"),Rl=Ll("string","color"),Bl=Ll("string","url"),Pl=Ll("array","array"),Hl=Ll("object","dict"),Ul=Dl(zl,"string"),Vl=Dl(Ol,"number"),Gl=Dl(Al,"integer"),ql=Dl(Nl,"boolean"),Fl=Dl(Rl,"color"),Zl=Dl(Bl,"url");function Yl(e,t){return(n,i,o)=>{if(o.value<0||o.value>=i.value.length)throw new Error("Requested index (".concat(o.value,") out of bounds array size (").concat(i.value.length,")."));let r=i.value[Number(o.value)],s=typeof r;if("array"===e&&!Array.isArray(r)||"array"!==e&&s!==e||"object"===s&&null===r)throw"object"===s&&(s=Array.isArray(r)?"array":null===r?"null":"dict"),new Error('Incorrect value type: expected "'.concat(t,'", got "').concat(s,'".'));if("number"===e&&"integer"===t){Ba(n,r);try{r=fa(r)}catch(e){throw new Error("Cannot convert value to integer.")}}return"string"===e&&"color"===t&&(r=Ga(r)),{type:t,value:r}}}function Wl(e,t){return(n,i,o,r)=>{try{return e(n,i,o)}catch(e){let n=r.value;return"color"===t&&(n=Ga(n)),{type:t,value:n}}}}const Xl=Yl("string","string"),Kl=Yl("number","number"),Ql=Yl("number","integer"),Jl=Yl("boolean","boolean"),ec=Yl("string","color"),tc=Yl("string","url"),nc=Yl("array","array"),ic=Yl("object","dict"),oc=Wl(Xl,"string"),rc=Wl(Kl,"number"),sc=Wl(Ql,"integer"),ac=Wl(Jl,"boolean"),lc=Wl(ec,"color"),cc=Wl(tc,"url");class uc{constructor(e,t){const n=this.convertValue(t);this.name=e,this.value=n}getName(){return this.name}subscribe(e){return this.store||(this.store=ui(this.value)),this.store.subscribe(e)}set(e){const t=this.fromString(e);this.setValue(t)}setValue(e){const t=this.convertValue(e);this.value=t,this.store&&this.store.set(t)}getValue(){return this.value}}class dc extends uc{convertValue(e){if("string"!=typeof e)throw new Error("Incorrect variable value");return e}fromString(e){return e}getType(){return"string"}}class pc extends uc{convertValue(e){if("bigint"!=typeof e&&"number"!=typeof e)throw new Error("Incorrect variable value");try{return fa(e)}catch(e){throw new Error("Incorrect variable value")}}fromString(e){try{return fa(e)}catch(e){throw new Error("Incorrect variable value")}}getType(){return"integer"}}class hc extends uc{convertValue(e){if("number"!=typeof e||Number.isNaN(e)||!isFinite(e))throw new Error("Incorrect variable value");return e}fromString(e){const t=Number(e);return this.convertValue(t)}getType(){return"number"}}class gc extends uc{convertValue(e){if(1!==e&&0!==e&&!0!==e&&!1!==e)throw new Error("Incorrect variable value");return Number(e)}fromString(e){if("1"===e||"true"===e)return 1;if("0"===e||"false"===e)return 0;throw new Error("Incorrect variable value")}getType(){return"boolean"}}class mc extends uc{convertValue(e){if("string"!=typeof e||!wi(e))throw new Error("Incorrect variable value");return e}fromString(e){return this.convertValue(e)}getType(){return"color"}}class fc extends uc{convertValue(e){if("string"!=typeof e)throw new Error("Incorrect variable value");return e}fromString(e){return e}getType(){return"url"}}class vc extends uc{convertValue(e){if("object"!=typeof e||!e)throw new Error("Incorrect variable value");return e}fromString(e){throw new Error("Dict variable does not support setter from string")}getType(){return"dict"}}class _c extends uc{convertValue(e){if(!Array.isArray(e))throw new Error("Incorrect variable value");return e}fromString(e){throw new Error("Array variable does not support setter from string")}getType(){return"array"}}const bc={string:dc,number:hc,integer:pc,boolean:gc,color:mc,url:fc,dict:vc,array:_c};function yc(e,t,n){if(!(t in bc))throw new Error("Unsupported variable type");return new bc[t](e,n)}function xc(){}function wc(e){return e(this.value),xc}function kc(){throw new Error("Cannot change the value of this type of variable")}const $c={string:class extends dc{},number:class extends hc{},integer:class extends pc{},boolean:class extends gc{},color:class extends mc{},url:class extends fc{},dict:class extends vc{},array:class extends _c{}};for(const e in $c){const t=$c[e];t.prototype.subscribe=wc,t.prototype.set=kc,t.prototype.setValue=kc}function Cc(e){return e.map(Aa).join(", ")}Ta("toString",[Ya],nl),Ta("toString",[Wa],nl),Ta("toString",[Xa],nl),Ta("toString",[Ka],nl),Ta("toString",[Qa],nl),Ta("toNumber",[Ya],il),Ta("toNumber",[Za],il),Ta("toInteger",[Wa],(function(e,t){if(t.value>ga||t.value<ma)throw new Error("Unable to convert value to Integer.");const n=t.value-t.value%1;return{type:Ya,value:fa(n)}})),Ta("toInteger",[Za],(function(e,t){let n;try{n=fa(t.value)}catch(e){throw new Error("Unable to convert value to Integer.")}return{type:Ya,value:n}})),Ta("toInteger",[Xa],(function(e,t){return{type:Ya,value:fa(t.value?1:0)}})),Ta("toBoolean",[Ya],(function(e,t){const n=Number(t.value);if(1!==n&&0!==n)throw new Error("Unable to convert value to Boolean.");return{type:Xa,value:n}})),Ta("toBoolean",[Za],(function(e,t){if("true"!==t.value&&"false"!==t.value)throw new Error("Unable to convert value to Boolean.");return{type:Xa,value:"true"===t.value?1:0}})),Ta("toColor",[Za],(function(e,t){return{type:Ka,value:Ga(t.value)}})),Ta("toUrl",[Za],(function(e,t){return{type:Qa,value:t.value}})),Ta("encodeUri",[Za],(function(e,t){try{return{type:Za,value:encodeURIComponent(t.value)}}catch(e){throw new Error("Unable to encodeUri string.")}})),Ta("decodeUri",[Za],(function(e,t){try{return{type:Za,value:decodeURIComponent(t.value)}}catch(e){throw new Error("Unable to decodeUri string.")}})),Ta("getIntegerValue",[Za,Ya],rl),Ta("getNumberValue",[Za,Wa],rl),Ta("getBooleanValue",[Za,Xa],rl),Ta("getStringValue",[Za,Za],rl),Ta("getColorValue",[Za,Ka],sl),Ta("getColorValue",[Za,Za],sl),Ta("getUrlValue",[Za,Qa],al),Ta("getUrlValue",[Za,Za],al),Ta("parseUnixTime",[Ya],(function(e,t){return{type:Ja,value:new Date(1e3*Number(t.value))}})),Ta("nowLocal",[],(function(){return{type:Ja,value:new Date}})),Ta("addMillis",[Ja,Ya],(function(e,t,n){return{type:Ja,value:new Date(t.value.getTime()+Number(n.value))}})),Ta("setYear",[Ja,Ya],(function(e,t,n){const i=new Date(t.value);return i.setUTCFullYear(Number(n.value)),{type:Ja,value:i}})),Ta("setMonth",[Ja,Ya],(function(e,t,n){const i=Number(n.value);if(i<1||i>12)throw new Error("Expecting month in [1..12], instead got ".concat(i,"."));const o=new Date(t.value);return o.setUTCMonth(i-1),{type:Ja,value:o}})),Ta("setDay",[Ja,Ya],(function(e,t,n){const i=new Date(t.value),o=Number(n.value);if(o<=0&&-1!==o||o>function(e){const t=new Date(e);return t.setUTCMonth(t.getUTCMonth()+1),t.setUTCDate(0),t.getUTCDate()}(i))throw new Error("Unable to set day ".concat(o," for date ").concat(Oa(t),"."));return i.setUTCDate(-1===o?0:o),{type:Ja,value:i}})),Ta("setHours",[Ja,Ya],(function(e,t,n){const i=Number(n.value);if(i<0||i>23)throw new Error("Expecting hours in [0..23], instead got ".concat(i,"."));const o=new Date(t.value);return o.setUTCHours(i),{type:Ja,value:o}})),Ta("setMinutes",[Ja,Ya],(function(e,t,n){const i=Number(n.value);if(i<0||i>59)throw new Error("Expecting minutes in [0..59], instead got ".concat(i,"."));const o=new Date(t.value);return o.setUTCMinutes(i),{type:Ja,value:o}})),Ta("setSeconds",[Ja,Ya],(function(e,t,n){const i=Number(n.value);if(i<0||i>59)throw new Error("Expecting seconds in [0..59], instead got ".concat(i,"."));const o=new Date(t.value);return o.setUTCSeconds(i),{type:Ja,value:o}})),Ta("setMillis",[Ja,Ya],(function(e,t,n){const i=Number(n.value);if(i<0||i>999)throw new Error("Expecting millis in [0..999], instead got ".concat(i,"."));const o=new Date(t.value);return o.setUTCMilliseconds(i),{type:Ja,value:o}})),Ta("getYear",[Ja],cl),Ta("getMonth",[Ja],ul),Ta("getDay",[Ja],dl),Ta("getDayOfWeek",[Ja],pl),Ta("getHours",[Ja],hl),Ta("getMinutes",[Ja],gl),Ta("getSeconds",[Ja],ml),Ta("getMillis",[Ja],fl),Ta("getIntervalSeconds",[Ya],(function(e,t){return Tl(e,t,1e3,60)})),Ta("getIntervalTotalSeconds",[Ya],(function(e,t){return Tl(e,t,1e3)})),Ta("getIntervalMinutes",[Ya],(function(e,t){return Tl(e,t,6e4,60)})),Ta("getIntervalTotalMinutes",[Ya],(function(e,t){return Tl(e,t,6e4)})),Ta("getIntervalHours",[Ya],(function(e,t){return Tl(e,t,El,24)})),Ta("getIntervalTotalHours",[Ya],(function(e,t){return Tl(e,t,El)})),Ta("getIntervalTotalDays",[Ya],(function(e,t){return Tl(e,t,864e5)})),Ta("getIntervalTotalWeeks",[Ya],(function(e,t){return Tl(e,t,6048e5)})),Ta("len",[Za],(function(e,t){return{type:Ya,value:fa(t.value.length)}})),Ta("contains",[Za,Za],(function(e,t,n){return{type:Xa,value:t.value.includes(n.value)?1:0}})),Ta("substring",[Za,Ya,Ya],(function(e,t,n,i){if(i.value<n.value)throw new Error("Indexes should be in ascending order.");if(n.value<0||n.value>t.value.length||i.value<0||i.value>t.value.length)throw new Error("Indexes are out of bounds.");return{type:Za,value:t.value.substring(Number(n.value),Number(i.value))}})),Ta("replaceAll",[Za,Za,Za],(function(e,t,n,i){let o;return o=n.value?t.value.replace(new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(n.value),"g"),i.value):t.value,{type:Za,value:o}})),Ta("index",[Za,Za],(function(e,t,n){return{type:Ya,value:fa(t.value.indexOf(n.value))}})),Ta("lastIndex",[Za,Za],(function(e,t,n){return{type:Ya,value:fa(t.value.lastIndexOf(n.value))}})),Ta("trim",[Za],(function(e,t){return{type:Za,value:t.value.trim()}})),Ta("trimLeft",[Za],(function(e,t){return{type:Za,value:t.value.replace(/^\s+/,"")}})),Ta("trimRight",[Za],(function(e,t){return{type:Za,value:t.value.replace(/\s+$/,"")}})),Ta("toUpperCase",[Za],(function(e,t){return{type:Za,value:t.value.toUpperCase()}})),Ta("toLowerCase",[Za],(function(e,t){return{type:Za,value:t.value.toLowerCase()}})),Ta("padStart",[Za,Ya,Za],_l),Ta("padStart",[Ya,Ya,Za],_l),Ta("padEnd",[Za,Ya,Za],bl),Ta("padEnd",[Ya,Ya,Za],bl),Ta("testRegex",[Za,Za],(function(e,t,n){let i;try{i=new RegExp(n.value)}catch(e){throw new Error("Invalid regular expression.")}return{type:Xa,value:i.test(t.value)?1:0}})),Ta("div",[Ya,Ya],(function(e,t,n){if(n.value===va)throw new Error("Division by zero is not supported.");let i=t.value/n.value;return i=Ra(0,i),Ba(e,i),{type:Ya,value:i}})),Ta("div",[Wa,Wa],(function(e,t,n){if(0===n.value)throw new Error("Division by zero is not supported.");const i=t.value/n.value;return{type:Wa,value:i}})),Ta("mod",[Ya,Ya],(function(e,t,n){if(n.value===va)throw new Error("Division by zero is not supported.");let i=t.value%n.value;return i=Ra(0,i),Ba(e,i),{type:Ya,value:i}})),Ta("mod",[Wa,Wa],(function(e,t,n){if(0===n.value)throw new Error("Division by zero is not supported.");const i=t.value%n.value;return{type:Wa,value:i}})),Ta("mul",[{type:Ya,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o=n.length?n[0].value:va;for(let t=1;t<n.length;++t)o*=n[t].value,o=Ra(0,o),Ba(e,o);return{type:Ya,value:o}})),Ta("mul",[{type:Wa,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o=n.length?n[0].value:0;for(let e=1;e<n.length;++e)o*=n[e].value;return{type:Wa,value:o}})),Ta("sub",[{type:Ya,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o=n.length?n[0].value:va;for(let t=1;t<n.length;++t)o-=n[t].value,o=Ra(0,o),Ba(e,o);return{type:Ya,value:o}})),Ta("sub",[{type:Wa,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let o=n.length?n[0].value:0;for(let e=1;e<n.length;++e)o-=n[e].value;return{type:Wa,value:o}})),Ta("sum",[{type:Ya,isVararg:!0}],(function(e){let t=va;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(let n=0;n<i.length;++n)t+=i[n].value,t=Ra(0,t),Ba(e,t);return{type:Ya,value:t}})),Ta("sum",[{type:Wa,isVararg:!0}],(function(e){let t=0;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(let e=0;e<i.length;++e)t+=i[e].value;return{type:Wa,value:t}})),Ta("abs",[Ya],(function(e,t){const n=_a(t.value);return Ba(e,n),{type:t.type,value:n}})),Ta("abs",[Wa],(function(e,t){const n=Math.abs(t.value);return{type:Wa,value:n}})),Ta("max",[{type:Ya,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)throw new Error("Non empty argument list is required for function 'max'.");let o=n[0].value;for(let e=1;e<n.length;++e)n[e].value>o&&(o=n[e].value);return{type:Ya,value:o}})),Ta("max",[{type:Wa,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)throw new Error("Non empty argument list is required for function 'max'.");return{type:Wa,value:Math.max(...n.map((e=>e.value)))}})),Ta("min",[{type:Ya,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)throw new Error("Non empty argument list is required for function 'min'.");let o=n[0].value;for(let e=1;e<n.length;++e)n[e].value<o&&(o=n[e].value);return{type:Ya,value:o}})),Ta("min",[{type:Wa,isVararg:!0}],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)throw new Error("Non empty argument list is required for function 'min'.");return{type:Wa,value:Math.min(...n.map((e=>e.value)))}})),Ta("maxNumber",[],(function(){return{type:Wa,value:qa}})),Ta("minNumber",[],(function(){return{type:Wa,value:Fa}})),Ta("maxInteger",[],(function(e){return Ba(e,ga),{type:Ya,value:ga}})),Ta("minInteger",[],(function(e){return Ba(e,ma),{type:Ya,value:ma}})),Ta("round",[Wa],(function(e,t){const n=Math.sign(t.value);return{type:Wa,value:n*Math.round(Math.abs(t.value))}})),Ta("floor",[Wa],(function(e,t){return{type:Wa,value:Math.floor(t.value)}})),Ta("ceil",[Wa],(function(e,t){return{type:Wa,value:Math.ceil(t.value)}})),Ta("signum",[Ya],(function(e,t){return{type:Ya,value:ba(t.value)}})),Ta("signum",[Wa],(function(e,t){return{type:Wa,value:Math.sign(t.value)}})),Ta("copySign",[Ya,Ya],(function(e,t,n){let i;if(n.value===va)i=t.value;else if(t.value===va)i=fa(0);else{const e=ba(n.value);i=_a(t.value)*e}return Ba(e,i),{type:Ya,value:i}})),Ta("copySign",[Wa,Wa],(function(e,t,n){let i=Math.sign(n.value);0===i&&(i=Object.is(i,0)?1:-1);const o=Math.abs(t.value)*i;return{type:Wa,value:o}})),Ta("getColorAlpha",[Za],wl),Ta("getColorAlpha",[Ka],wl),Ta("getColorRed",[Za],kl),Ta("getColorRed",[Ka],kl),Ta("getColorGreen",[Za],$l),Ta("getColorGreen",[Ka],$l),Ta("getColorBlue",[Za],Cl),Ta("getColorBlue",[Ka],Cl),Ta("setColorAlpha",[Za,Wa],Il),Ta("setColorAlpha",[Ka,Wa],Il),Ta("setColorRed",[Za,Wa],Ml),Ta("setColorRed",[Ka,Wa],Ml),Ta("setColorGreen",[Za,Wa],jl),Ta("setColorGreen",[Ka,Wa],jl),Ta("setColorBlue",[Za,Wa],Sl),Ta("setColorBlue",[Ka,Wa],Sl),Ta("rgb",[Wa,Wa,Wa],(function(e,t,n,i){const o={a:255,r:255*t.value,g:255*n.value,b:255*i.value};return{type:Ka,value:Va(o)}})),Ta("argb",[Wa,Wa,Wa,Wa],(function(e,t,n,i,o){const r={a:255*t.value,r:255*n.value,g:255*i.value,b:255*o.value};return{type:Ka,value:Va(r)}})),Ta("getDictString",[el,{type:Za,isVararg:!0}],zl),Ta("getStringFromDict",[el,{type:Za,isVararg:!0}],zl),Ta("getDictNumber",[el,{type:Za,isVararg:!0}],Ol),Ta("getNumberFromDict",[el,{type:Za,isVararg:!0}],Ol),Ta("getDictInteger",[el,{type:Za,isVararg:!0}],Al),Ta("getIntegerFromDict",[el,{type:Za,isVararg:!0}],Al),Ta("getDictBoolean",[el,{type:Za,isVararg:!0}],Nl),Ta("getBooleanFromDict",[el,{type:Za,isVararg:!0}],Nl),Ta("getDictColor",[el,{type:Za,isVararg:!0}],Rl),Ta("getColorFromDict",[el,{type:Za,isVararg:!0}],Rl),Ta("getDictUrl",[el,{type:Za,isVararg:!0}],Bl),Ta("getUrlFromDict",[el,{type:Za,isVararg:!0}],Bl),Ta("getDictOptString",[Za,el,{type:Za,isVararg:!0}],Ul),Ta("getOptStringFromDict",[Za,el,{type:Za,isVararg:!0}],Ul),Ta("getDictOptNumber",[Wa,el,{type:Za,isVararg:!0}],Vl),Ta("getOptNumberFromDict",[Wa,el,{type:Za,isVararg:!0}],Vl),Ta("getDictOptInteger",[Ya,el,{type:Za,isVararg:!0}],Gl),Ta("getOptIntegerFromDict",[Ya,el,{type:Za,isVararg:!0}],Gl),Ta("getDictOptBoolean",[Xa,el,{type:Za,isVararg:!0}],ql),Ta("getOptBooleanFromDict",[Xa,el,{type:Za,isVararg:!0}],ql),Ta("getDictOptColor",[Ka,el,{type:Za,isVararg:!0}],Fl),Ta("getOptColorFromDict",[Ka,el,{type:Za,isVararg:!0}],Fl),Ta("getDictOptColor",[Za,el,{type:Za,isVararg:!0}],Fl),Ta("getOptColorFromDict",[Za,el,{type:Za,isVararg:!0}],Fl),Ta("getDictOptUrl",[Za,el,{type:Za,isVararg:!0}],Zl),Ta("getOptUrlFromDict",[Za,el,{type:Za,isVararg:!0}],Zl),Ta("getDictOptUrl",[Qa,el,{type:Za,isVararg:!0}],Zl),Ta("getOptUrlFromDict",[Qa,el,{type:Za,isVararg:!0}],Zl),Ta("getDictFromDict",[el,{type:Za,isVararg:!0}],Hl),Ta("getArrayFromDict",[el,{type:Za,isVararg:!0}],Pl),Ta("getOptArrayFromDict",[el,{type:Za,isVararg:!0}],(function(e,t){try{for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Pl(e,t,...i)}catch(e){return{type:tl,value:[]}}})),Ta("getOptDictFromDict",[el,{type:Za,isVararg:!0}],(function(e,t){try{for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Hl(e,t,...i)}catch(e){return{type:el,value:{}}}})),Ta("getArrayString",[tl,Ya],Xl),Ta("getStringFromArray",[tl,Ya],Xl),Ta("getArrayNumber",[tl,Ya],Kl),Ta("getNumberFromArray",[tl,Ya],Kl),Ta("getArrayInteger",[tl,Ya],Ql),Ta("getIntegerFromArray",[tl,Ya],Ql),Ta("getArrayBoolean",[tl,Ya],Jl),Ta("getBooleanFromArray",[tl,Ya],Jl),Ta("getArrayColor",[tl,Ya],ec),Ta("getColorFromArray",[tl,Ya],ec),Ta("getArrayUrl",[tl,Ya],tc),Ta("getUrlFromArray",[tl,Ya],tc),Ta("getArrayFromArray",[tl,Ya],nc),Ta("getDictFromArray",[tl,Ya],ic),Ta("getArrayOptString",[tl,Ya,Za],oc),Ta("getOptStringFromArray",[tl,Ya,Za],oc),Ta("getArrayOptNumber",[tl,Ya,Wa],rc),Ta("getOptNumberFromArray",[tl,Ya,Wa],rc),Ta("getArrayOptInteger",[tl,Ya,Ya],sc),Ta("getOptIntegerFromArray",[tl,Ya,Ya],sc),Ta("getArrayOptBoolean",[tl,Ya,Xa],ac),Ta("getOptBooleanFromArray",[tl,Ya,Xa],ac),Ta("getArrayOptColor",[tl,Ya,Ka],lc),Ta("getOptColorFromArray",[tl,Ya,Ka],lc),Ta("getArrayOptColor",[tl,Ya,Za],lc),Ta("getOptColorFromArray",[tl,Ya,Za],lc),Ta("getArrayOptUrl",[tl,Ya,Qa],cc),Ta("getOptUrlFromArray",[tl,Ya,Qa],cc),Ta("getArrayOptUrl",[tl,Ya,Za],cc),Ta("getOptUrlFromArray",[tl,Ya,Za],cc),Ta("getOptArrayFromArray",[tl,Ya],(function(e,t,n){try{return nc(e,t,n)}catch(e){return{type:tl,value:[]}}})),Ta("getOptDictFromArray",[tl,Ya],(function(e,t,n){try{return ic(e,t,n)}catch(e){return{type:el,value:{}}}})),Ta("len",[tl],(function(e,t){return{type:Ya,value:fa(t.value.length)}}));const Ic={StringLiteral:function(e,t){return{type:Za,value:t.value}},NumberLiteral:function(e,t){return{type:Wa,value:t.value}},IntegerLiteral:function(e,t){return Ba(e,t.value),{type:Ya,value:t.value}},BooleanLiteral:function(e,t){return{type:Xa,value:t.value?1:0}},UnaryExpression:function(e,t){const n=Da(Mc(e,t.argument));switch(t.operator){case"!":if(n.type===Xa)return{type:Xa,value:n.value?0:1};Ha("".concat(t.operator).concat(Aa(n)),"A Boolean is expected after a unary not.");case"+":case"-":const i="+"===t.operator?1:-1;if(n.type===Ya){const t=n.value*fa(i);return Ba(e,t),{type:Ya,value:t}}if(n.type===Wa)return{type:Wa,value:n.value*i};Ha("".concat(t.operator).concat(Aa(n)),"A Number is expected after a unary ".concat("+"===t.operator?"plus":"minus","."))}},ConditionalExpression:function(e,t){const n=Da(Mc(e,t.test));if(n.type===Xa)return n.value?Mc(e,t.consequent):Mc(e,t.alternate);Ha("".concat(Aa(n)," ? ").concat(Aa(Mc(e,t.consequent))," : ").concat(Aa(Mc(e,t.alternate))),"Ternary must be called with a Boolean value as a condition.")},TryExpression:function(e,t){try{return Mc(e,t.test)}catch(n){return Mc(e,t.alternate)}},TemplateLiteral:function(e,t){let n="";if(2===t.quasis.length&&""===t.quasis[0].value&&""===t.quasis[1].value)return Mc(e,t.expressions[0]);for(let i=0;i<t.expressions.length;++i)n+=t.quasis[i].value,n+=Oa(Mc(e,t.expressions[i]));return n+=t.quasis[t.quasis.length-1].value,{type:Za,value:n}},LogicalExpression:function(e,t){const n=Da(Mc(e,t.left));if(n.type!==Xa&&Ha("".concat(Aa(n)," ").concat(t.operator," ..."),"'".concat(t.operator,"' must be called with boolean operands.")),"||"===t.operator&&n.value)return n;if("&&"===t.operator&&!n.value)return{type:Xa,value:0};const i=Da(Mc(e,t.right));return i.type!==Xa&&Ha("".concat(Aa(n)," ").concat(t.operator," ").concat(Aa(i)),"Operator '".concat(t.operator,"' cannot be applied to different types: Boolean and ").concat(Na(i.type),".")),{type:Xa,value:i.value}},BinaryExpression:function(e,t){const n=t.operator,i=Mc(e,t.left),o=Mc(e,t.right);if(i.type!==o.type&&Ha("".concat(Aa(i)," ").concat(t.operator," ").concat(Aa(o)),"Operator '".concat(n,"' cannot be applied to different types: ").concat(Na(i.type)," and ").concat(Na(o.type),".")),"=="===n||"!="===n)return function(e,t,n){let i;return i=t.type===Ja&&n.type===Ja?t.value.getTime()===n.value.getTime():t.value===n.value,"!="===e&&(i=!i),{type:Xa,value:i?1:0}}(n,i,o);if(">"===n||">="===n||"<"===n||"<="===n)return function(e,t,n){let i;t.type!==Wa&&t.type!==Ya&&t.type!==Ja&&Ha("".concat(Aa(t)," ").concat(e," ").concat(Aa(n)),"Operator '".concat(e,"' cannot be applied to ").concat(Na(t.type)," type."));const o=t.type===Ja?t.value.getTime():t.value,r=n.type===Ja?n.value.getTime():n.value;return i=">"===e?o>r:">="===e?o>=r:"<"===e?o<r:o<=r,{type:Xa,value:i?1:0}}(n,i,o);if("+"===n||"-"===n)return function(e,t,n,i){if(n.type!==Za&&n.type!==Wa&&n.type!==Ya&&Ha("".concat(Aa(n)," ").concat(t," ").concat(Aa(i)),"Operator '".concat(t,"' cannot be applied to ").concat(Na(n.type)," type.")),n.type===Za)return"-"===t&&Ha("".concat(Aa(n)," - ").concat(Aa(i)),"Operator '".concat(t,"' cannot be applied to ").concat(Na(n.type)," type.")),{type:Za,value:n.value+i.value};let o="+"===t?n.value+i.value:n.value-i.value;if(n.type===Ya)try{o=Ra(0,o),Ba(e,o)}catch(e){Ha("".concat(Aa(n)," ").concat(t," ").concat(Aa(i)),e.message)}return{type:n.type,value:o}}(e,n,i,o);if("/"===n||"*"===n||"%"===n)return function(e,t,n,i){let o;if(n.type!==Ya&&n.type!==Wa&&Ha("".concat(Aa(n)," ").concat(t," ").concat(Aa(i)),"Operator '".concat(t,"' cannot be applied to ").concat(Na(n.type)," type.")),"*"===t)o=n.value*i.value;else{if("/"!==t&&"%"!==t)throw new Error("Unsupported operation ".concat(t));0===Number(i.value)&&Ha("".concat(Aa(n)," ").concat(t," ").concat(Aa(i)),"Division by zero is not supported."),o="/"===t?n.value/i.value:n.value%i.value}if(n.type===Ya)try{o=Ra(0,o),Ba(e,o)}catch(e){Ha("".concat(Aa(n)," ").concat(t," ").concat(Aa(i)),e.message)}return{type:n.type,value:o}}(e,n,i,o);throw new Error("Unsupported operation ".concat(n))},CallExpression:function(e,t){const n=t.callee.name;let i;const o=t.arguments.map((t=>Mc(e,t))),r=n+":"+o.map((e=>e.type)).join("#");if(Sa.has(r))i=Sa.get(r);else{const e=function(e,t){const n=ja.get(e);if(!n)return{type:"missing"};let i=null;for(let e=0;e<n.length;++e){const o=Ea(n[e],t);if("match"===o.type)return n[e];i||(i=o)}if(!i)throw new Error("Missing function");return i}(n,o);if("expected"in e||"type"in e&&"missing"===e.type){const t=o.map((e=>Na(e.type))).join(", "),i="".concat(n,"(").concat(Cc(o),")");"few"===e.type&&0===o.length?Ha(i,"Non empty argument list is required for function '".concat(n,"'.")):"many"===e.type||"few"===e.type||"mismatch"===e.type?Ha(i,"Function '".concat(n,"' has no matching override for given argument types: ").concat(t,".")):Ha(i,"Unknown function name: ".concat(n,"."))}i=e}if(!i)throw new Error("Function not found");try{return i.cb(e,...o)}catch(e){Ha("".concat(n,"(").concat(Cc(o),")"),e.message)}},Variable:function(e,t){const n=t.id.name,i=e.variables.get(n);if(i)return function(e){return{type:e.getType(),value:e.getValue()}}(i);throw new Error("Variable '".concat(n,"' is missing."))}};function Mc(e,t){if(t.type in Ic)return Ic[t.type](e,t);throw new Error("Unsupported expression")}function jc(e,t){try{const n={variables:e,warnings:[],safeIntegerOverflow:!1},i=Mc(n,t);return n.safeIntegerOverflow&&n.warnings.push(gi(new Error("Safe integer overflow, values may lose accuracy."),{level:"warn"})),{result:i,warnings:n.warnings}}catch(e){return{result:{type:"error",value:e.message},warnings:[]}}}class Sc{constructor(e){this.ast=e}apply(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const i=jc(e,this.ast);i.warnings.forEach(t);const o=i.result;if("error"===o.type)return void t(gi(new Error("Expression execution error"),{additional:{message:o.value}}));const r=o.value;if(r instanceof Date)return za(r);if("boolean"===o.type)return Boolean(r);if("color"===o.type){const e=wi(String(r));if(e)return Va(e);t(gi(new Error("Expression execution error")))}if("integer"===o.type)return r>2147483647||r<-2147483648?void t(gi(new Error("Expression result is out of 32-bit int range"))):Number(r);if(!n&&("array"===o.type||"dict"===o.type))try{return JSON.stringify(r)}catch(e){return t(gi(new Error("Failed to stringify ".concat(o.type)))),"<".concat(o.type,">")}return r}catch(e){return void t(gi(new Error("Expression execution error")))}}}function Tc(e,t,n){if(e)if("string"==typeof e){if((i=e).indexOf("@{")>-1||i.indexOf("\\")>-1){t.hasExpression=!0;try{const n=Ma(e,{startRule:"JsonStringContents"}),i=Pa(n);return t.vars.push(...i),new Sc(n)}catch(t){return void n(gi(new Error("Unable to parse expression"),{additional:{expression:e}}))}}}else{if(Array.isArray(e))return e.map((e=>Tc(e,t,n)));if("object"==typeof e){const i={};for(const o in e)i[o]=Tc(e[o],t,n);return i}}var i;return e}function Ec(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){if(e instanceof Sc)return e.apply(t,n,i);if(Array.isArray(e))return e.map((e=>Ec(e,t,n)));if("object"==typeof e){const i={};for(const o in e)i[o]=Ec(e[o],t,n);return i}}return e}function Lc(e,t){const n={vars:[],hasExpression:!1},i=Tc(e,n,t);return{vars:[...new Set(n.vars)],hasExpression:n.hasExpression,applyVars:(e,n)=>Ec(i,e,t,n)}}const Dc={pagers:function(){return ui(new Map)}},zc=new Map,Oc=new Map;function Ac(e){const t=zc.get(e)||ui("");return zc.has(e)||zc.set(e,t),t}function Nc(e){const t=Oc.get(e)||new Map;return Oc.has(e)||Oc.set(e,t),t}class Rc{setVariable(e){const t=e.getName(),n=Nc(this);if(n.has(t))throw new Error("Variable with the same name already exist");n.set(t,e),Ac(this).set(t)}getVariable(e){return Nc(this).get(e)}list(){return Nc(this).values()}}function Bc(){return new Rc}function Pc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hc=new Set(["start","stop","pause","resume","cancel","reset"]);class Uc{constructor(e){Pc(this,"timers",new Map),Pc(this,"awaitActions",[]),this.logError=e.logError,this.applyVars=e.applyVars,this.hasVariableWithType=e.hasVariableWithType,this.setVariableValue=e.setVariableValue,this.execAnyActions=e.execAnyActions,this.visibilityHandler=()=>{"visible"===document.visibilityState?(this.awaitActions.forEach((e=>{let{id:t,action:n}=e;this.execTimerAction(t,n)})),this.awaitActions=[],this.unholdAll()):this.holdAll()},document.addEventListener("visibilitychange",this.visibilityHandler)}destroy(){document.removeEventListener("visibilitychange",this.visibilityHandler);for(const[e,t]of this.timers)this.stopTimerTimeouts(t)}createTimer(e){null!=e&&e.id?e.duration||e.tick_interval&&(e.value_variable||e.tick_actions)?this.timers.set(e.id,{state:"stopped",definition:e}):this.logError(gi(new Error("Misconfigured timer"),{additional:{id:e.id}})):this.logError(gi(new Error("Missing timer id")))}execTimerAction(e,t){if(!(e&&t&&this.timers.has(e)&&Hc.has(t)))return void this.logError(gi(new Error("Incorrect timer action"),{additional:{id:e,action:t}}));const n=t;if("visible"!==document.visibilityState)return void this.awaitActions.push({id:e,action:n});const i=this.timers.get(e);this[n](i)}stopTimerTimeouts(e){e.durationTimeout&&(clearTimeout(e.durationTimeout),e.durationTimeout=void 0),e.tickTimeout&&(clearTimeout(e.tickTimeout),e.tickTimeout=void 0)}tickOrUnholdAction(e){const t=performance.now(),n=(e.durationPassed||0)+t-(e.durationStarted||0);e.duration&&n>e.duration||(this.updateVariable(e,n),this.callActions(e,"tick"),void 0!==e.tickCount&&++e.tickCount)}startOrResume(e){e.state="running",e.hold=!1,e.durationStarted=performance.now();const t=e.duration;t&&(e.durationTimeout=window.setTimeout((()=>{this.updateVariable(e,t),e.tickCountPredict&&void 0!==e.tickCount&&e.tickCount<e.tickCountPredict&&this.callActions(e,"tick"),this.stop(e)}),Math.max(0,t-(e.durationPassed||0))));const n=e.tick;if(n){const t=()=>{const i=e.tickStarted=performance.now(),o=Math.max(0,n-(e.tickPassed||0));e.tickTimeout=window.setTimeout((()=>{this.tickOrUnholdAction(e),e.tickPassed=(performance.now()-i-o)%n,t()}),o)};t()}}start(e){if("running"===e.state)return void this.logError(gi(new Error("The timer is already running")));if("paused"===e.state)return void this.logError(gi(new Error("The timer is paused")));const t=e.definition.value_variable;!t||this.hasVariableWithType(t,"integer")?(t&&this.setVariableValue(t,0),e.definition.duration&&(e.duration=this.applyVars(e.definition.duration)),e.definition.tick_interval&&(e.tick=this.applyVars(e.definition.tick_interval)),void 0!==e.duration&&e.duration<0||void 0!==e.tick&&e.tick<=0?this.logError(gi(new Error("Incorrect timer properties"),{additional:{id:e.definition.id}})):(void 0!==e.duration&&void 0!==e.tick&&(e.tickCount=0,e.tickCountPredict=Math.floor(e.duration/e.tick)),this.startOrResume(e))):this.logError(gi(new Error("Cannot find variable"),{additional:{name:t}}))}stop(e){"stopped"!==e.state?(e.state="stopped",e.durationPassed=0,e.tickPassed=0,this.stopTimerTimeouts(e),this.callActions(e,"end")):this.logError(gi(new Error("The timer has already been stopped")))}pause(e){if("stopped"===e.state)return void this.logError(gi(new Error("The timer has already been stopped")));if("paused"===e.state)return void this.logError(gi(new Error("The timer has already been paused")));e.state="paused",this.stopTimerTimeouts(e);const t=performance.now();e.durationStarted&&(e.durationPassed=(e.durationPassed||0)+t-e.durationStarted),e.tickStarted&&(e.tickPassed=(e.tickPassed||0)+t-e.tickStarted);const n=e.definition.value_variable;n&&e.durationPassed&&this.setVariableValue(n,Math.round(e.durationPassed))}resume(e){"stopped"!==e.state?"running"!==e.state?this.startOrResume(e):this.logError(gi(new Error("The timer is already running"))):this.logError(gi(new Error("The timer has already been stopped")))}cancel(e){"stopped"!==e.state&&(e.state="stopped",e.durationPassed=0,e.tickPassed=0,this.stopTimerTimeouts(e))}reset(e){this.cancel(e),this.start(e)}updateVariable(e,t){const n=e.definition.value_variable;n&&this.setVariableValue(n,Math.round(t))}callActions(e,t){const n=e.definition["end"===t?"end_actions":"tick_actions"];if(n){const e=this.applyVars(n);this.execAnyActions(e,{processUrls:!1})}}holdAll(){for(const[e,t]of this.timers)"running"===t.state&&(t.hold=!0,this.stopTimerTimeouts(t))}unholdAll(){for(const[e,t]of this.timers)if("running"===t.state&&t.hold){const e=performance.now();t.durationStarted&&(t.durationPassed=(t.durationPassed||0)+e-t.durationStarted),t.tickStarted&&(t.tickPassed=(t.tickPassed||0)+e-t.tickStarted),t.tick&&this.tickOrUnholdAction(t),this.startOrResume(t)}}}function Vc(e,t,n,i){const{variable_name:o}=n;if(!o)return void t(gi(new Error("Incorrect ".concat(n.type," action")),{additional:{name:o}}));const r=e.get(o);if(!r)return void t(gi(new Error("Cannot find variable"),{additional:{name:o}}));const s=r.getType();"array"===s?i(r):t(gi(new Error("Trying to insert value into the non-array"),{additional:{name:o,type:s}}))}function Gc(e){let t,n,i,o,r,s,a,l;return n=new la({props:{svgFiltersMap:e[3]}}),o=new Qs({props:{componentContext:e[4]}}),{c(){t=tn("div"),ii(n.$$.fragment),i=rn(),ii(o.$$.fragment),ln(t,"class",r=""+(pi.root+(e[5]?" ".concat(pi.root_platform_desktop):"")+(e[0]?" ".concat(e[0]):""))),ln(t,"dir",e[6])},m(e,r){Qt(e,t,r),oi(n,t,null),Wt(t,i),oi(o,t,null),s=!0,a||(l=an(t,"touchstart",Kc,{passive:!0}),a=!0)},p(e,i){const a={};8&i[0]&&(a.svgFiltersMap=e[3]),n.$set(a);const l={};16&i[0]&&(l.componentContext=e[4]),o.$set(l),(!s||33&i[0]&&r!==(r=""+(pi.root+(e[5]?" ".concat(pi.root_platform_desktop):"")+(e[0]?" ".concat(e[0]):""))))&&ln(t,"class",r),(!s||64&i[0])&&ln(t,"dir",e[6])},i(e){s||(qn(n.$$.fragment,e),qn(o.$$.fragment,e),s=!0)},o(e){Fn(n.$$.fragment,e),Fn(o.$$.fragment,e),s=!1},d(e){e&&Jt(t),ri(n),ri(o),a=!1,l()}}}function qc(e){let t,n,i=!e[1]&&!e[2]&&e[4]&&Gc(e);return{c(){i&&i.c(),t=sn()},m(e,o){i&&i.m(e,o),Qt(e,t,o),n=!0},p(e,n){e[1]||e[2]||!e[4]?i&&(Vn(),Fn(i,1,1,(()=>{i=null})),Gn()):i?(i.p(e,n),22&n[0]&&qn(i,1)):(i=Gc(e),i.c(),qn(i,1),i.m(t.parentNode,t))},i(e){n||(qn(i),n=!0)},o(e){Fn(i),n=!1},d(e){e&&Jt(t),i&&i.d(e)}}}let Fc=ui(!0),Zc=0;function Yc(){Fc.set(!1)}function Wc(){Fc.set(!0)}function Xc(e,t){return e&&t?new Map([...e,...t]):e||t||void 0}function Kc(){}function Qc(e,t,n){let i,o,r,s;var a,l,c,u;let{id:d}=t,{json:p={}}=t,{platform:h="auto"}=t,{theme:g="system"}=t,{globalVariablesController:m=new Rc}=t,{mix:f=""}=t,{customization:v={}}=t,{builtinProtocols:_=["http","https","tel","mailto","intent"]}=t,{extensions:b=new Map}=t,{onError:y}=t,{onStat:x}=t,{onCustomAction:w}=t,{onComponent:k}=t,{typefaceProvider:$=(e=>"")}=t,{fetchInit:C={}}=t,{tooltipRoot:I}=t,{customComponents:M}=t,{direction:j="ltr"}=t,S=ui("desktop"===h);if(Lt(e,S,(e=>n(5,r=e))),"auto"===h&&"undefined"!=typeof matchMedia){const e=matchMedia("(any-pointer: coarse)");S.set(!e.matches),e.addListener((()=>{S.set(!e.matches)}))}let T="light",E=null;const L=ui("rtl"===j?"rtl":"ltr");function D(){"system"===g&&E&&n(33,T=E.matches?"dark":"light")}Lt(e,L,(e=>n(6,s=e)));const z=new Set(_);let O=!1,A=!1;d||(A=!0,Z(gi(new Error('"id" prop is required'))));const N={stateChange:!1},R=Ac(m),B=Nc(m),P=new Map,H=new Map,U=new Map;let V=null,G=0,q=[];function F(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Lc(t,e);if(!o.hasExpression)return t;const r=Xc(H,n);return o.applyVars(r,i)}function Z(e){y?y({error:e}):"warn"===(null==e?void 0:e.level)?console.warn(e):console.error(e)}function Y(e,t){x&&x({type:e,action:t})}function W(e,t){if(!e)return{json:e,templateContext:t};const n=new Set([e.type]);for(;e.type&&e.type in i;){if(({json:e,templateContext:t}=ca(e,t,i,Z)),n.has(e.type))return{json:e,templateContext:t};n.add(e.type)}return{json:e,templateContext:t}}let X=0;function K(e){return"".concat(d,"-").concat(X++)}let Q={},J={};function ee(e,t){const o=e.url?String(e.url):"",r=e.typed;if(!Wi(e))return;const s=(null==t?void 0:t.logError)||Z;if(o)try{const r=o.replace(/div-action:\/\//,""),a=/([^?]+)\?(.+)/.exec(r);if(!a)return;const l=new URLSearchParams(a[2]);switch(a[1]){case"set_state":!function(e){if(!e)throw new Error("Missing state id");let t=ue,n=e.split("/");if(n=["root",...n],n.length<2||n.length%2!=0)throw new Error("Incorrect state id format");for(let e=0;e<n.length;e+=2){const i=n[e],o=n[e+1];let r=t.getChild(i);if(!r)return;r.setState(o),t=r}}(l.get("state_id"));break;case"set_current_item":!function(e,t){if(!e||!t)throw new Error('Missing data for "set-current-item" action');if(Number.isNaN(Number(t)))throw new Error('Incorrect item for "set-current-item" action');const n=ae(e);n&&n.setCurrentItem(Number(t))}(l.get("id"),l.get("item"));break;case"set_previous_item":!function(e,t){if(!e)throw new Error('Missing id for "set-previous-item" action');if(t&&"clamp"!==t&&"ring"!==t)throw new Error('Incorrect overflow value for "set-previous-item" action');t=t||"clamp";const n=ae(e);n&&n.setPreviousItem(t)}(l.get("id"),l.get("overflow"));break;case"set_next_item":!function(e,t){if(!e)throw new Error('Missing id for "set-next-item" action');if(t&&"clamp"!==t&&"ring"!==t)throw new Error('Incorrect overflow value for "set-next-item" action');t=t||"clamp";const n=ae(e);n&&n.setNextItem(t)}(l.get("id"),l.get("overflow"));break;case"set_variable":const a=l.get("name"),c=l.get("value");if(a&&null!==c){const e=H.get(a);if(e){const t=e.getType();"dict"===t||"array"===t?s(gi(new Error("Setting ".concat(t," variables is not supported")),{additional:{name:a}})):e.set(c)}else s(gi(new Error("Cannot find variable"),{additional:{name:a}}))}else s(gi(new Error("Incorrect set_variable_action"),{additional:{url:r}}));break;case"timer":const u=l.get("action"),d=l.get("id");V?V.execTimerAction(d,u):s(gi(new Error("Incorrect timer action"),{additional:{id:d,action:u}}));break;case"video":!function(e,t,n){const i=(null==n?void 0:n.logError)||Z;if(e){const n=ae(e);n?"start"===t?n.start():"pause"===t?n.pause():i(gi(new Error("Unknown video action"),{additional:{id:e,action:t}})):i(gi(new Error("Video component is not found"),{additional:{id:e,action:t}}))}else i(gi(new Error("Missing id in video action"),{additional:{action:t}}))}(l.get("id"),l.get("action"),t);break;case"download":!function(e,t,n){const o=(null==n?void 0:n.logError)||Z;if(e){let n;n="function"==typeof C?C(e):C,fetch(e,n).then((e=>{if(!e.ok)throw new Error("Response is not ok");return e.json()})).then((n=>{var r,s,a;if(n){if(n.templates)for(const e in n.templates)i.hasOwnProperty(e)||(i[e]=n.templates[e]);if(Array.isArray(null===(r=n.patch)||void 0===r?void 0:r.changes)){if("transactional"===n.patch.mode){const i=n.patch.changes.find((e=>{const t=oe.get(e.id);if(!t)return!0;const n=Array.isArray(e.items)?e.items.length:0;return!(!t.isSingleMode||1===n)}));if(i)return o(gi(new Error("Skipping transactional, child is not found or broken"),{additional:{url:e,id:i.id}})),void te(null===(s=t.download_callbacks)||void 0===s?void 0:s.on_fail_actions)}n.patch.changes.forEach((e=>{const t=oe.get(e.id);t&&t.replaceWith(e.id,e.items)})),te(null===(a=t.download_callbacks)||void 0===a?void 0:a.on_success_actions)}}else o(gi(new Error("Incorrect patch"),{additional:{url:e}}))})).catch((n=>{var i;o(gi(new Error("Failed to download the patch"),{additional:{url:e,originalError:n}})),te(null===(i=t.download_callbacks)||void 0===i?void 0:i.on_fail_actions)}))}else o(gi(new Error("Missing url in download action"),{additional:{url:e}}))}(l.get("url"),e,t);break;case"show_tooltip":!function(e,t,i){var o;const r=(null==i?void 0:i.logError)||Z;if(!e)return void r(gi(new Error("Missing id in show_tooltip action")));const s=se.get(e);if(!s)return void r(gi(new Error("Tooltip with the provided id is not found"),{additional:{id:e}}));if("true"!==t&&q.some((t=>t.desc.id===e)))return;const a={internalId:++G,ownerNode:s.onwerNode,desc:s.tooltip,timeoutId:0};n(35,q=[...q,a]);const l=null!==(o=s.tooltip.duration)&&void 0!==o?o:5e3;l&&(a.timeoutId=window.setTimeout((()=>{a.timeoutId=0,n(35,q=q.filter((e=>e.internalId!==a.internalId)))}),l))}(l.get("id"),l.get("multiple"),t);break;case"hide_tooltip":!function(e,t){const i=(null==t?void 0:t.logError)||Z;e?n(35,q=q.filter((t=>{const n=t.desc.id!==e;return!n&&t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null),n}))):i(gi(new Error("Missing id in hide_tooltip action")))}(l.get("id"),t);break;default:s(gi(new Error("Unknown type of action"),{additional:{url:o}}))}}catch(e){s(gi(e,{additional:{url:o}}))}else if(r)switch(r.type){case"set_variable":{const{variable_name:e,value:t}=r;if(e&&t){const n=H.get(e);n?n.getType()===t.type?n.setValue(t.value):s(gi(new Error("Trying to set value with invalid type"),{additional:{name:e,type:t.type}})):s(gi(new Error("Cannot find variable"),{additional:{name:e}}))}else s(gi(new Error("Incorrect set_variable action"),{additional:{name:e}}));break}case"array_insert_value":!function(e,t,n){const{variable_name:i,index:o,value:r}=n;!r||"number"!=typeof o&&void 0!==o?t(gi(new Error("Incorrect array_insert_value action"),{additional:{name:i}})):Vc(e,t,n,(e=>{const s=e.getValue();if("number"==typeof o&&(o<0||o>s.length))t(gi(new Error("Index out of bound for mutation ".concat(n.type)),{additional:{name:i,index:o,length:s.length}}));else{const t=s.slice();"number"==typeof o?t.splice(o,0,r.value):t.push(r.value),e.setValue(t)}}))}(H,s,r);break;case"array_remove_value":!function(e,t,n){const{variable_name:i,index:o}=n;"number"==typeof o?Vc(e,t,n,(e=>{const r=e.getValue();if("number"==typeof o&&(o<0||o>=r.length))t(gi(new Error("Index out of bound for mutation ".concat(n.type)),{additional:{name:i,index:o,length:r.length}}));else{const t=r.slice();t.splice(o,1),e.setValue(t)}})):t(gi(new Error("Incorrect array_remove_value action"),{additional:{name:i}}))}(H,s,r);break;case"copy_to_clipboard":!function(e,t){!t.content||"text"!==t.content.type&&"url"!==t.content.type||"string"!=typeof t.content.value?e(gi(new Error("Incorrect action"),{additional:{action:t}})):"undefined"!=typeof navigator&&"clipboard"in navigator&&navigator.clipboard&&"writeText"in navigator.clipboard&&"function"==typeof navigator.clipboard.writeText?navigator.clipboard.writeText(t.content.value).catch((t=>{e(gi(new Error("Failed to copy to the clipboard"),{additional:{originalError:String(t)}}))})):e(gi(new Error("Clipboard is unavailable"),{additional:{action:t}}))}(s,r);break;case"focus_element":{const e=r.element_id&&re.get(r.element_id);e?e.focus():s(gi(new Error("Incorrect focus_element action"),{additional:{elementId:r.element_id}}));break}default:s(gi(new Error("Unknown type of action"),{additional:{type:r.type}}))}}async function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!Array.isArray(e))return;const n=e.filter(Wi);for(let e=0;e<n.length;++e){let i=n[e];const o=i.url,r=i.typed;if(o){const e=Ti(o);if(e)if(Ei(e,z)){if(t.processUrls)if("_blank"===i.target){const e=window.open("","_blank");e&&(e.opener=null,e.location=o)}else location.href=o}else"div-action"===e?(ee(i,t.componentContext),await Ln()):i.log_id&&(ne(i),await Ln())}else r&&ee(i,t.componentContext)}n.forEach((e=>{e.log_id&&Y("click",e)}))}function ne(e){null==w||w(e)}const ie=new Map,oe=new Map,re=new Map,se=new Map;function ae(e){if(ie.has(e))return ie.get(e);Z(gi(new Error("Missing instance with id"),{additional:{id:e}}))}const le=new Map;function ce(e){const t=U.get(e)||ui(void 0);return U.has(e)||U.set(e,t),t}wn(hi,{logStat:Y,hasTemplate:function(e){return e in i},processTemplate:W,genId:K,genClass:function(e){return"divkit-".concat(K())},execAction:ee,execCustomAction:ne,isRunning:function(e){return N[e]},setRunning:function(e,t){N[e]=t},registerInstance:function(e,t){ie.has(e)?Z(gi(new Error("Duplicate instance id"),{additional:{id:e}})):ie.set(e,t)},unregisterInstance:function(e){ie.delete(e)},registerParentOf:function(e,t){oe.set(e,t)},unregisterParentOf:function(e){oe.delete(e)},registerTooltip:function(e,t){const n=t.id;n&&(se.has(n)&&Z(gi(new Error("Duplicate tooltip id"),{additional:{id:n}})),se.set(n,{onwerNode:e,tooltip:t}))},unregisterTooltip:function(e){const t=e.id;t&&(se.delete(t),q.some((e=>e.desc.id===t))&&n(35,q=q.filter((e=>e.desc.id!==t))))},onTooltipClose:function(e){n(35,q=q.filter((t=>t.internalId!==e)))},tooltipRoot:I,registerFocusable:function(e,t){re.set(e,t)},unregisterFocusable:function(e){re.delete(e)},addSvgFilter:function(e,t){const i="".concat(e,":").concat(t);if(J[i]=J[i]||0,++J[i],Q[i])return Q[i];const o="".concat(K(),"-svg-filter");return n(3,Q=Object.assign(Object.assign({},Q),{[i]:o})),o},removeSvgFilter:function(e,t){if(!e)return;const i="".concat(e,":").concat(t);J[i]&&0==--J[i]&&n(3,Q=Object.keys(Q).reduce(((e,t)=>(J[t]&&(e[t]=Q[t]),e)),{}))},preparePrototypeVariables:function(e,t){const n=new Map,i=function(e,t,n){if(!(t in $c))throw new Error("Unsupported variable type");return new $c[t](e,n)}(e,"dict",t);return n.set(e,i),n},getStore:function(e){return le.has(e)||function(e){le.has(e)||le.set(e,Dc[e]())}(e),le.get(e)},getCustomization:function(e){return null==v?void 0:v[e]},getBuiltinProtocols:function(){return z},getExtension:function(e,t){const n=b.get(e);if(n)return new n(t||{})},getExtensionContext:function(){return{variables:H,logError:Z}},typefaceProvider:$,isDesktop:S,isPointerFocus:Fc,customComponents:M,direction:L,componentDevtool:void 0}),wn(Ji,{hasAction:()=>!1});const ue={setState(e){throw new Error("Not implemented")},getChild(e){if(de&&de.has(e))return de.get(e);Z(gi(new Error("Missing state block with id"),{additional:{id:e}}))}};let de=null;function pe(e){if(e.type in bc){"integer"===e.type&&"number"==typeof e.value&&(e.value>Number.MAX_SAFE_INTEGER||e.value<Number.MIN_SAFE_INTEGER)&&Z(gi(new Error("The value of the integer variable could lose accuracy"),{level:"warn",additional:{name:e.name,value:e.value}}));try{const t=yc(e.name,e.type,e.value);P.set(e.name,t),H.set(e.name,t)}catch(t){Z(gi(t,{additional:{name:e.name}}))}}}wn(Ai,{registerInstance(e,t){de||(de=new Map),de.has(e)?Z(gi(new Error("Duplicate state with id"),{additional:{id:e}})):de.set(e,t)},unregisterInstance(e){null==de||de.delete(e)},runVisibilityTransition:(e,t,n,i,o)=>Promise.resolve(),registerChildWithTransitionIn:(e,t,n,i)=>Promise.resolve(),registerChildWithTransitionOut:(e,t,n,i)=>Promise.resolve(),registerChildWithTransitionChange:(e,t,n,i)=>Promise.resolve(),hasTransitionChange:e=>!1,registerChild(e){},unregisterChild(e){}});const he=null===(a=null==p?void 0:p.card)||void 0===a?void 0:a.variables;Array.isArray(he)&&he.forEach((e=>{if(e&&e.name){if(P.has(e.name))return void Z(gi(new Error("Duplicate variable"),{additional:{name:e.name}}));pe(e)}}));const ge=p.palette;ge&&ge[T].forEach((e=>{if(P.has(e.name))Z(gi(new Error("Duplicate variable"),{additional:{name:e.name}}));else try{const t=yc(e.name,"color",e.color);P.set(e.name,t),H.set(e.name,t)}catch(t){Z(gi(t,{additional:{name:e.name}}))}}));for(const[e,t]of B)H.has(e)||H.set(e,t);R.subscribe((e=>{if(e&&!H.has(e)){const t=B.get(e);H.set(e,t);const n=U.get(e);if(n){let e=0;t.subscribe((()=>{n.set(++e)}))}}}));const me=null===(c=null==p?void 0:p.card)||void 0===c?void 0:c.timers;if(me&&"undefined"!=typeof document){const e=V=new Uc({logError:Z,applyVars:e=>F(Z,e),hasVariableWithType:function(e,t){const n=H.get(e);return(null==n?void 0:n.getType())===t},setVariableValue:function(e,t){const n=H.get(e);n?n.setValue(t):Z(gi(new Error("Cannot find variable"),{additional:{name:e}}))},execAnyActions:te});me.forEach((t=>e.createTimer(t)))}const fe=function e(t){const n={json:{},path:[],templateContext:{},logError(e){e.additional=e.additional||{},e.additional.path=n.path.join("/"),Z(e)},execAnyActions(e){return te(e,{componentContext:n,processUrls:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).processUrls})},getDerivedFromVars(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return da(t);const o=Xc(H,n),r=Lc(t,e);return r.vars.length?di(r.vars.map((e=>o.get(e)||ce(e))).filter($i),(()=>r.applyVars(o,i))):r.hasExpression?da(r.applyVars(o)):da(t)}(n.logError,e,Xc(n.variables,t),i)},getJsonWithVars(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return F(n.logError,e,Xc(n.variables,t),i)},produceChildContext(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=e(n);let r=t,s=n.templateContext;const{templateContext:a,json:l}=W(r,s);return o.json=l,o.templateContext=a,o.origJson=t,void 0!==i.path&&o.path.push(String(i.path)),t.type&&!i.isRootState&&o.path.push(t.type),o.variables=Xc(n.variables,i.variables),i.tooltips&&(o.tooltips=i.tooltips),i.fake&&(o.fakeElement=!0),i.isRootState&&(o.isRootState=!0),o},getVariable(e,t){const i=(n.variables||H).get(e);if(i){const o=i.getType();if(o!==t)return void n.logError(gi(new Error('Variable should have type "'.concat(t,'"')),{additional:{name:e,foundType:o}}))}return i}};return t?(n.path=t.path.slice(),t.fakeElement&&(n.fakeElement=!0)):(n.json={type:"root"},n.isRootState=!0),n}();let ve;return yn((()=>{Zc++,1===Zc&&(window.addEventListener("keydown",Yc),window.addEventListener("pointerdown",Wc)),(()=>{var e;const t=null===(e=null==p?void 0:p.card)||void 0===e?void 0:e.variable_triggers;Array.isArray(t)&&t.forEach((e=>{let t=!1;if("string"!=typeof e.condition)return void Z(gi(new Error("variable_trigger has a condition that is not a string"),{additional:{condition:e.condition}}));const n=e.mode||"on_condition";if("on_variable"===n||"on_condition"===n)try{const i=Ma(e.condition,{startRule:"JsonStringContents"}),o=Pa(i);if(!o.length)return void Z(gi(new Error("variable_trigger must have variables in the condition"),{additional:{condition:e.condition}}));di(o.map((e=>H.get(e)||ce(e))),(()=>{const e=jc(H,i);return e.warnings.forEach(Z),e.result})).subscribe((i=>{"error"!==i.type?(i.value&&("on_variable"===n||"on_condition"===n&&!1===t)&&e.actions.forEach((e=>{const t=F(Z,e);t.log_id&&ee(t)})),t=Boolean(i.value)):Z(gi(new Error("variable_trigger condition execution error"),{additional:{message:i.value}}))}))}catch(t){Z(gi(new Error("Unable to parse variable_trigger"),{additional:{condition:e.condition}}))}else Z(gi(new Error("variable_trigger has an unsupported mode"),{additional:{mode:n}}))}))})()})),xn((()=>{Zc--,Zc||(window.removeEventListener("keydown",Yc),window.removeEventListener("pointerdown",Wc)),V&&V.destroy(),q.forEach((e=>{e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null)}))})),e.$$set=e=>{"id"in e&&n(11,d=e.id),"json"in e&&n(9,p=e.json),"platform"in e&&n(12,h=e.platform),"theme"in e&&n(10,g=e.theme),"globalVariablesController"in e&&n(13,m=e.globalVariablesController),"mix"in e&&n(0,f=e.mix),"customization"in e&&n(14,v=e.customization),"builtinProtocols"in e&&n(15,_=e.builtinProtocols),"extensions"in e&&n(16,b=e.extensions),"onError"in e&&n(17,y=e.onError),"onStat"in e&&n(18,x=e.onStat),"onCustomAction"in e&&n(19,w=e.onCustomAction),"onComponent"in e&&n(20,k=e.onComponent),"typefaceProvider"in e&&n(21,$=e.typefaceProvider),"fetchInit"in e&&n(22,C=e.fetchInit),"tooltipRoot"in e&&n(23,I=e.tooltipRoot),"customComponents"in e&&n(24,M=e.customComponents),"direction"in e&&n(25,j=e.direction)},e.$$.update=()=>{if(1024&e.$$.dirty[0]|8&e.$$.dirty[1]&&("light"===g||"dark"===g?n(33,T=g):"system"===g?"undefined"!=typeof matchMedia?(E||(n(34,E=matchMedia("(prefers-color-scheme: dark)")),E.addListener(D)),n(33,T=E.matches?"dark":"light")):n(33,T="light"):Z(gi(new Error("Unsupported theme")))),4&e.$$.dirty[1]&&T&&ge&&ge[T].forEach((e=>{const t=H.get(e.name);t&&t.setValue(e.color)})),512&e.$$.dirty[0]){n(1,O=!1);const e=function(e){if(!e)return gi(new Error("Missing object"));const t=e.card,n=e.templates||{};if(!t)return gi(new Error("Missing card"));if(!t.states||!t.states.length)return gi(new Error("Missing states"));for(const e in n)if(n.hasOwnProperty(e)&&e in Ys)return gi(new Error("Template name collision"),{additional:{templateName:e}});for(let e=0;e<t.states.length;++e){if(!t.states[e].div)return gi(new Error("Missing state div"),{additional:{stateId:t.states[e].state_id}});if("number"!=typeof t.states[e].state_id)return gi(new Error("Missing state_id"),{additional:{index:e}})}return null}(p);e&&(n(1,O=!0),Z(e))}if(512&e.$$.dirty[0]&&(i=p.templates||{}),512&e.$$.dirty[0]|1&e.$$.dirty[1]&&(null===n(31,l=null==p?void 0:p.card)||void 0===l?void 0:l.variables)&&Array.isArray(p.card.variables)&&p.card.variables!==he&&p.card.variables.forEach((e=>{e&&e.name&&!P.has(e.name)&&pe(e)})),512&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(36,o=null===n(32,u=null==p?void 0:p.card)||void 0===u?void 0:u.states),6&e.$$.dirty[0]|48&e.$$.dirty[1]&&o&&!O&&!A){const e={type:"state",id:"root",width:{type:"match_parent"},height:{type:"match_parent"},states:o.map((e=>({state_id:e.state_id.toString(),div:e.div})))};n(4,ve=fe.produceChildContext(e,{tooltips:q,isRootState:!0}))}},[f,O,A,Q,ve,r,s,S,L,p,g,d,h,m,v,_,b,y,x,w,k,$,C,I,M,j,function(e){n(10,g=e)},function(){return new Map},function(){return new Map},function(e){n(9,p=e)},function(e){ee(F(Z,e))},l,u,T,E,q,o]}const Jc=class extends li{constructor(e){super(),si(this,e,Qc,qc,Tt,{id:11,json:9,platform:12,theme:10,globalVariablesController:13,mix:0,customization:14,builtinProtocols:15,extensions:16,onError:17,onStat:18,onCustomAction:19,onComponent:20,typefaceProvider:21,fetchInit:22,tooltipRoot:23,customComponents:24,direction:25,setTheme:26,getDebugVariables:27,getDebugAllVariables:28,setData:29,execAction:30},null,[-1,-1,-1,-1])}get setTheme(){return this.$$.ctx[26]}get getDebugVariables(){return this.$$.ctx[27]}get getDebugAllVariables(){return this.$$.ctx[28]}get setData(){return this.$$.ctx[29]}get execAction(){return this.$$.ctx[30]}};class eu{constructor(e){var t,n,i;t=this,i={},n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="sizeHistory"),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.widthVariableName=e.width_variable_name,this.heightVariableName=e.height_variable_name}setVariable(e,t){if(!this.context)return!1;if(e){const n=this.context.variables.get(e);if(n&&"integer"===n.getType()){if(t=Math.round(t),this.sizeHistory[e]||(this.sizeHistory[e]=new Set),!this.sizeHistory[e].has(t))return n.setValue(t),this.sizeHistory[e].add(t),!0}else{const t=new Error("Missing variable");t.level="error",t.additional={variableName:e},this.context.logError(t)}}return!1}recalcProps(){if(!this.node||!this.context)return!1;const e=this.node.getBoundingClientRect(),t=this.setVariable(this.widthVariableName,e.width),n=this.setVariable(this.heightVariableName,e.height);return t||n}mountView(e,t){var n;this.node=e,this.context=t,this.resizeObserver||"undefined"==typeof ResizeObserver||(this.resizeObserver=new ResizeObserver((async()=>{let e=0;for(;this.recalcProps();){if(++e>8){const e=new Error("Recursive layout in size_provider");e.level="warn",e.additional={widthVariableName:this.widthVariableName,heightVariableName:this.heightVariableName},t.logError(e);break}await Ln()}this.sizeHistory={}}))),null===(n=this.resizeObserver)||void 0===n||n.observe(e),this.recalcProps()}unmountView(e,t){var n;null===(n=this.resizeObserver)||void 0===n||n.disconnect(),this.resizeObserver=void 0}}function tu(e){return e instanceof HTMLElement}function nu(e){return class{constructor(e){this.params=e}loadData(){if(this.params.lottie_json)return Promise.resolve(this.params.lottie_json);const e=this.params.lottie_url;return e?fetch(e).then((e=>{if(!e.ok)throw new Error("Response is not ok");return e.json()})):Promise.reject("Missing data")}mountView(t,n){if(!this.params.lottie_url&&!this.params.lottie_json)return;const i=Array.from(t.children).filter(tu);i.forEach((e=>{e.style.display="none"})),t.setAttribute("data-lottie","true");const o=this.wrapper=document.createElement("div");this.wrapper.style.width="100%",this.wrapper.style.height="100%",t.appendChild(this.wrapper);const r=Number(this.params.repeat_count||-1),s=()=>{var e,o;null===(e=this.animItem)||void 0===e||e.destroy(),i.forEach((e=>{e.style.display=""})),t.removeAttribute("data-lottie"),this.wrapper&&(null===(o=this.wrapper.parentNode)||void 0===o||o.removeChild(this.wrapper),this.wrapper=void 0);const r=new Error("Failed to load lottie animation");r.level="error",r.additional={url:this.params.lottie_url},n.logError(r)};this.loadData().then((t=>{const n=this.animItem=e({container:o,animationData:t,renderer:"svg",loop:!0});if(this.animItem.addEventListener("data_failed",s),"reverse"===this.params.repeat_mode||-1!==r){let e=1,t=0;n.addEventListener("loopComplete",(()=>{++t,-1!==r&&t===r?(n.stop(),n.goToAndStop(n.totalFrames,!0)):("reverse"===this.params.repeat_mode&&(e*=-1,n.setDirection(e)),n.goToAndPlay(1===e?0:n.totalFrames,!0))}))}})).catch(s)}unmountView(e,t){var n,i;null===(n=this.animItem)||void 0===n||n.destroy(),this.wrapper&&(null===(i=this.wrapper.parentNode)||void 0===i||i.removeChild(this.wrapper),this.wrapper=void 0),e.removeAttribute("data-lottie")}}}const iu=["target","hydrate"];function ou(e){const{target:t,hydrate:n}=e,i=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,iu),o=new Jc({target:t,props:i,hydrate:n});return{$destroy(){o.$destroy()},execAction(e){o.execAction(e)},setTheme(e){o.setTheme(e)},setData(e){o.setData(e)}}}var ru=yt.M,su=yt.Os,au=yt.sY,lu=s(3516),cu={};cu.styleTagTransform=Ae(),cu.setAttributes=Le(),cu.insert=Te().bind(null,"head"),cu.domAPI=je(),cu.insertStyleElement=ze(),Ie()(lu.Z,cu),lu.Z&&lu.Z.locals&&lu.Z.locals;const uu={light:[{name:"palette.text.primary",color:"#cc000000"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14000000"}],dark:[{name:"palette.text.primary",color:"#ffffff"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14ffffff"}]};function du(t){(0,e.qOq)(t,"svelte-14lhsnj",".div-card.svelte-14lhsnj{animation:svelte-14lhsnj-appear 400ms ease-out}@keyframes svelte-14lhsnj-appear{0%{opacity:0}100%{opacity:1}}.div-card_theme_dark .gallery__arrow_left{background-color:#161617}.div-card_theme_dark .gallery__arrow_right{background-color:#161617}.div-card_theme_dark .gallery__arrow_left::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg)}.div-card_theme_dark .gallery__arrow_right::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg)}")}function pu(t){let n,i,o,r,s;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i="div-card div-card_theme_"+t[1]+" svelte-14lhsnj")},m(i,a){(0,e.$Tr)(i,n,a),t[12](n),r||(s=[(0,e.TVh)(o=ke.x.call(null,n)),(0,e.oLt)(n,"horizontalmovechange",t[13]),(0,e.oLt)(n,"click",(0,e.XET)(t[11]))],r=!0)},p(t,[o]){2&o&&i!==(i="div-card div-card_theme_"+t[1]+" svelte-14lhsnj")&&(0,e.Ljt)(n,"class",i)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[12](null),r=!1,(0,e.j7q)(s)}}}function hu(t,n,i){let o,{onHorizontalMoveChange:r}=n,{id:s}=n,{json:a}=n,{onDivClick:l}=n,{outputBus:c}=n,{theme:u}=n,{statName:d}=n,{requestId:p}=n,{onRender:h=L.Z}=n,{isMobile:g=!1}=n;const m=e=>{const t=new URL(e);if("dialog-action:"===t.protocol&&t.searchParams.get("directives")){const e=JSON.parse(decodeURIComponent(t.searchParams.get("directives")));return{title:e[0].payload.title||e[0].payload.text,directives:e}}if("dialog:"===t.protocol&&t.searchParams.get("query")&&/^dialog:\/\/text_command\b/.test(e))return{title:t.searchParams.get("query")};throw Error("unknown divcard url type "+e)},f=e=>{try{const t=m(e.url);l(t)}catch(e){c.emit("errorThrown",e)}},v=({action:e,type:t})=>{const{log_id:n,url:i}=e;let o;if(i)try{const e=m(i);e.title&&(o={title:e.title,requestId:p||""})}catch(e){return void c.emit("errorThrown",e)}const r=n.replace(/\//g,"_");switch(t){case"click":c.emit("stat",{path:`${d}.${r}`,eventType:"click",customParams:o});break;case"visible":c.emit("stat",{path:`${d}.${r}`,eventType:"show",customParams:o})}},[_,b]=["platformName","standalone_"+(g?"mobile":"desktop")],y=su(_,"string",b),x=ru();return x.setVariable(y),t.$$set=e=>{"onHorizontalMoveChange"in e&&i(0,r=e.onHorizontalMoveChange),"id"in e&&i(4,s=e.id),"json"in e&&i(3,a=e.json),"onDivClick"in e&&i(5,l=e.onDivClick),"outputBus"in e&&i(6,c=e.outputBus),"theme"in e&&i(1,u=e.theme),"statName"in e&&i(7,d=e.statName),"requestId"in e&&i(8,p=e.requestId),"onRender"in e&&i(9,h=e.onRender),"isMobile"in e&&i(10,g=e.isMobile)},t.$$.update=()=>{606&t.$$.dirty&&o&&(i(2,o.innerHTML="",o),i(3,a.palette=a.palette||uu,a),au({id:s,target:o,onCustomAction:f,onStat:v,json:a.palette?a:Object.assign(Object.assign({},a),{palette:uu}),theme:u,customization:{galleryLeftClass:$e.left,galleryRightClass:$e.right},globalVariablesController:x,onError:({error:e})=>{c.emit("errorThrown",e,"warn")}}),h())},[r,u,o,a,s,l,c,d,p,h,g,function(n){e.cKT.call(this,t,n)},function(t){e.VnY[t?"unshift":"push"]((()=>{o=t,i(2,o),i(3,a),i(4,s),i(1,u),i(6,c),i(9,h)}))},({detail:{value:e}})=>{r(e)}]}class gu extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,hu,pu,e.AqN,{onHorizontalMoveChange:0,id:4,json:3,onDivClick:5,outputBus:6,theme:1,statName:7,requestId:8,onRender:9,isMobile:10},du)}}const mu=gu;var fu;!function(e){e.PURPLE="purple",e.BLUE="blue"}(fu||(fu={}));const vu='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle class="input-container__text-input-send-ring" cx="12" cy="12" r="10" fill="none" />\n    <circle class="input-container__text-input-send-circle" cx="12" cy="12" r="8" fill="none" />\n    <circle class="input-container__text-input-send-hover" cx="12" cy="12" r="10" fill="none" fill-opacity="0" />\n    <path d="M13.25 12L9.25 7H12L16 12L12 17H9.25L13.25 12Z" fill="none" />\n</svg>\n';function _u(t){(0,e.qOq)(t,"svelte-2wuhoq",".input-container.svelte-2wuhoq.svelte-2wuhoq{position:relative}.input-container__text-input-send.svelte-2wuhoq.svelte-2wuhoq{border:none;background-color:transparent;padding:0;margin:0;position:absolute;bottom:17px;right:14px;width:24px;height:24px;cursor:pointer}.input-container__text-input-send-ring{fill:var(--ring-color)}.input-container__text-input-send-circle{fill:var(--circle-color)}.input-container__text-input-send-hover{fill:var(--hover-color)}.input-container__text-input-send.svelte-2wuhoq path{fill:var(--mark-color)}.input-container__text-input-send.svelte-2wuhoq:hover .input-container__text-input-send-hover{fill-opacity:0.12}.input-container__text-input.svelte-2wuhoq.svelte-2wuhoq{display:block;padding:17px 40px 17px 20px;box-sizing:border-box;border:1px solid #e6e1f5;border-radius:16px;width:100%;font-weight:400;font-size:16px;line-height:120%;outline:none;max-height:calc(var(--lines) * 20px);overflow:scroll;-ms-overflow-style:none;scrollbar-width:none;-webkit-user-select:text;-moz-user-select:text;user-select:text}.input-container_theme_dark.svelte-2wuhoq .input-container__text-input.svelte-2wuhoq{border-color:rgba(122, 85, 255, 0.4)}.input-container__text-input.svelte-2wuhoq.svelte-2wuhoq::-webkit-scrollbar{display:none}.input-container__text-input.svelte-2wuhoq.svelte-2wuhoq:empty:before{content:attr(placeholder);pointer-events:none;display:block;opacity:0.25}.input-container_standalone.svelte-2wuhoq .input-container__text-input.svelte-2wuhoq{max-height:280px;line-height:22px;border:1px solid var(--border-color);padding:12px 16px}.input-container_standalone.input-container_mobile.svelte-2wuhoq .input-container__text-input.svelte-2wuhoq{max-height:196px}.input-container_standalone.svelte-2wuhoq .input-container__text-input.svelte-2wuhoq:focus-visible{border:2px solid var(--brand-color);padding:11px 15px}.input-container_standalone.input-container_color_blue.svelte-2wuhoq .input-container__text-input.svelte-2wuhoq:focus-visible{border-color:var(--main-color)}.input-container_standalone.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq{bottom:13px}.input-container_standalone.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq circle{fill:var(--brand-color)}.input-container_standalone.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq:hover circle{fill:var(--primary-button-hover-color)}.input-container_standalone.input-container_empty.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq circle{fill:var(--user-bubble-color)}.input-container_standalone.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq path{fill:#fff}.input-container_standalone.input-container_empty.svelte-2wuhoq .input-container__text-input-send.svelte-2wuhoq path{fill:var(--text-secondary-color)}")}function bu(t){let n,i,o,r,s,a,l,c=function(t){let n,i,o,r;return{c(){n=(0,e.bGB)("button"),(0,e.Ljt)(n,"aria-label",i="Отправить запрос Алисе"),(0,e.Ljt)(n,"class","input-container__text-input-send svelte-2wuhoq"),(0,e.czc)(n,"--ring-color",t[13]),(0,e.czc)(n,"--circle-color",t[12]),(0,e.czc)(n,"--mark-color",t[11]),(0,e.czc)(n,"--hover-color",t[10])},m(i,s){(0,e.$Tr)(i,n,s),n.innerHTML=vu,o||(r=(0,e.oLt)(n,"click",(0,e.AT7)(t[6])),o=!0)},p(t,i){8192&i[0]&&(0,e.czc)(n,"--ring-color",t[13]),4096&i[0]&&(0,e.czc)(n,"--circle-color",t[12]),2048&i[0]&&(0,e.czc)(n,"--mark-color",t[11]),1024&i[0]&&(0,e.czc)(n,"--hover-color",t[10])},d(t){t&&(0,e.ogt)(n),o=!1,r()}}}(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("span"),r=(0,e.DhX)(),c&&c.c(),(0,e.Ljt)(i,"class","input-container__text-input svelte-2wuhoq"),(0,e.Ljt)(i,"contenteditable","true"),(0,e.Ljt)(i,"tabindex","0"),(0,e.Ljt)(i,"role","textbox"),(0,e.Ljt)(i,"placeholder",o="Напишите мне"),void 0===t[9]&&(0,e.P$F)((()=>t[28].call(i))),(0,e.czc)(i,"--lines",t[5]),(0,e.czc)(i,"--main-color",t[8]),(0,e.Ljt)(n,"class",s="input-container input-container_theme_"+t[1]+" input-container_color_"+t[3]+" svelte-2wuhoq"),(0,e.VHj)(n,"input-container_standalone",!1),(0,e.VHj)(n,"input-container_mobile",t[4]),(0,e.VHj)(n,"input-container_empty",t[0])},m(o,s){(0,e.$Tr)(o,n,s),(0,e.R3I)(n,i),t[27](i),void 0!==t[9]&&(i.innerHTML=t[9]),(0,e.R3I)(n,r),c&&c.m(n,null),a||(l=[(0,e.oLt)(i,"input",t[28]),(0,e.oLt)(i,"paste",t[15]),(0,e.oLt)(i,"keydown",t[17]),(0,e.oLt)(i,"keypress",t[16]),(0,e.oLt)(i,"input",(function(){(0,e.sBU)(t[2])&&t[2].apply(this,arguments)})),(0,e.oLt)(i,"input",t[18])],a=!0)},p(o,r){t=o,512&r[0]&&t[9]!==i.innerHTML&&(i.innerHTML=t[9]),32&r[0]&&(0,e.czc)(i,"--lines",t[5]),256&r[0]&&(0,e.czc)(i,"--main-color",t[8]),c.p(t,r),10&r[0]&&s!==(s="input-container input-container_theme_"+t[1]+" input-container_color_"+t[3]+" svelte-2wuhoq")&&(0,e.Ljt)(n,"class",s),10&r[0]&&(0,e.VHj)(n,"input-container_standalone",!1),26&r[0]&&(0,e.VHj)(n,"input-container_mobile",t[4]),11&r[0]&&(0,e.VHj)(n,"input-container_empty",t[0])},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[27](null),c&&c.d(),a=!1,(0,e.j7q)(l)}}}const yu=4e3;function xu(n,i,o){let r,s,a,l,c,u,d,p,{onSubmit:h}=i,{theme:g}=i,{outputBus:m}=i,{onChange:f}=i,{shouldFocusInput:v=!1}=i,{buttonTheme:_}=i,{isMobile:b=!1}=i,{isTablet:y=!1}=i,{page:x}=i,{lines:w=5}=i,{isEmpty:k=!0}=i;const{allChatsStore:$}=(0,t.fw)(ue.f1);let C,I;(0,e.FIv)(n,$,(e=>o(26,p=e)));const M=()=>{null==C||C.focus()};(0,t.H3)((()=>{v&&setTimeout(M,0),(()=>{const e=document.createElement("div");try{e.contentEditable="plaintext-only"}catch(e){return!1}return"plaintext-only"===e.contentEditable})()&&o(7,C.contentEditable="plaintext-only",C),m.emit("stat",{path:(x?x+".":"")+"keyboard_question",eventType:"show"}),o(0,k=!0)})),(0,t.ev)((()=>{o(0,k=!0)}));const j=()=>{const e=null==C?void 0:C.innerText.trim();e&&(o(9,I=""),o(0,k=!0),h(e))};return n.$$set=e=>{"onSubmit"in e&&o(19,h=e.onSubmit),"theme"in e&&o(1,g=e.theme),"outputBus"in e&&o(20,m=e.outputBus),"onChange"in e&&o(2,f=e.onChange),"shouldFocusInput"in e&&o(21,v=e.shouldFocusInput),"buttonTheme"in e&&o(3,_=e.buttonTheme),"isMobile"in e&&o(4,b=e.isMobile),"isTablet"in e&&o(22,y=e.isTablet),"page"in e&&o(23,x=e.page),"lines"in e&&o(5,w=e.lines),"isEmpty"in e&&o(0,k=e.isEmpty)},n.$$.update=()=>{2&n.$$.dirty[0]&&o(24,r="light"===g?"#fff":"#161617"),8&n.$$.dirty[0]&&o(8,s=_===fu.BLUE?"#4E66FF":"#7137FF"),2&n.$$.dirty[0]&&o(25,a="light"===g?"#BFBFBF":"#505050"),33554689&n.$$.dirty[0]&&o(13,l=k?a:s),16777473&n.$$.dirty[0]&&o(12,c=k?r:s),50331649&n.$$.dirty[0]&&o(11,u=k?a:r),1&n.$$.dirty[0]&&o(10,d=k?"none":"#000"),n.$$.dirty[0]},[k,g,f,_,b,w,j,C,s,I,d,u,c,l,$,e=>{if(e.preventDefault(),e.clipboardData){let t=e.clipboardData.getData("text/plain");t=t.trim(),document.execCommand("inserttext",!1,t)}},e=>{C&&C.innerText.trim().length>=yu&&e.preventDefault()},e=>{if(e.ctrlKey||e.metaKey)switch(e.code){case"KeyB":case"KeyI":case"KeyU":e.preventDefault()}"Enter"===e.key&&(e.preventDefault(),b||y||e.shiftKey||e.ctrlKey||e.metaKey?document.execCommand("inserttext",!1,"\n"):j())},()=>{C&&"\n"===C.innerText&&o(9,I=""),C&&C.innerText.length>yu&&o(7,C.innerText=C.innerText.slice(0,yu),C),o(0,k=!I)},h,m,v,y,x,r,a,p,function(t){e.VnY[t?"unshift":"push"]((()=>{C=t,o(7,C)}))},function(){I=this.innerHTML,o(9,I)}]}class wu extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,xu,bu,e.N8,{onSubmit:19,theme:1,outputBus:20,onChange:2,shouldFocusInput:21,buttonTheme:3,isMobile:4,isTablet:22,page:23,lines:5,isEmpty:0,submit:6},_u,[-1,-1])}get submit(){return this.$$.ctx[6]}}const ku=wu,$u=(e,t)=>{const n=t.length/20+(e.length?1:0);return n<2?"small":n<3?"medium":"large"};function Cu(t){(0,e.qOq)(t,"svelte-cw52wt",".dialog_header.svelte-cw52wt.svelte-cw52wt{margin:0 17px;padding-top:17px;display:flex;flex-direction:row;align-items:center}.dialog_header__close.svelte-cw52wt.svelte-cw52wt{background-color:inherit;border:0;width:24px;height:24px;cursor:pointer}.dialog_header__image.svelte-cw52wt.svelte-cw52wt{border-radius:50%;width:32px;height:32px}.dialog_header__title.svelte-cw52wt.svelte-cw52wt{font-weight:500;font-size:16px;line-height:120%;flex-grow:1}.dialog_header__actions.svelte-cw52wt.svelte-cw52wt{margin-right:10px}.dialog_header__close_path.svelte-cw52wt.svelte-cw52wt{fill:#000}.dialog_header_theme_dark.svelte-cw52wt .dialog_header__close_path.svelte-cw52wt{fill:#fff}.dialog_header__oknyx_container.svelte-cw52wt.svelte-cw52wt{flex-shrink:0}")}function Iu(t){let n,i,o;return i=new fe({props:{onClick:t[1],color:t[9],state:t[5],logo:t[6]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","dialog_header__oknyx_container svelte-cw52wt")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};2&t&&(n.onClick=e[1]),32&t&&(n.state=e[5]),64&t&&(n.logo=e[6]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Mu(t){let n,i,o,r,s,a,l,c,u,d,p,h,g,m,f,v=!t[8]&&Iu(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="18" fill="none"><path class="dialog_header__close_path svelte-cw52wt" opacity=".9" d="M7.25 0H10L2.75 9 10 18H7.25L0 9l7.25-9Z"></path></svg>',r=(0,e.DhX)(),s=(0,e.bGB)("a"),a=(0,e.bGB)("img"),c=(0,e.DhX)(),u=(0,e.bGB)("span"),d=(0,e.fLW)(t[4]),p=(0,e.DhX)(),v&&v.c(),(0,e.Ljt)(i,"aria-label",o="Закрыть"),(0,e.Ljt)(i,"class","dialog_header__close svelte-cw52wt"),(0,e.Ljt)(a,"class","dialog_header__image svelte-cw52wt"),(0,e.Jn4)(a.src,l=t[3])||(0,e.Ljt)(a,"src",l),(0,e.Ljt)(a,"alt",t[4]),(0,e.Ljt)(s,"class","dialog_header__actions svelte-cw52wt"),(0,e.Ljt)(s,"href",t[2]),(0,e.Ljt)(u,"class","dialog_header__title svelte-cw52wt"),(0,e.Ljt)(n,"class",h=(0,e.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-cw52wt")},m(o,l){(0,e.$Tr)(o,n,l),(0,e.R3I)(n,i),(0,e.R3I)(n,r),(0,e.R3I)(n,s),(0,e.R3I)(s,a),(0,e.R3I)(n,c),(0,e.R3I)(n,u),(0,e.R3I)(u,d),(0,e.R3I)(n,p),v&&v.m(n,null),g=!0,m||(f=(0,e.oLt)(i,"click",(0,e.AT7)((function(){(0,e.sBU)(t[0])&&t[0].apply(this,arguments)}))),m=!0)},p(i,[o]){t=i,(!g||8&o&&!(0,e.Jn4)(a.src,l=t[3]))&&(0,e.Ljt)(a,"src",l),(!g||16&o)&&(0,e.Ljt)(a,"alt",t[4]),(!g||4&o)&&(0,e.Ljt)(s,"href",t[2]),(!g||16&o)&&(0,e.rTO)(d,t[4]),t[8]?v&&((0,e.dvw)(),(0,e.etI)(v,1,1,(()=>{v=null})),(0,e.gbL)()):v?(v.p(t,o),256&o&&(0,e.Ui)(v,1)):(v=Iu(t),v.c(),(0,e.Ui)(v,1),v.m(n,null)),(!g||128&o&&h!==(h=(0,e.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-cw52wt"))&&(0,e.Ljt)(n,"class",h)},i(t){g||((0,e.Ui)(v),g=!0)},o(t){(0,e.etI)(v),g=!1},d(t){t&&(0,e.ogt)(n),v&&v.d(),m=!1,f()}}}const ju="#7137FF",Su="#4E66FF";function Tu(e,n,i){let{closeDialog:o}=n,{onOknyxClick:r}=n,{dialogUrl:s}=n,{dialogImageUrl:a}=n,{dialogTitle:l}=n,{state:c}=n,{logo:u}=n,{theme:d}=n,{useChat:p=!1}=n;const h=u===g.z.ALICE?ju:Su;return(0,t.H3)((()=>{ue.xx.emit("stat",{path:"dialog",eventType:"show",customParams:{title:l}})})),e.$$set=e=>{"closeDialog"in e&&i(0,o=e.closeDialog),"onOknyxClick"in e&&i(1,r=e.onOknyxClick),"dialogUrl"in e&&i(2,s=e.dialogUrl),"dialogImageUrl"in e&&i(3,a=e.dialogImageUrl),"dialogTitle"in e&&i(4,l=e.dialogTitle),"state"in e&&i(5,c=e.state),"logo"in e&&i(6,u=e.logo),"theme"in e&&i(7,d=e.theme),"useChat"in e&&i(8,p=e.useChat)},[o,r,s,a,l,c,u,d,p,h]}class Eu extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Tu,Mu,e.N8,{closeDialog:0,onOknyxClick:1,dialogUrl:2,dialogImageUrl:3,dialogTitle:4,state:5,logo:6,theme:7,useChat:8},Cu)}}const Lu=Eu;var Du=s(4398),zu=s(4640),Ou=s(4950),Au=s(2192);const Nu=async({id:e,type:n,text:i,directives:o,session_type:r},s)=>{const a=e&&(0,Ou.U2)(s).allChats[e],l="skill"===n&&e,c="dedicated"===n&&e;!a&&c&&await s.loadChatList(),!a&&l&&s.createChat({type:"ls",localStorageKey:`${Au.Wz}.${e}`,maxMessagesInLS:50,isDialog:!0},{id:e}),(l||c)&&(s.setActiveChatId(e),await(0,t.Ky)());const u={request:{voiceSession:"voice"===r}};(null==o?void 0:o.length)?zu.ZP.executeDirectives(o,u):l?zu.ZP.executeDirectives([{name:"type_silent",type:"client_action",payload:{text:i}},{name:"new_dialog_session",type:"server_action",payload:{dialog_id:e,request:i||void 0}}],u):i&&zu.ZP.executeDirectives([{name:"type",type:"client_action",payload:{text:i}}],u)};function Ru(e){return e*e*e}function Bu(e){const t=e-1;return t*t*t+1}function Pu(t,{delay:n=0,duration:i=400,easing:o=e.yRu}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:o,css:e=>"opacity: "+e*r}}const Hu='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="40" height="40" rx="11" fill="#FC3F1D"/>\n<path d="M22.8095 32H27V8H20.9048C14.7749 8 11.5541 11.1424 11.5541 15.7698C11.5541 19.4647 13.3203 21.6403 16.4719 23.8849L11 32H15.5368L21.632 22.918L19.5195 21.5022C16.9567 19.7755 15.71 18.4288 15.71 15.5281C15.71 12.9727 17.5108 11.246 20.9394 11.246H22.8095V32Z" fill="white"/>\n<circle cx="30" cy="30" r="5" fill="#7A55FF"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M27.2527 31.8202C27.6833 32.2423 28.8308 32.4952 30.0003 32.4999C31.1698 32.4952 32.3173 32.2423 32.7473 31.8202C33.8177 30.7723 31.2164 26.7558 30.0015 26.7499C28.7836 26.7558 26.1823 30.7723 27.2527 31.8202Z" fill="white"/>\n</svg>\n',Uu='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="checkradio control">\n<circle id="base" cx="8.00065" cy="7.99992" r="6.66667" fill="black" fill-opacity="0.8"/>\n<path id="check" d="M7.71239 10.282C7.32007 10.6778 6.68126 10.6753 6.29047 10.2779C5.61953 9.59573 4.69212 8.65297 4.52919 8.48832C4.26891 8.22531 4.26891 7.79369 4.52919 7.53067C4.78947 7.26765 5.20992 7.26765 5.4702 7.53067C5.52987 7.59097 5.58053 7.64326 5.62318 7.68806C5.7575 7.82917 5.88684 7.97504 6.02155 8.11578L7.00065 9.13872L8.14351 7.94469C8.16912 7.91794 8.19365 7.89271 8.21969 7.8664C8.50307 7.58004 10.2916 5.77274 10.5311 5.53067C10.7914 5.26765 11.2118 5.26765 11.4721 5.53067C11.7324 5.79369 11.7324 6.22531 11.4721 6.48832C11.2796 6.68289 8.9249 9.05864 7.71239 10.282Z" fill="white"/>\n</g>\n</svg>\n',Vu='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<path id="Vector" d="M9.2601 2.69969L9.8301 1.66969C9.84147 1.65035 9.84667 1.62801 9.84498 1.60564C9.84329 1.58327 9.83481 1.56195 9.82066 1.54454C9.80652 1.52713 9.78739 1.51446 9.76584 1.50823C9.74429 1.502 9.72135 1.50251 9.7001 1.50969C9.67139 1.51713 9.64645 1.53494 9.6301 1.55969L9.0601 2.58969C8.5699 2.37459 8.04041 2.26354 7.5051 2.26354C6.96979 2.26354 6.4403 2.37459 5.9501 2.58969L5.3701 1.55969C5.35162 1.54234 5.32813 1.53129 5.30299 1.52812C5.27784 1.52495 5.25234 1.52982 5.23014 1.54203C5.20793 1.55425 5.19016 1.57317 5.17938 1.59611C5.16859 1.61904 5.16534 1.6448 5.1701 1.66969L5.7401 2.68969C5.2002 2.95564 4.74388 3.36501 4.42111 3.87299C4.09833 4.38096 3.92155 4.96795 3.9101 5.56969H11.0901C11.0779 4.96941 10.9008 4.38406 10.578 3.87781C10.2552 3.37157 9.79921 2.96396 9.2601 2.69969ZM5.8401 4.24969C5.76053 4.24969 5.68423 4.21808 5.62797 4.16182C5.57171 4.10556 5.5401 4.02925 5.5401 3.94969C5.5401 3.87012 5.57171 3.79382 5.62797 3.73756C5.68423 3.6813 5.76053 3.64969 5.8401 3.64969C5.91966 3.64969 5.99597 3.6813 6.05223 3.73756C6.10849 3.79382 6.1401 3.87012 6.1401 3.94969C6.1401 4.02925 6.10849 4.10556 6.05223 4.16182C5.99597 4.21808 5.91966 4.24969 5.8401 4.24969ZM9.1601 4.24969C9.08053 4.24969 9.00423 4.21808 8.94797 4.16182C8.89171 4.10556 8.8601 4.02925 8.8601 3.94969C8.8601 3.87012 8.89171 3.79382 8.94797 3.73756C9.00423 3.6813 9.08053 3.64969 9.1601 3.64969C9.23966 3.64969 9.31597 3.6813 9.37223 3.73756C9.42849 3.79382 9.4601 3.87012 9.4601 3.94969C9.4601 4.02925 9.42849 4.10556 9.37223 4.16182C9.31597 4.21808 9.23966 4.24969 9.1601 4.24969ZM3.9101 11.0497C3.91273 11.2787 4.00555 11.4974 4.16842 11.6584C4.3313 11.8194 4.55108 11.9097 4.7801 11.9097H5.3601V13.6897C5.36036 13.8483 5.40778 14.0033 5.49633 14.1349C5.58488 14.2665 5.71056 14.3689 5.8574 14.4289C6.00424 14.4889 6.16561 14.5039 6.321 14.472C6.47639 14.4401 6.61879 14.3627 6.7301 14.2497C6.80593 14.1754 6.8662 14.0867 6.90741 13.9888C6.94861 13.891 6.96992 13.7859 6.9701 13.6797V11.9097H8.0401V13.6897C8.04036 13.8483 8.08778 14.0033 8.17633 14.1349C8.26488 14.2665 8.39056 14.3689 8.5374 14.4289C8.68424 14.4889 8.84561 14.5039 9.001 14.472C9.15639 14.4401 9.29879 14.3627 9.4101 14.2497C9.56083 14.102 9.64709 13.9007 9.6501 13.6897V11.9097H10.2201C10.4491 11.9097 10.6689 11.8194 10.8318 11.6584C10.9946 11.4974 11.0875 11.2787 11.0901 11.0497V5.84969H3.9101V11.0497ZM2.8101 5.70969C2.7042 5.70836 2.5991 5.72808 2.50088 5.76769C2.40266 5.8073 2.31329 5.86602 2.23794 5.94044C2.16259 6.01486 2.10276 6.1035 2.06194 6.20121C2.02111 6.29893 2.00009 6.40378 2.0001 6.50969V9.85969C1.99801 9.99266 2.02911 10.124 2.09057 10.242C2.15203 10.3599 2.24192 10.4607 2.35211 10.5351C2.4623 10.6096 2.58932 10.6554 2.72166 10.6684C2.85401 10.6814 2.98751 10.6612 3.1101 10.6097C3.25916 10.5494 3.38659 10.4456 3.47578 10.3118C3.56497 10.178 3.61178 10.0205 3.6101 9.85969V6.51969C3.6101 6.30751 3.52581 6.10403 3.37578 5.954C3.22575 5.80397 3.02227 5.71969 2.8101 5.71969V5.70969ZM12.2001 5.70969C12.095 5.70969 11.991 5.73038 11.894 5.77058C11.7969 5.81079 11.7087 5.86972 11.6344 5.944C11.5601 6.01829 11.5012 6.10648 11.461 6.20354C11.4208 6.3006 11.4001 6.40463 11.4001 6.50969V9.85969C11.4001 9.96475 11.4208 10.0688 11.461 10.1658C11.5012 10.2629 11.5601 10.3511 11.6344 10.4254C11.7087 10.4997 11.7969 10.5586 11.894 10.5988C11.991 10.639 12.095 10.6597 12.2001 10.6597C12.3052 10.6597 12.4092 10.639 12.5062 10.5988C12.6033 10.5586 12.6915 10.4997 12.7658 10.4254C12.8401 10.3511 12.899 10.2629 12.9392 10.1658C12.9794 10.0688 13.0001 9.96475 13.0001 9.85969V6.51969C13.0001 6.41463 12.9794 6.3106 12.9392 6.21354C12.899 6.11648 12.8401 6.02829 12.7658 5.954C12.6915 5.87972 12.6033 5.82079 12.5062 5.78058C12.4092 5.74038 12.3052 5.71969 12.2001 5.71969V5.70969Z" />\n</g>\n</svg>\n',Gu='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<g id="Clip path group">\n<mask id="mask0_8924_153227" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="15" height="16">\n<g id="a">\n<path id="Vector" d="M0 0.5H15V15.5H0V0.5Z" fill="white"/>\n</g>\n</mask>\n<g mask="url(#mask0_8924_153227)">\n<g id="Group">\n<path id="Vector_2" d="M11.1597 12.98C10.4597 13.66 9.67967 13.56 8.92967 13.23C8.56065 13.0623 8.16001 12.9755 7.75467 12.9755C7.34934 12.9755 6.94869 13.0623 6.57967 13.23C5.53967 13.68 4.97967 13.55 4.35967 12.98C0.819674 9.35 1.33967 3.81 5.35967 3.61C6.33967 3.66 7.01967 4.15 7.59967 4.19C8.44967 4.02 9.26967 3.52 10.1897 3.59C11.2897 3.67 12.1097 4.1 12.6497 4.89C12.1787 5.15353 11.7922 5.54537 11.5352 6.01995C11.2782 6.49452 11.1612 7.03232 11.1979 7.57078C11.2345 8.10923 11.4233 8.62621 11.7423 9.06156C12.0613 9.49692 12.4973 9.83275 12.9997 10.03C12.6343 11.1537 12.0031 12.1725 11.1597 13V12.99V12.98ZM7.52967 3.57C7.49849 2.80924 7.76167 2.06571 8.2645 1.49397C8.76734 0.922228 9.47116 0.566241 10.2297 0.5C10.4497 2.36 8.52967 3.75 7.52967 3.57Z" />\n</g>\n</g>\n</g>\n</g>\n</svg>\n',qu="Яндекс — с Алисой",Fu="Быстрый поиск и Алиса всегда рядом",Zu={phoneIosInner:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-inner-min.png",phoneIosWrapper:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-wrapper-min.png",phoneAndroid:"https://yastatic.net/s3/home/alice_popup/image%2071-2.png"};function Yu(t){(0,e.qOq)(t,"svelte-1ie8ukm",".alice-promo-standalone.svelte-1ie8ukm{width:100%;height:257px;display:flex;flex-direction:row}.alice-promo-standalone__left-wrapper.svelte-1ie8ukm{position:relative;flex-shrink:1;width:100%}.alice-promo-standalone__right-wrapper.svelte-1ie8ukm{position:relative;flex-shrink:2;width:0}.alice-promo-standalone__app-header.svelte-1ie8ukm{display:flex;flex-direction:row;margin-bottom:20px}.alice-promo-standalone__app-icon.svelte-1ie8ukm{width:40px;height:40px;margin-right:8px}.alice-promo-standalone__text-el.svelte-1ie8ukm{display:flex;flex-direction:row;align-items:center}.alice-promo-standalone__check-img.svelte-1ie8ukm{margin-right:4px}.alice-promo-standalone__check-img.svelte-1ie8ukm svg{display:block}.alice-promo-standalone__app-description.svelte-1ie8ukm{margin-bottom:16px;display:flex;flex-direction:column;align-items:flex-start;gap:12px}.alice-promo-standalone__app-h1.svelte-1ie8ukm{color:var(--black-color);font-size:20px;font-style:normal;font-weight:700;line-height:24px}.alice-promo-standalone__app-h2.svelte-1ie8ukm,.alice-promo-standalone__text.svelte-1ie8ukm{color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone__text.svelte-1ie8ukm{margin:0}.alice-promo-standalone__app-links.svelte-1ie8ukm{display:flex;flex-direction:row;gap:8px}.alice-promo-standalone__qr-code.svelte-1ie8ukm{display:flex;flex-direction:row;gap:12px;padding:12px 16px 12px 12px;border-radius:12px;background-color:var(--white-color);align-items:center;width:175px}.alice-promo-standalone__app-qr.svelte-1ie8ukm{width:58px;height:58px}.alice-promo-standalone__mobile-links.svelte-1ie8ukm{display:flex;flex-direction:column;justify-content:space-between}.alice-promo-standalone__link.svelte-1ie8ukm{padding:11px 11px 10px 11px;background-color:#fff;border-radius:12px;color:var(--black-color)}.alice-promo-standalone__link.svelte-1ie8ukm:hover{color:var(--brand-color)}.alice-promo-standalone__link.svelte-1ie8ukm svg{display:block}.alice-promo-standalone__phone-img.svelte-1ie8ukm{position:absolute;top:24px;right:-80px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{position:relative;width:183px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{position:absolute;width:143px;left:20px;top:19px}@media(min-width: 830px){.alice-promo-standalone__right-wrapper.svelte-1ie8ukm{width:100%}.alice-promo-standalone__phone-img.svelte-1ie8ukm{top:5px;right:-20px}}@media(min-width: 1000px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{top:-12px;right:16px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:253px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:197px;left:29px;top:27px}}@media(min-width: 1024px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{right:-20px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:237px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:185px;left:27px;top:25px}}@media(min-width: 1070px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{right:-10px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:253px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:197px;left:29px;top:27px}}@media(min-width: 1100px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{right:16px}}")}function Wu(e,t,n){const i=e.slice();return i[8]=t[n],i}function Xu(t){let n,i,o,r,s;return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),r=(0,e.bGB)("p"),r.textContent=`${t[8]}`,s=(0,e.DhX)(),(0,e.Ljt)(i,"class","alice-promo-standalone__check-img svelte-1ie8ukm"),(0,e.Ljt)(r,"class","alice-promo-standalone__text svelte-1ie8ukm"),(0,e.Ljt)(n,"class","alice-promo-standalone__text-el svelte-1ie8ukm")},m(t,a){(0,e.$Tr)(t,n,a),(0,e.R3I)(n,i),i.innerHTML=Uu,(0,e.R3I)(n,o),(0,e.R3I)(n,r),(0,e.R3I)(n,s)},p:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Ku(t){let n,i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S=(0,e.NXn)(t[5]),T=[];for(let e=0;e<S.length;e+=1)T[e]=Xu(Wu(t,S,e));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),r=(0,e.bGB)("div"),s=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.bGB)("div"),l.textContent=`${qu}`,c=(0,e.DhX)(),u=(0,e.bGB)("div"),u.textContent=`${Fu}`,d=(0,e.DhX)(),p=(0,e.bGB)("div");for(let e=0;e<T.length;e+=1)T[e].c();h=(0,e.DhX)(),g=(0,e.bGB)("div"),m=(0,e.bGB)("div"),f=(0,e.bGB)("img"),_=(0,e.DhX)(),b=(0,e.bGB)("p"),b.textContent="Cчитайте QR-код камерой вашего телефона",y=(0,e.DhX)(),x=(0,e.bGB)("div"),w=(0,e.bGB)("a"),k=(0,e.DhX)(),$=(0,e.bGB)("a"),C=(0,e.DhX)(),I=(0,e.bGB)("div"),I.innerHTML=`<div class="alice-promo-standalone__phone-img svelte-1ie8ukm"><img class="alice-promo-standalone__phone-img_inner svelte-1ie8ukm" src="${Zu.phoneIosInner}" alt="Приложение"/> <img class="alice-promo-standalone__phone-img_wrapper svelte-1ie8ukm" src="${Zu.phoneIosWrapper}" alt="Приложение"/></div>`,(0,e.Ljt)(r,"class","alice-promo-standalone__app-icon svelte-1ie8ukm"),(0,e.Ljt)(l,"class","alice-promo-standalone__app-h1 svelte-1ie8ukm"),(0,e.Ljt)(u,"class","alice-promo-standalone__app-h2 svelte-1ie8ukm"),(0,e.Ljt)(a,"class","alice-promo-standalone__header-description"),(0,e.Ljt)(o,"class","alice-promo-standalone__app-header svelte-1ie8ukm"),(0,e.Ljt)(p,"class","alice-promo-standalone__app-description svelte-1ie8ukm"),(0,e.Ljt)(f,"class","alice-promo-standalone__app-qr svelte-1ie8ukm"),(0,e.Jn4)(f.src,v=t[3])||(0,e.Ljt)(f,"src",v),(0,e.Ljt)(f,"alt","Приложение"),(0,e.Ljt)(b,"class","alice-promo-standalone__text svelte-1ie8ukm"),(0,e.Ljt)(m,"class","alice-promo-standalone__qr-code svelte-1ie8ukm"),(0,e.Ljt)(w,"class","alice-promo-standalone__link svelte-1ie8ukm"),(0,e.Ljt)(w,"href",t[2]),(0,e.Ljt)(w,"target","_blank"),(0,e.Ljt)($,"class","alice-promo-standalone__link svelte-1ie8ukm"),(0,e.Ljt)($,"href",t[1]),(0,e.Ljt)($,"target","_blank"),(0,e.Ljt)(x,"class","alice-promo-standalone__mobile-links svelte-1ie8ukm"),(0,e.Ljt)(g,"class","alice-promo-standalone__app-links svelte-1ie8ukm"),(0,e.Ljt)(i,"class","alice-promo-standalone__left-wrapper svelte-1ie8ukm"),(0,e.Ljt)(I,"class","alice-promo-standalone__right-wrapper svelte-1ie8ukm"),(0,e.Ljt)(n,"class","alice-promo-standalone svelte-1ie8ukm"),(0,e.czc)(n,"--z-index",t[4]+1)},m(v,S){(0,e.$Tr)(v,n,S),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,r),r.innerHTML=Hu,(0,e.R3I)(o,s),(0,e.R3I)(o,a),(0,e.R3I)(a,l),(0,e.R3I)(a,c),(0,e.R3I)(a,u),(0,e.R3I)(i,d),(0,e.R3I)(i,p);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(p,null);(0,e.R3I)(i,h),(0,e.R3I)(i,g),(0,e.R3I)(g,m),(0,e.R3I)(m,f),(0,e.R3I)(m,_),(0,e.R3I)(m,b),(0,e.R3I)(g,y),(0,e.R3I)(g,x),(0,e.R3I)(x,w),w.innerHTML=Vu,(0,e.R3I)(x,k),(0,e.R3I)(x,$),$.innerHTML=Gu,(0,e.R3I)(n,C),(0,e.R3I)(n,I),M||(j=[(0,e.oLt)(w,"click",t[6]),(0,e.oLt)($,"click",t[7])],M=!0)},p(t,[n]){if(32&n){let i;for(S=(0,e.NXn)(t[5]),i=0;i<S.length;i+=1){const e=Wu(t,S,i);T[i]?T[i].p(e,n):(T[i]=Xu(e),T[i].c(),T[i].m(p,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=S.length}},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),(0,e.RMB)(T,t),M=!1,(0,e.j7q)(j)}}}function Qu(e,n,i){let{outputBus:o}=n;const{promoUrlIos:r,promoUrlAndroid:s,promoQrLink:a,baseZIndex:l}=(0,t.fw)(ue.f1);return(0,t.H3)((()=>{o.emit("stat",{path:"promo",eventType:"show"})})),e.$$set=e=>{"outputBus"in e&&i(0,o=e.outputBus)},[o,r,s,a,l,["Поиск текстом, картинкой или голосом","Умная камера ищет по голосу","Определитель номера","Поиск товаров и сравнение цен"],()=>{o.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:s||""}})},()=>{o.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:r||""}})}]}class Ju extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Qu,Ku,e.N8,{outputBus:0},Yu)}}const ed=Ju,td='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153377)">\n<mask id="mask0_8924_153377" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153377)">\n<path d="M134.74 40H5.26C4.58491 40.0227 3.91207 39.9107 3.28068 39.6707C2.64929 39.4307 2.07199 39.0674 1.58241 38.6021C1.09284 38.1367 0.70079 37.5785 0.429112 36.9601C0.157435 36.3417 0.0115633 35.6754 0 35L0 5C0 2.2 2.32 0 5.26 0H134.74C137.68 0 140 2.2 140 5V35C140 37.8 137.68 40 134.74 40Z" fill="black"/>\n<path d="M71 21.8018C70.4316 21.7881 69.8663 21.8899 69.3384 22.1012C68.8105 22.3124 68.331 22.6286 67.9289 23.0307C67.5269 23.4327 67.2106 23.9123 66.9994 24.4401C66.7882 24.968 66.6863 25.5333 66.7 26.1018C66.7 28.5018 68.6 30.4018 71 30.4018C73.4 30.4018 75.3 28.6018 75.3 26.1018C75.3 23.5018 73.4 21.8018 71 21.8018ZM71 28.6018C69.7 28.6018 68.6 27.5018 68.6 26.0018C68.6 24.5018 69.7 23.4018 71 23.4018C72.3 23.4018 73.4 24.4018 73.4 26.0018C73.4 27.5018 72.3 28.6018 71 28.6018ZM61.7 21.8018C61.1316 21.7881 60.5663 21.8899 60.0384 22.1012C59.5105 22.3124 59.031 22.6286 58.6289 23.0307C58.2269 23.4327 57.9106 23.9123 57.6994 24.4401C57.4882 24.968 57.3863 25.5333 57.4 26.1018C57.4 28.5018 59.3 30.4018 61.7 30.4018C64.1 30.4018 66 28.6018 66 26.1018C66 23.5018 64.1 21.8018 61.7 21.8018ZM61.7 28.6018C60.4 28.6018 59.3 27.5018 59.3 26.0018C59.3 24.5018 60.4 23.4018 61.7 23.4018C63 23.4018 64.1 24.4018 64.1 26.0018C64.1 27.5018 63 28.6018 61.7 28.6018ZM50.6 23.1018V24.9018H54.9C54.8 25.9018 54.4 26.7018 53.9 27.2018C53.3 27.8018 52.3 28.5018 50.6 28.5018C47.9 28.5018 45.9 26.4018 45.9 23.7018C45.8788 22.7661 46.1362 21.8452 46.6395 21.0562C47.1429 20.2671 47.8695 19.6456 48.7269 19.2704C49.5844 18.8953 50.534 18.7835 51.4551 18.9494C52.3762 19.1152 53.2272 19.5511 53.9 20.2018L55.2 18.9018C53.994 17.735 52.378 17.0886 50.7 17.1018C47.1 17.1018 44 20.1018 44 23.7018C44 27.3018 47.1 30.3018 50.7 30.3018C52.7 30.3018 54.1 29.7018 55.3 28.4018C56.5 27.2018 56.9 25.5018 56.9 24.2018C56.9 23.8018 56.9 23.4018 56.8 23.1018H50.6ZM96 24.5018C95.6 23.5018 94.6 21.8018 92.4 21.8018C90.2 21.8018 88.4 23.5018 88.4 26.1018C88.4 28.5018 90.2 30.4018 92.6 30.4018C94.5 30.4018 95.7 29.2018 96.1 28.5018L94.7 27.5018C94.2 28.2018 93.6 28.7018 92.6 28.7018C91.6 28.7018 91 28.3018 90.5 27.4018L96.2 25.0018L96 24.5018ZM90.2 25.9018C90.2 24.3018 91.5 23.4018 92.4 23.4018C93.1 23.4018 93.8 23.8018 94 24.3018L90.2 25.9018ZM85.5 30.0018H87.4V17.5018H85.5V30.0018ZM82.5 22.7018C82 22.2018 81.2 21.7018 80.2 21.7018C79.0946 21.7532 78.0516 22.2289 77.2879 23.0298C76.5243 23.8307 76.0988 24.8951 76.1 26.0018C76.1 28.4018 78 30.2018 80.2 30.2018C81.2 30.2018 82 29.7018 82.4 29.2018H82.5V29.8018C82.5 31.4018 81.6 32.3018 80.2 32.3018C79.1 32.3018 78.3 31.5018 78.1 30.8018L76.5 31.5018C77 32.6018 78.2 34.0018 80.3 34.0018C82.5 34.0018 84.3 32.7018 84.3 29.6018V22.0018H82.5V22.7018ZM80.3 28.6018C79 28.6018 77.9 27.5018 77.9 26.0018C77.9 24.5018 79 23.4018 80.3 23.4018C81.6 23.4018 82.6 24.5018 82.6 26.0018C82.6 27.5018 81.6 28.6018 80.3 28.6018ZM104.7 17.5018H100.2V30.0018H102.1V25.3018H104.7C106.8 25.3018 108.8 23.8018 108.8 21.4018C108.8 19.0018 106.8 17.5018 104.7 17.5018ZM104.8 23.5018H102.1V19.2018H104.8C106.2 19.2018 107 20.4018 107 21.3018C106.9 22.4018 106.1 23.5018 104.8 23.5018ZM116.3 21.7018C114.9 21.7018 113.5 22.3018 113 23.6018L114.7 24.3018C115.1 23.6018 115.7 23.4018 116.4 23.4018C117.4 23.4018 118.3 24.0018 118.4 25.0018V25.1018C118.1 24.9018 117.3 24.6018 116.5 24.6018C114.7 24.6018 112.9 25.6018 112.9 27.4018C112.9 29.1018 114.4 30.2018 116 30.2018C117.3 30.2018 117.9 29.6018 118.4 29.0018H118.5V30.0018H120.3V25.2018C120.1 23.0018 118.4 21.7018 116.3 21.7018ZM116.1 28.6018C115.5 28.6018 114.6 28.3018 114.6 27.5018C114.6 26.5018 115.7 26.2018 116.6 26.2018C117.4 26.2018 117.8 26.4018 118.3 26.6018C118.1 27.8018 117.1 28.6018 116.1 28.6018ZM126.6 22.0018L124.5 27.4018H124.4L122.2 22.0018H120.2L123.5 29.6018L121.6 33.8018H123.5L128.6 22.0018H126.6ZM109.8 30.0018H111.7V17.5018H109.8V30.0018Z" fill="white"/>\n<path d="M10.4 7.5C10.1 7.8 10 8.3 10 8.9V31C10 31.6 10.2 32.1 10.5 32.4L10.6 32.5L23 20.1V19.9L10.4 7.5Z" fill="url(#paint0_linear_8924_153377)"/>\n<path d="M26.9984 24.3008L22.8984 20.2008V19.9008L26.9984 15.8008L27.0984 15.9008L31.9984 18.7008C33.3984 19.5008 33.3984 20.8008 31.9984 21.6008L26.9984 24.3008Z" fill="url(#paint1_linear_8924_153377)"/>\n<path d="M27.0984 24.2L22.8984 20L10.3984 32.5C10.8984 33 11.5984 33 12.4984 32.6L27.0984 24.2Z" fill="url(#paint2_linear_8924_153377)"/>\n<path d="M27.0984 15.8006L12.4984 7.5006C11.5984 7.0006 10.8984 7.1006 10.3984 7.6006L22.8984 20.0006L27.0984 15.8006Z" fill="url(#paint3_linear_8924_153377)"/>\n<path opacity="0.2" d="M26.9984 24.1016L12.4984 32.3016C11.6984 32.8016 10.9984 32.7016 10.4984 32.3016L10.3984 32.4016L10.4984 32.5016C10.9984 32.9016 11.6984 33.0016 12.4984 32.5016L26.9984 24.1016Z" fill="black"/>\n<path opacity="0.12" d="M10.4 32.3C10.1 32 10 31.5 10 30.9V31C10 31.6 10.2 32.1 10.5 32.4V32.3H10.4ZM32 21.3L27 24.1L27.1 24.2L32 21.4C32.7 21 33 20.5 33 20C33 20.5 32.6 20.9 32 21.3Z" fill="black"/>\n<path opacity="0.25" d="M12.5 7.60125L32 18.7012C32.6 19.1012 33 19.5012 33 20.0012C33 19.5012 32.7 19.0012 32 18.6012L12.5 7.50125C11.1 6.70125 10 7.30125 10 8.90125V9.00125C10 7.50125 11.1 6.80125 12.5 7.60125Z" fill="white"/>\n<path d="M44.9969 14.2984H44.2969V12.2984H44.8969C45.3969 11.8984 45.6969 11.0984 45.6969 9.99844V6.99844H49.6969V12.2984H50.3969V14.2984H49.6969V12.9984H45.0969V14.2984H44.9969ZM46.3969 9.99844C46.3969 10.8984 46.1969 11.6984 45.7969 12.2984H48.7969V7.69844H46.2969V9.99844H46.3969ZM56.2969 12.1984C55.6969 12.7984 54.9969 13.0984 54.0969 13.0984C53.1969 13.0984 52.4969 12.7984 51.8969 12.1984C51.2969 11.5984 50.9969 10.8984 50.9969 9.99844C50.9969 9.09844 51.2969 8.39844 51.8969 7.79844C52.4969 7.19844 53.1969 6.89844 54.0969 6.89844C54.9969 6.89844 55.6969 7.19844 56.2969 7.79844C56.8969 8.39844 57.1969 9.09844 57.1969 9.99844C57.1969 10.8984 56.8969 11.5984 56.2969 12.1984ZM52.4969 11.6984C52.8969 12.0984 53.4969 12.3984 54.0969 12.3984C54.6969 12.3984 55.2969 12.1984 55.6969 11.6984C56.0969 11.2984 56.3969 10.6984 56.3969 9.99844C56.3969 9.29844 56.1969 8.69844 55.6969 8.29844C55.2969 7.89844 54.6969 7.59844 54.0969 7.59844C53.4969 7.59844 52.8969 7.79844 52.4969 8.29844C52.0969 8.69844 51.7969 9.29844 51.7969 9.99844C51.7969 10.6984 51.9969 11.2984 52.4969 11.6984ZM61.0969 13.0984C60.1969 13.0984 59.4969 12.7984 58.8969 12.1984C58.2969 11.5984 57.9969 10.8984 57.9969 9.99844C57.9969 9.09844 58.2969 8.39844 58.8969 7.79844C59.4969 7.19844 60.1969 6.89844 61.0969 6.89844C61.9969 6.89844 62.6969 7.19844 63.2969 7.89844L62.7969 8.39844C62.3969 7.89844 61.7969 7.59844 61.0969 7.59844C60.3969 7.59844 59.8969 7.79844 59.3969 8.29844C58.8969 8.69844 58.6969 9.29844 58.6969 9.99844C58.6969 10.6984 58.8969 11.2984 59.3969 11.6984C59.7969 12.0984 60.3969 12.3984 61.0969 12.3984C61.7969 12.3984 62.3969 12.0984 62.8969 11.4984L63.3969 11.9984C63.0969 12.2984 62.7969 12.5984 62.3969 12.7984C61.9969 12.9984 61.5969 13.0984 61.0969 13.0984ZM66.5969 12.9984H65.7969V7.69844H64.0969V6.99844H68.1969V7.69844H66.4969V12.9984H66.5969ZM73.4969 6.99844L71.1969 12.0984C70.8969 12.7984 70.3969 13.1984 69.7969 13.1984C69.5969 13.1984 69.3969 13.1984 69.1969 13.0984L69.3969 12.3984C69.4969 12.4984 69.6969 12.4984 69.7969 12.4984C69.9969 12.4984 70.0969 12.4984 70.1969 12.3984C70.2969 12.2984 70.3969 12.1984 70.4969 11.9984L70.6969 11.4984L68.6969 7.09844H69.5969L71.0969 10.4984L72.5969 6.99844H73.4969ZM74.3969 12.9984V6.99844H78.6969V12.9984H77.8969V7.69844H75.0969V12.9984H74.3969ZM80.0969 12.9984V6.99844H80.8969V9.59844H83.8969V6.99844H84.6969V12.9984H83.8969V10.2984H80.8969V12.9984H80.0969ZM90.9969 12.1984C90.3969 12.7984 89.6969 13.0984 88.7969 13.0984C87.8969 13.0984 87.1969 12.7984 86.5969 12.1984C85.9969 11.5984 85.6969 10.8984 85.6969 9.99844C85.6969 9.09844 85.9969 8.39844 86.5969 7.79844C87.1969 7.19844 87.8969 6.89844 88.7969 6.89844C89.6969 6.89844 90.3969 7.19844 90.9969 7.79844C91.5969 8.39844 91.8969 9.09844 91.8969 9.99844C91.7969 10.8984 91.4969 11.5984 90.9969 12.1984ZM87.0969 11.6984C87.4969 12.0984 88.0969 12.3984 88.6969 12.3984C89.2969 12.3984 89.8969 12.1984 90.2969 11.6984C90.6969 11.2984 90.9969 10.6984 90.9969 9.99844C90.9969 9.29844 90.7969 8.69844 90.2969 8.29844C89.8969 7.89844 89.2969 7.59844 88.6969 7.59844C88.0969 7.59844 87.4969 7.79844 87.0969 8.29844C86.6474 8.75006 86.3951 9.36129 86.3951 9.99844C86.3951 10.6356 86.6474 11.2468 87.0969 11.6984ZM94.9969 12.9984V6.99844H97.1969C97.6969 6.99844 98.0969 7.19844 98.3969 7.49844C98.6969 7.79844 98.8969 8.19844 98.8969 8.59844C98.8969 8.89844 98.7969 9.09844 98.6969 9.39844C98.5969 9.59844 98.3969 9.79844 98.0969 9.89844C98.3969 9.99844 98.5969 10.1984 98.7969 10.3984C98.9969 10.5984 99.0969 10.8984 99.0969 11.2984C99.0969 11.7984 98.8969 12.1984 98.5969 12.4984C98.1969 12.7984 97.7969 12.9984 97.2969 12.9984H94.9969ZM95.7969 9.59844H97.1969C97.4969 9.59844 97.6969 9.49844 97.8969 9.29844C98.0969 9.09844 98.1969 8.89844 98.1969 8.69844C98.1969 8.49844 97.9969 8.19844 97.8969 7.99844C97.8092 7.9003 97.7011 7.82258 97.5802 7.77075C97.4592 7.71891 97.3284 7.69423 97.1969 7.69844H95.7969V9.59844ZM95.7969 12.2984H97.3969C97.6969 12.2984 97.8969 12.1984 98.0969 11.9984C98.2969 11.7984 98.3969 11.5984 98.3969 11.2984C98.3969 11.0984 98.2969 10.7984 98.0969 10.5984C98.0092 10.5003 97.9011 10.4226 97.7802 10.3707C97.6592 10.3189 97.5284 10.2942 97.3969 10.2984H95.8969V12.2984H95.7969Z" fill="white" stroke="white" stroke-width="0.2" stroke-miterlimit="10"/>\n</g>\n</g>\n<defs>\n<linearGradient id="paint0_linear_8924_153377" x1="21.8" y1="8.71" x2="5.02" y2="25.49" gradientUnits="userSpaceOnUse">\n<stop stop-color="#00A0FF"/>\n<stop offset="0.01" stop-color="#00A1FF"/>\n<stop offset="0.26" stop-color="#00BEFF"/>\n<stop offset="0.51" stop-color="#00D2FF"/>\n<stop offset="0.76" stop-color="#00DFFF"/>\n<stop offset="1" stop-color="#00E3FF"/>\n</linearGradient>\n<linearGradient id="paint1_linear_8924_153377" x1="33.8284" y1="20.0008" x2="9.63844" y2="20.0008" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFE000"/>\n<stop offset="0.41" stop-color="#FFBD00"/>\n<stop offset="0.78" stop-color="#FFA500"/>\n<stop offset="1" stop-color="#FF9C00"/>\n</linearGradient>\n<linearGradient id="paint2_linear_8924_153377" x1="24.8284" y1="22.3" x2="2.06844" y2="45.05" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FF3A44"/>\n<stop offset="1" stop-color="#C31162"/>\n</linearGradient>\n<linearGradient id="paint3_linear_8924_153377" x1="7.29844" y1="0.1806" x2="17.4584" y2="10.3406" gradientUnits="userSpaceOnUse">\n<stop stop-color="#32A071"/>\n<stop offset="0.07" stop-color="#2DA771"/>\n<stop offset="0.48" stop-color="#15CF74"/>\n<stop offset="0.8" stop-color="#06E775"/>\n<stop offset="1" stop-color="#00F076"/>\n</linearGradient>\n<clipPath id="clip0_8924_153377">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',nd='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153345)">\n<mask id="mask0_8924_153345" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153345)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M135.47 1.93045e-06H4.53C3.63852 0.0014472 2.7671 0.264748 2.02397 0.757202C1.28084 1.24966 0.698756 1.94957 0.35 2.77C0.119508 3.31767 0.000522462 3.9058 8.69009e-09 4.5L8.69009e-09 35.52C-3.68971e-05 36.1126 0.117478 36.6992 0.345739 37.2461C0.574 37.7929 0.908473 38.289 1.32979 38.7057C1.75111 39.1223 2.2509 39.4513 2.80022 39.6734C3.34954 39.8956 3.93748 40.0066 4.53 40H135.47C136.665 39.9974 137.812 39.5234 138.66 38.6809C139.508 37.8384 139.989 36.6954 140 35.5V4.5C140.004 3.60581 139.739 2.73104 139.24 1.98923C138.741 1.24741 138.03 0.67281 137.2 0.340002C136.651 0.114957 136.063 -0.000544592 135.47 1.93045e-06Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M26.6881 9.71813C28.3481 7.69813 27.9981 5.57812 27.9981 5.57812C27.9981 5.57812 25.6781 5.58813 23.9981 7.83813C22.5181 9.83813 22.8981 11.5381 22.8981 11.5381C22.8981 11.5381 24.9181 11.8881 26.6881 9.71813ZM29.8681 19.3181C29.8681 15.8381 32.6181 14.3981 32.6181 14.3981C32.6181 14.3981 31.2181 11.8081 27.6381 11.8081C25.5681 11.8081 23.9681 13.0081 23.1181 13.0081C22.1181 13.0081 20.6181 11.8781 18.6981 11.8781C15.7381 11.8781 12.5781 14.5781 12.5781 19.7381C12.5781 24.9781 16.3081 31.4981 19.2581 31.4981C20.2881 31.4981 21.8681 30.4381 23.4581 30.4381C25.0281 30.4381 26.1881 31.4581 27.6681 31.4581C30.8981 31.4581 33.2981 24.5881 33.2981 24.5881C33.2981 24.5881 29.8681 23.2381 29.8681 19.3181ZM45.9581 6.76813C46.5359 6.41639 47.2018 6.23606 47.8781 6.24813C49.1981 6.24813 50.0281 6.91812 50.0281 7.92812C50.0281 8.75812 49.4581 9.34812 48.6781 9.52812V9.54813C49.5581 9.64813 50.2581 10.2481 50.2581 11.1681C50.2581 12.6181 48.9081 13.1581 47.6781 13.1581C47.0281 13.1581 46.3381 13.0181 45.7981 12.6981L46.0881 11.7581C46.4081 11.9381 47.0481 12.1581 47.6281 12.1581C48.4881 12.1581 48.9881 11.7481 48.9881 11.1081C48.9881 10.2581 48.1381 10.0381 47.4081 10.0381H46.8881V9.12813H47.4081C48.1781 9.12813 48.7681 8.71812 48.7681 8.10812C48.7681 7.56812 48.3481 7.23812 47.6681 7.23812C47.1681 7.23812 46.6281 7.43812 46.2481 7.63812L45.9481 6.76813H45.9581ZM54.3881 13.0481L54.3081 12.5081H54.2781C53.9781 12.8881 53.4781 13.1581 52.8581 13.1581C51.8981 13.1581 51.3581 12.4581 51.3581 11.7181C51.3581 10.4981 52.4281 9.87813 54.1981 9.88813V9.80813C54.1981 9.48813 54.0681 8.96813 53.2281 8.96813C52.7481 8.96813 52.2581 9.10812 51.9281 9.31812L51.6981 8.52812C52.2263 8.23348 52.8235 8.08504 53.4281 8.09813C54.9681 8.09813 55.4081 9.07813 55.4081 10.1381V11.8781C55.4081 12.3181 55.4281 12.7481 55.4781 13.0481H54.3781H54.3881ZM54.2281 10.6881C53.3681 10.6681 52.5581 10.8481 52.5581 11.5881C52.5581 12.0581 52.8581 12.2881 53.2481 12.2881C53.7281 12.2881 54.0781 11.9681 54.1881 11.6181C54.2151 11.5307 54.2286 11.4396 54.2281 11.3481V10.6881ZM60.2281 8.20813V9.17813H58.2681V13.0481H57.0681V8.19812H60.2281V8.20813ZM61.3581 9.81812C61.3581 9.18812 61.3381 8.66813 61.3181 8.21813H62.3781L62.4381 8.95813H62.4581C62.8081 8.40813 63.3681 8.09813 64.0981 8.09813C65.1981 8.09813 66.1081 9.05812 66.1081 10.5681C66.1081 12.3081 65.0181 13.1581 63.9281 13.1581C63.3281 13.1581 62.8281 12.8981 62.5881 12.5081H62.5681V15.0081H61.3581V9.81812ZM62.5581 11.0181C62.5581 11.1381 62.5781 11.2481 62.6081 11.3581C62.7181 11.8581 63.1581 12.2081 63.6681 12.2081C64.4281 12.2081 64.8881 11.5681 64.8881 10.6081C64.8881 9.75812 64.4681 9.06812 63.6881 9.06812C63.1881 9.06812 62.7281 9.42813 62.6181 9.96813C62.5881 10.0681 62.5681 10.1681 62.5681 10.2681V11.0181H62.5581ZM68.0981 8.21813L68.9681 10.7981C69.0681 11.0981 69.1681 11.4681 69.2281 11.7481H69.2581L69.5181 10.7881L70.2581 8.20813H71.5581L70.3581 11.5081C69.6981 13.3081 69.2581 14.1081 68.6881 14.6081C68.2181 15.0381 67.7281 15.2081 67.4281 15.2381L67.1481 14.2081C67.3481 14.1581 67.6081 14.0481 67.8481 13.8681C68.0781 13.7181 68.3481 13.4281 68.5181 13.1081C68.5583 13.0413 68.5823 12.9659 68.5881 12.8881C68.5885 12.8044 68.5679 12.7218 68.5281 12.6481L66.7781 8.20813H68.0981V8.21813ZM73.1481 10.1681H73.7281C74.3881 10.1681 74.7681 9.89813 74.7681 9.54813C74.7681 9.20813 74.4481 8.96813 73.9081 8.96813C73.5081 8.96813 73.0581 9.10812 72.7281 9.31812L72.4681 8.58813C73.0117 8.26367 73.6351 8.09743 74.2681 8.10812C75.0681 8.10812 76.0481 8.42813 76.0481 9.38813C76.0481 10.0181 75.4981 10.3681 74.9981 10.4881V10.5081C75.6381 10.5781 76.2681 10.9581 76.2681 11.6781C76.2681 12.7981 75.0181 13.1481 74.0381 13.1481C73.4331 13.1535 72.8371 13.0019 72.3081 12.7081L72.5781 11.9381C72.9181 12.1181 73.4281 12.2581 73.9081 12.2581C74.5781 12.2581 74.9381 11.9881 74.9381 11.6081C74.9381 11.1081 74.4181 10.9381 73.7381 10.9381H73.1481V10.1681ZM78.7781 8.20813V9.94812C78.7781 10.7081 78.7481 11.2281 78.7081 11.9081H78.7381C78.9881 11.3381 79.1381 10.9781 79.3881 10.4781L80.5681 8.20813H82.0281V13.0481H80.8781V11.3181C80.8781 10.5481 80.9081 10.1881 80.9581 9.27812H80.9181C80.6881 9.84812 80.5181 10.1981 80.2881 10.6681L79.0681 13.0481H77.6281V8.19812H78.7781V8.20813ZM87.2181 8.20813V9.15812H85.7781V13.0481H84.5781V9.14812H83.1381V8.20813H87.2181ZM89.0481 10.9681C89.0781 11.8481 89.7481 12.2181 90.5181 12.2181C91.0881 12.2181 91.4881 12.1381 91.8481 12.0081L92.0281 12.8481C91.6081 13.0181 91.0481 13.1481 90.3581 13.1481C88.8081 13.1481 87.8881 12.1781 87.8881 10.6981C87.8881 9.36812 88.6881 8.09813 90.2281 8.09813C91.7781 8.09813 92.2881 9.39813 92.2881 10.4581C92.2881 10.6781 92.2681 10.8581 92.2481 10.9681H89.0481ZM91.1481 10.1181C91.1581 9.66813 90.9681 8.93812 90.1581 8.93812C89.4081 8.93812 89.0981 9.61812 89.0581 10.1181H91.1581H91.1481ZM96.0681 8.26813C96.6446 8.18733 97.226 8.14723 97.8081 8.14812C98.6081 8.14812 100.068 8.25812 100.068 9.36812C100.068 9.98812 99.5981 10.3381 99.0881 10.4481V10.4681C99.7881 10.5681 100.288 10.9681 100.288 11.6481C100.288 12.9781 98.5581 13.1081 97.5881 13.1081C96.9881 13.1081 96.3581 13.0681 96.0681 13.0381V8.26813ZM97.2381 12.3081C97.4381 12.3281 97.5781 12.3381 97.8281 12.3381C98.3781 12.3381 99.0481 12.1881 99.0481 11.6281C99.0481 11.0781 98.5181 10.8981 97.7581 10.8981H97.2381V12.3081ZM97.2481 10.1681H97.7481C98.3681 10.1681 98.8781 9.98812 98.8781 9.52812C98.8781 9.14812 98.5481 8.92813 97.8281 8.92813C97.5881 8.92813 97.4281 8.95812 97.2481 8.97812V10.1681ZM53.4181 30.1981H51.1581L49.9181 26.2281H45.6181L44.4481 30.1981H42.2481L46.5081 16.6981H49.1381L53.4181 30.1981ZM49.5481 24.5681L48.4281 21.0481C48.3181 20.6881 48.0881 19.8481 47.7681 18.5081H47.7281C47.5981 19.0781 47.3881 19.9281 47.0981 21.0481L45.9981 24.5681H49.5481ZM64.3681 25.2081C64.4473 26.634 63.9787 28.0363 63.0581 29.1281C62.6926 29.5428 62.2411 29.873 61.7352 30.0958C61.2292 30.3186 60.6809 30.4285 60.1281 30.4181C58.8681 30.4181 57.9681 29.9481 57.4281 29.0281H57.3781V34.1581H55.2581V23.6681C55.2581 22.6281 55.2381 21.5681 55.1781 20.4681H57.0481L57.1681 22.0081H57.2081C57.5337 21.4507 58.0063 20.9936 58.5742 20.6867C59.1421 20.3798 59.7835 20.235 60.4281 20.2681C60.9698 20.2619 61.5055 20.3815 61.9932 20.6175C62.4808 20.8535 62.9069 21.1994 63.2381 21.6281C63.9881 22.5281 64.3681 23.7281 64.3681 25.2081ZM62.2081 25.2881C62.2081 24.3381 62.0081 23.5581 61.5781 22.9481C61.3774 22.6458 61.1034 22.3993 60.7816 22.2314C60.4599 22.0636 60.1009 21.9799 59.7381 21.9881C59.2181 21.9881 58.7381 22.1681 58.3181 22.5181C57.8881 22.8681 57.6181 23.3381 57.4781 23.9081C57.4181 24.1781 57.3781 24.3981 57.3781 24.5681V26.1881C57.3781 26.8981 57.5981 27.4881 58.0181 27.9881C58.4481 28.4681 58.9981 28.7181 59.6781 28.7181C60.4781 28.7181 61.0981 28.3981 61.5481 27.7781C61.9881 27.1481 62.2081 26.3181 62.2081 25.2881ZM75.3381 25.2081C75.4173 26.634 74.9487 28.0363 74.0281 29.1281C73.663 29.5434 73.2117 29.8739 72.7056 30.0967C72.1995 30.3195 71.6509 30.4292 71.0981 30.4181C69.8481 30.4181 68.9381 29.9481 68.3981 29.0281H68.3481V34.1581H66.2281V23.6681C66.2281 22.6281 66.2081 21.5681 66.1581 20.4681H68.0181L68.1381 22.0081H68.1781C68.5028 21.45 68.9753 20.9922 69.5434 20.6852C70.1115 20.3782 70.7533 20.2339 71.3981 20.2681C71.9398 20.2619 72.4755 20.3815 72.9632 20.6175C73.4508 20.8535 73.8769 21.1994 74.2081 21.6281C74.9581 22.5281 75.3381 23.7281 75.3381 25.2081ZM73.1781 25.2881C73.1781 24.3381 72.9781 23.5581 72.5481 22.9481C72.3474 22.6458 72.0734 22.3993 71.7516 22.2314C71.4299 22.0636 71.0709 21.9799 70.7081 21.9881C70.1881 21.9881 69.7081 22.1681 69.2881 22.5181C68.8581 22.8681 68.5881 23.3381 68.4481 23.9081C68.3881 24.1781 68.3481 24.3981 68.3481 24.5681V26.1881C68.3481 26.8981 68.5681 27.4881 68.9881 27.9881C69.4181 28.4681 69.9681 28.7181 70.6481 28.7181C71.4481 28.7181 72.0681 28.3981 72.5081 27.7781C72.987 27.0389 73.2214 26.1678 73.1781 25.2881ZM87.6081 26.4081C87.6081 27.5581 87.2081 28.4881 86.4281 29.2081C85.4231 30.0482 84.1358 30.4737 82.8281 30.3981C81.6275 30.4565 80.4359 30.1647 79.3981 29.5581L79.8981 27.7581C80.8081 28.3181 81.8681 28.6181 82.9581 28.6081C83.7581 28.6081 84.3781 28.4281 84.8181 28.0581C85.2681 27.6981 85.4881 27.1981 85.4881 26.5881C85.4881 26.0381 85.3081 25.5881 84.9381 25.2081C84.408 24.7344 83.7846 24.3767 83.1081 24.1581C80.7981 23.2781 79.6381 21.9881 79.6381 20.2881C79.6381 19.1881 80.0381 18.2681 80.8581 17.5681C81.7684 16.8235 82.9238 16.4455 84.0981 16.5081C85.2981 16.5081 86.2981 16.7081 87.0981 17.1481L86.5681 18.9081C85.7922 18.4872 84.9208 18.2737 84.0381 18.2881C83.4049 18.2459 82.7792 18.4461 82.2881 18.8481C81.9381 19.1781 81.7581 19.5881 81.7581 20.0681C81.7581 20.5981 81.9581 21.0381 82.3581 21.3881C82.7181 21.7081 83.3581 22.0581 84.2881 22.4281C85.2444 22.771 86.1074 23.3326 86.8081 24.0681C87.3381 24.6981 87.6081 25.4681 87.6081 26.4081ZM94.6081 22.0881H92.2781V26.8081C92.2781 28.0081 92.6881 28.6081 93.5181 28.6081C93.8281 28.6181 94.1481 28.5881 94.4581 28.5081L94.5181 30.1581C93.9849 30.3265 93.4271 30.4043 92.8681 30.3881C92.0281 30.3881 91.3681 30.1281 90.9081 29.6081C90.4381 29.0881 90.1981 28.2181 90.1981 26.9881V22.0881H88.7981V20.4681H90.1981V18.6781L92.2781 18.0381V20.4681H94.6181V22.0881H94.6081ZM105.158 25.2481C105.21 26.5887 104.761 27.9006 103.898 28.9281C103.461 29.4197 102.921 29.8083 102.315 30.066C101.71 30.3236 101.055 30.4439 100.398 30.4181C98.9981 30.4181 97.8981 29.9381 97.0581 28.9881C96.2083 27.9932 95.7623 26.7158 95.8081 25.4081C95.8081 23.9081 96.2381 22.6681 97.0981 21.7081C97.5333 21.2282 98.069 20.8503 98.6671 20.6013C99.2653 20.3524 99.9109 20.2386 100.558 20.2681C101.958 20.2681 103.088 20.7381 103.938 21.6881C104.748 22.6081 105.158 23.7881 105.158 25.2481ZM102.958 25.3181C102.958 24.4181 102.768 23.6581 102.388 23.0181C101.948 22.2381 101.308 21.8481 100.488 21.8481C99.6281 21.8481 98.9881 22.2381 98.5381 23.0081C98.1387 23.7253 97.9417 24.5376 97.9681 25.3581C97.9681 26.2581 98.1681 27.0281 98.5381 27.6581C98.9981 28.4381 99.6381 28.8281 100.468 28.8281C101.268 28.8281 101.908 28.4281 102.368 27.6481C102.768 26.9881 102.958 26.2181 102.958 25.3181ZM112.048 22.3681C111.827 22.3274 111.603 22.3073 111.378 22.3081C110.628 22.3081 110.058 22.5881 109.648 23.1681C109.278 23.7383 109.093 24.4088 109.118 25.0881V30.1881H106.998L107.018 23.5281C107.018 22.4081 106.998 21.3881 106.938 20.4681H108.788L108.868 22.3281H108.918C109.148 21.6881 109.498 21.1681 109.978 20.7881C110.448 20.4381 110.968 20.2681 111.518 20.2681C111.718 20.2681 111.888 20.2781 112.048 20.3081V22.3681ZM121.518 24.8681C121.518 25.2581 121.498 25.5881 121.448 25.8481H115.088C115.108 26.8081 115.418 27.5481 116.008 28.0481C116.548 28.5081 117.238 28.7381 118.088 28.7381C119.028 28.7381 119.888 28.5781 120.658 28.2681L120.988 29.7681C120.088 30.1681 119.028 30.3681 117.788 30.3681C117.148 30.4039 116.507 30.3049 115.908 30.0776C115.309 29.8502 114.763 29.4995 114.308 29.0481C113.431 28.0685 112.978 26.7812 113.048 25.4681C113.048 24.0081 113.438 22.7781 114.218 21.8081C114.611 21.3012 115.118 20.8952 115.699 20.6238C116.28 20.3525 116.917 20.2237 117.558 20.2481C118.938 20.2481 119.978 20.7681 120.678 21.8081C121.238 22.6381 121.528 23.6581 121.528 24.8681H121.518ZM119.498 24.3081C119.518 23.6681 119.378 23.1081 119.098 22.6481C118.718 22.0481 118.158 21.7481 117.398 21.7481C117.065 21.7427 116.737 21.8203 116.442 21.9739C116.146 22.1276 115.894 22.3524 115.708 22.6281C115.349 23.1195 115.134 23.7013 115.088 24.3081H119.498Z" fill="white"/>\n</g>\n</g>\n<defs>\n<clipPath id="clip0_8924_153345">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n';function id(t){(0,e.qOq)(t,"svelte-7mfh4v",".alice-promo-standalone-mobile.svelte-7mfh4v{width:100%;display:flex;flex-direction:column;align-items:center;color:var(--black-color)}.alice-promo-standalone-mobile__title.svelte-7mfh4v{margin-top:8px;font-size:20px;font-weight:700}.alice-promo-standalone-mobile__subtitle.svelte-7mfh4v{margin-top:4px;color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone-store-link.svelte-7mfh4v{margin-top:16px;height:40px;display:block}.alice-promo-standalone-mobile__img_android.svelte-7mfh4v{margin-bottom:-24px;margin-top:12px;width:168px;display:block}.alice-promo-standalone__img_ios.svelte-7mfh4v{width:204px;height:198px;position:relative;display:flex;justify-content:center}.alice-promo-standalone-ios__inner.svelte-7mfh4v{margin-top:21px;width:160px;position:absolute;display:block}.alice-promo-standalone-ios__wrapper.svelte-7mfh4v{position:absolute;width:204px;height:391px;display:block}")}function od(t){let n,i,o,r,s,a;return{c(){n=(0,e.bGB)("a"),i=(0,e.DhX)(),o=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice-promo-standalone-store-link svelte-7mfh4v"),(0,e.Ljt)(n,"href",t[2]),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(o,"class","alice-promo-standalone-mobile__img_android svelte-7mfh4v"),(0,e.Jn4)(o.src,r=Zu.phoneAndroid)||(0,e.Ljt)(o,"src",r),(0,e.Ljt)(o,"alt","Смартфон")},m(r,l){(0,e.$Tr)(r,n,l),n.innerHTML=td,(0,e.$Tr)(r,i,l),(0,e.$Tr)(r,o,l),s||(a=(0,e.oLt)(n,"click",t[6]),s=!0)},p:e.ZTd,d(t){t&&((0,e.ogt)(n),(0,e.ogt)(i),(0,e.ogt)(o)),s=!1,a()}}}function rd(t){let n,i,o,r,s;return{c(){n=(0,e.bGB)("a"),i=(0,e.DhX)(),o=(0,e.bGB)("div"),o.innerHTML=`<img class="alice-promo-standalone-ios__inner svelte-7mfh4v" src="${Zu.phoneIosInner}" alt="Смартфон"/> <img class="alice-promo-standalone-ios__wrapper svelte-7mfh4v" src="${Zu.phoneIosWrapper}" alt="Смартфон"/>`,(0,e.Ljt)(n,"class","alice-promo-standalone-store-link svelte-7mfh4v"),(0,e.Ljt)(n,"href",t[1]),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(o,"class","alice-promo-standalone__img_ios svelte-7mfh4v")},m(a,l){(0,e.$Tr)(a,n,l),n.innerHTML=nd,(0,e.$Tr)(a,i,l),(0,e.$Tr)(a,o,l),r||(s=(0,e.oLt)(n,"click",t[5]),r=!0)},p:e.ZTd,d(t){t&&((0,e.ogt)(n),(0,e.ogt)(i),(0,e.ogt)(o)),r=!1,s()}}}function sd(t){let n,i,o,r,s,a,l,c=function(e,t){return"ios"===e[4]?rd:od}(t),u=c(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),r=(0,e.bGB)("div"),r.textContent=`${qu}`,s=(0,e.DhX)(),a=(0,e.bGB)("div"),a.textContent=`${Fu}`,l=(0,e.DhX)(),u.c(),(0,e.Ljt)(i,"class","alice-promo-standalone__app-icon"),(0,e.Ljt)(r,"class","alice-promo-standalone-mobile__title svelte-7mfh4v"),(0,e.Ljt)(a,"class","alice-promo-standalone-mobile__subtitle svelte-7mfh4v"),(0,e.Ljt)(n,"class","alice-promo-standalone-mobile svelte-7mfh4v"),(0,e.czc)(n,"--z-index",t[3]+1)},m(t,c){(0,e.$Tr)(t,n,c),(0,e.R3I)(n,i),i.innerHTML=Hu,(0,e.R3I)(n,o),(0,e.R3I)(n,r),(0,e.R3I)(n,s),(0,e.R3I)(n,a),(0,e.R3I)(n,l),u.m(n,null)},p(e,[t]){u.p(e,t)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),u.d()}}}function ad(e,n,i){let{outputBus:o}=n;const{promoUrlIos:r,promoUrlAndroid:s,baseZIndex:a,os:l}=(0,t.fw)(ue.f1);return(0,t.H3)((()=>{o.emit("stat",{path:"promo",eventType:"show"})})),e.$$set=e=>{"outputBus"in e&&i(0,o=e.outputBus)},[o,r,s,a,l,()=>{o.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:r||""}})},()=>{o.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:s||""}})}]}class ld extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ad,sd,e.N8,{outputBus:0},id)}}const cd=ld;var ud=s(9771);const dd=(0,Du.h)((e=>Promise.all([Promise.all([s.e(219),s.e(9)]).then(s.t.bind(s,9980,23)).then((e=>e.default)),Promise.all([s.e(219),s.e(9)]).then(s.bind(s,653)).then((e=>e.plugin)),Promise.all([s.e(219),s.e(9)]).then(s.bind(s,2450)).then((e=>e.default)),Promise.all([s.e(219),s.e(9)]).then(s.bind(s,1819))]).then((([t,n,i])=>{const o=new t({html:!1,linkify:!0,typographer:!0,breaks:!0}).enable(["table"]).disable(["image"]).use(n);return(t,n=!1)=>{if(0===(t=t.trim()).length)return i.fallback(t);let r;try{r=i.virtual(o.renderer,o.parse(t,{}),n)}catch(n){const o=n instanceof Error?n.message:"unknown";e.emit("errorThrown",Error(`Error while rendering markdown: ${o}`)),r=i.fallback(t)}return r}}))));function pd(e,t,n){const i=e.slice();return i[1]=t[n],i}function hd(t){let n,i,o=[],r=new Map,s=(0,e.NXn)(t[0].children);const a=e=>e[1].id;for(let e=0;e<s.length;e+=1){let n=pd(t,s,e),i=a(n);r.set(i,o[e]=fd(i,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=(0,e.cSb)()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);(0,e.$Tr)(t,n,r),i=!0},p(t,i){1&i&&(s=(0,e.NXn)(t[0].children),(0,e.dvw)(),o=(0,e.GQg)(o,i,a,1,t,s,r,n.parentNode,e.cly,fd,n,pd),(0,e.gbL)())},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,e.Ui)(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,e.etI)(o[t]);i=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<o.length;e+=1)o[e].d(t)}}}function gd(t){let n,i,o=t[0].html+"";return{c(){n=new e.FWw(!1),i=(0,e.cSb)(),n.a=i},m(t,r){n.m(o,t,r),(0,e.$Tr)(t,i,r)},p(e,t){1&t&&o!==(o=e[0].html+"")&&n.p(o)},i:e.ZTd,o:e.ZTd,d(t){t&&((0,e.ogt)(i),n.d())}}}function md(t){let n,i=t[0].text+"";return{c(){n=(0,e.fLW)(i)},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){1&o&&i!==(i=t[0].text+"")&&(0,e.rTO)(n,i)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function fd(t,n){let i,o,r;return o=new xd({props:{node:n[1]}}),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),r=!0},p(e,t){n=e;const i={};1&t&&(i.node=n[1]),o.$set(i)},i(t){r||((0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function vd(t){let n,i,o,r;const s=[md,gd,hd],a=[];function l(e,t){return e[0].text?0:e[0].html?1:e[0].children?2:-1}~(i=l(t))&&(o=a[i]=s[i](t));let c=[t[0].attrs],u={};for(let t=0;t<c.length;t+=1)u=(0,e.f0i)(u,c[t]);return{c(){n=(0,e.bGB)(t[0].tag),o&&o.c(),(0,e.Kp5)(t[0].tag)(n,u)},m(t,o){(0,e.$Tr)(t,n,o),~i&&a[i].m(n,null),r=!0},p(t,r){let d=i;i=l(t),i===d?~i&&a[i].p(t,r):(o&&((0,e.dvw)(),(0,e.etI)(a[d],1,1,(()=>{a[d]=null})),(0,e.gbL)()),~i?(o=a[i],o?o.p(t,r):(o=a[i]=s[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,null)):o=null),(0,e.Kp5)(t[0].tag)(n,u=(0,e.LoY)(c,[1&r&&t[0].attrs]))},i(t){r||((0,e.Ui)(o),r=!0)},o(t){(0,e.etI)(o),r=!1},d(t){t&&(0,e.ogt)(n),~i&&a[i].d()}}}function _d(t){let n,i,o=t[0].tag,r=t[0].tag&&vd(t);return{c(){r&&r.c(),n=(0,e.cSb)()},m(t,i){r&&r.m(t,i),(0,e.$Tr)(t,n,i)},p(t,i){t[0].tag?o?(0,e.N8)(o,t[0].tag)?(r.d(1),r=vd(t),o=t[0].tag,r.c(),r.m(n.parentNode,n)):r.p(t,i):(r=vd(t),o=t[0].tag,r.c(),r.m(n.parentNode,n)):o&&(r.d(1),r=null,o=t[0].tag)},i:e.ZTd,o(t){(0,e.etI)(r,t),i=!1},d(t){t&&(0,e.ogt)(n),r&&r.d(t)}}}function bd(t){let n,i,o=t[0].id,r=_d(t);return{c(){r.c(),n=(0,e.cSb)()},m(t,o){r.m(t,o),(0,e.$Tr)(t,n,o),i=!0},p(t,[i]){1&i&&(0,e.N8)(o,o=t[0].id)?((0,e.dvw)(),(0,e.etI)(r,1,1,e.ZTd),(0,e.gbL)(),r=_d(t),r.c(),(0,e.Ui)(r,1),r.m(n.parentNode,n)):r.p(t,i)},i(t){i||((0,e.Ui)(r),i=!0)},o(t){(0,e.etI)(r),i=!1},d(t){t&&(0,e.ogt)(n),r.d(t)}}}function yd(e,t,n){let{node:i}=t;return e.$$set=e=>{"node"in e&&n(0,i=e.node)},[i]}class xd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,yd,bd,e.N8,{node:0})}}const wd=xd;function kd(t){(0,e.qOq)(t,"svelte-1tgrz08","\n            .markdown-text h1,\n            .markdown-text h2,\n            .markdown-text h3,\n            .markdown-text h4,\n            .markdown-text h5,\n            .markdown-text h6,\n            .markdown-text p,\n            .markdown-text blockquote,\n            .markdown-text ul,\n            .markdown-text ol,\n            .markdown-text pre\n        {padding:0;margin:0}.markdown-text h1, .markdown-text h2, .markdown-text h3, .markdown-text h4{font-family:'YS Display', 'YS Text', 'Helvetica Neue', Arial, sans-serif}.markdown-text h5, .markdown-text h6, .markdown-text p{font-family:'YS Text', 'Helvetica Neue', Arial, sans-serif}.markdown-text h1, .markdown-text h2{font-weight:900}.markdown-text h3, .markdown-text h4, .markdown-text h5, .markdown-text h6{font-weight:700}.markdown-text h1{font-size:32px;line-height:38px;margin-bottom:10px;padding-top:10px}.markdown-text h2{font-size:28px;line-height:34px;margin-bottom:10px;padding-top:10px}.markdown-text h3{font-size:24px;line-height:30px;padding-top:8px;margin-bottom:8px}.markdown-text h4{font-size:20px;line-height:28px;padding-top:6px;margin-bottom:6px}.markdown-text h5{font-size:18px;line-height:24px;padding-top:6px;margin-bottom:6px}.markdown-text h6{font-size:16px;line-height:22px;padding-top:4px;margin-bottom:4px}.markdown-text p{font-size:inherit;margin-bottom:16px;line-height:1.5;word-wrap:break-all}.markdown-text a{color:var(--brand-color);text-decoration:none}.markdown-text a:hover{color:var(--link-hover-color)}.markdown-text p:last-child{margin-bottom:0}.markdown-text li{font-size:inherit;margin-bottom:6px;line-height:1.5}.markdown-text li p{display:inline}.markdown-text ul{margin:4px 16px 0}.markdown-text ol{margin-top:4px;list-style-position:inside}.markdown-text > ul, .markdown-text > ol{margin-bottom:20px}\n            .markdown-text p + ol,\n            .markdown-text p + ul,\n            .markdown-text > ol + ol,\n            .markdown-text > ol + ul,\n            .markdown-text > ul + ol,\n            .markdown-text > ul + ul\n        {margin-top:-10px}.markdown-text blockquote{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06)}.markdown-text > blockquote{margin-bottom:16px}.markdown-text table{font-size:inherit;line-height:1.5;border-collapse:collapse;text-align:left;margin-bottom:16px;max-width:100%;display:block}.markdown-text th{background-color:rgba(0, 0, 0, 0.06)}.markdown-text td, .markdown-text th{padding:8px;vertical-align:middle}.markdown-text tr:hover{background-color:rgba(0, 0, 0, 0.06)}.markdown-text pre{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06);margin-bottom:16px}.markdown-text pre, .markdown-text table{overflow-x:auto}@supports selector(::-webkit-scrollbar){.markdown-text_default pre::-webkit-scrollbar, .markdown-text_default table::-webkit-scrollbar{height:12px}\n                .markdown-text_default.markdown-text_mobile pre::-webkit-scrollbar,\n                .markdown-text_default.markdown-text_mobile table::-webkit-scrollbar\n            {display:none}\n                .markdown-text_default pre::-webkit-scrollbar-track,\n                .markdown-text_default table::-webkit-scrollbar-track\n            {background:transparent}\n                .markdown-text_default pre::-webkit-scrollbar-thumb,\n                .markdown-text_default table::-webkit-scrollbar-thumb\n            {background-color:rgba(0, 0, 0, 0.15);border:4px solid transparent;background-clip:padding-box;-webkit-transition:background 0.15s ease-out;transition:background 0.15s ease-out;border-radius:10px}\n                .markdown-text_default pre::-webkit-scrollbar-thumb:hover,\n                .markdown-text_default table::-webkit-scrollbar-thumb:hover\n            {border-width:2px;background-color:rgba(0, 0, 0, 0.2)}}@supports not selector(::-webkit-scrollbar){.markdown-text_default pre, .markdown-text_default table{scrollbar-width:thin;scrollbar-color:rgba(0, 0, 0, 0.15) transparent}.markdown-text_default.markdown-text_mobile pre, .markdown-text_default.markdown-text_mobile table{scrollbar-width:none}}.markdown-text_mobile pre::-webkit-scrollbar, .markdown-text_mobile table::-webkit-scrollbar{display:none}.markdown-text_mobile pre, .markdown-text_mobile table{-ms-overflow-style:none;scrollbar-width:none}.markdown-text code{font-family:monospace;font-size:inherit;line-height:1.5}\n            .markdown-text h1:last-child,\n            .markdown-text h2:last-child,\n            .markdown-text h3:last-child,\n            .markdown-text h4:last-child,\n            .markdown-text h5:last-child,\n            .markdown-text h6:last-child,\n            .markdown-text p:last-child,\n            .markdown-text blockquote:last-child,\n            .markdown-text ul:last-child,\n            .markdown-text ol:last-child,\n            .markdown-text pre:last-child,\n            .markdown-text table:last-child\n        {margin-bottom:0}\n            .markdown-text_standalone h1,\n            .markdown-text_standalone h2,\n            .markdown-text_standalone h3,\n            .markdown-text_standalone h4\n        {font-family:'YS Text', 'Helvetica Neue', Arial, sans-serif}\n            .markdown-text_standalone p,\n            .markdown-text_standalone li,\n            .markdown-text_standalone blockquote,\n            .markdown-text_standalone table,\n            .markdown-text_standalone pre,\n            .markdown-text_standalone code\n        {font-size:inherit;line-height:inherit}.markdown-text_standalone_mobile p{margin-bottom:12px}.markdown-text_standalone h1, .markdown-text_standalone h2{font-weight:700}.markdown-text_standalone h5, .markdown-text_standalone h6{font-weight:500}.markdown-text_standalone h1{font-size:28px;line-height:32px}.markdown-text_standalone h2{font-size:24px;line-height:38px}.markdown-text_standalone h3{font-size:20px;line-height:24px}.markdown-text_standalone h4{font-size:18px;line-height:20px}.markdown-text_standalone h5{font-size:16px;line-height:20px}.markdown-text_standalone h6{font-size:14px;line-height:20px;color:var(--text-secondary-color)}\n            .markdown-text_standalone p + ol,\n            .markdown-text_standalone p + ul,\n            .markdown-text_standalone > ol + ol,\n            .markdown-text_standalone > ol + ul,\n            .markdown-text_standalone > ul + ol,\n            .markdown-text_standalone > ul + ul\n        {margin-top:0}.markdown-text_standalone ul{list-style-type:disc}.markdown-text_standalone ol{list-style-position:outside}.markdown-text_standalone > ol, .markdown-text_standalone > ul{margin:0 24px}.markdown-text_standalone_mobile > ol, .markdown-text_standalone_mobile > ul{margin:0 16px}.markdown-text_standalone li{margin:12px 0}.markdown-text_standalone_mobile li{margin:8px 0}.markdown-text_standalone li::marker{color:var(--text-secondary-color)}.markdown-text_standalone blockquote{background-color:var(--brand-opacity-12-color);border-radius:8px}.markdown-text_standalone table{border-radius:8px;border:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone th{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone tr{border-top:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone tr:hover{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone pre{background-color:var(--code-bg-color);color:var(--white-color-opacity-80);border-radius:8px;padding:12px 16px}.markdown-text_standalone code{font-family:inherit}.markdown-text_standalone pre, .markdown-text_standalone table{overflow-x:auto}@supports selector(::-webkit-scrollbar){.markdown-text_standalone pre::-webkit-scrollbar, .markdown-text_standalone table::-webkit-scrollbar{height:16px}\n                .markdown-text_standalone.markdown-text_mobile pre::-webkit-scrollbar,\n                .markdown-text_standalone.markdown-text_mobile table::-webkit-scrollbar\n            {display:none}\n                .markdown-text_standalone pre::-webkit-scrollbar-track,\n                .markdown-text_standalone table::-webkit-scrollbar-track\n            {background-color:var(--white-color-opacity-8);background-clip:content-box;-webkit-transition:background-color 0.15s ease-out;transition:background-color 0.15s ease-out;border-style:solid;border-color:var(--transparent-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}\n                .markdown-text_standalone pre::-webkit-scrollbar-track:hover,\n                .markdown-text_standalone table::-webkit-scrollbar-track:hover\n            {background-color:var(--white-color-opacity-16)}\n                .markdown-text_standalone pre::-webkit-scrollbar-thumb,\n                .markdown-text_standalone table::-webkit-scrollbar-thumb\n            {background-color:var(--white-color-opacity-80);background-clip:content-box;-webkit-transition:background-color 0.15s ease-out;transition:background-color 0.15s ease-out;border-style:solid;border-color:var(--transparent-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}\n                .markdown-text_standalone pre::-webkit-scrollbar-thumb:hover,\n                .markdown-text_standalone table::-webkit-scrollbar-thumb:hover\n            {background-color:var(--white-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}}@supports not selector(::-webkit-scrollbar){.markdown-text_standalone pre, .markdown-text_standalone table{scrollbar-width:thin;scrollbar-color:var(--white-color-opacity-80) var(--white-color-opacity-8)}\n                .markdown-text_standalone.markdown-text_mobile pre,\n                .markdown-text_standalone.markdown-text_mobile table\n            {scrollbar-width:none}}\n            .markdown-text_standalone h1:last-child,\n            .markdown-text_standalone h2:last-child,\n            .markdown-text_standalone h3:last-child,\n            .markdown-text_standalone h4:last-child,\n            .markdown-text_standalone h5:last-child,\n            .markdown-text_standalone h6:last-child,\n            .markdown-text_standalone p:last-child,\n            .markdown-text_standalone blockquote:last-child,\n            .markdown-text_standalone ul:last-child,\n            .markdown-text_standalone ol:last-child,\n            .markdown-text_standalone pre:last-child,\n            .markdown-text_standalone table:last-child\n        {margin-bottom:0}")}function $d(e,t,n){const i=e.slice();return i[5]=t[n],i}function Cd(t,n){let i,o,r;return o=new wd({props:{node:n[5]}}),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),r=!0},p(e,t){n=e;const i={};1&t&&(i.node=n[5]),o.$set(i)},i(t){r||((0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function Id(t){let n,i,o=[],r=new Map,s=(0,e.NXn)(t[0]);const a=e=>e[5].id;for(let e=0;e<s.length;e+=1){let n=$d(t,s,e),i=a(n);r.set(i,o[e]=Cd(i,n))}return{c(){n=(0,e.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,e.Ljt)(n,"class","markdown-text"),(0,e.VHj)(n,"markdown-text_standalone",!1),(0,e.VHj)(n,"markdown-text_default",!0),(0,e.VHj)(n,"markdown-text_mobile",t[1]),(0,e.VHj)(n,"markdown-text_standalone_mobile",!1)},m(t,r){(0,e.$Tr)(t,n,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null);i=!0},p(t,[l]){1&l&&(s=(0,e.NXn)(t[0]),(0,e.dvw)(),o=(0,e.GQg)(o,l,a,1,t,s,r,n,e.cly,Cd,null,$d),(0,e.gbL)()),(!i||0&l)&&(0,e.VHj)(n,"markdown-text_standalone",!1),(!i||0&l)&&(0,e.VHj)(n,"markdown-text_default",!0),(!i||2&l)&&(0,e.VHj)(n,"markdown-text_standalone_mobile",!1)},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,e.Ui)(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,e.etI)(o[t]);i=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<o.length;e+=1)o[e].d()}}}function Md(e,n,i){let o,{markdown:r}=n,{useAnimation:s}=n,{text:a}=n;const{isMobile:l}=(0,t.fw)(ue.f1);return e.$$set=e=>{"markdown"in e&&i(2,r=e.markdown),"useAnimation"in e&&i(3,s=e.useAnimation),"text"in e&&i(4,a=e.text)},e.$$.update=()=>{28&e.$$.dirty&&i(0,o=r?r(a,s):(0,ud.t)(a))},[o,l,r,s,a]}class jd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Md,Id,e.N8,{markdown:2,useAnimation:3,text:4},kd)}}const Sd=jd;function Td(t){let n;return{c(){n=(0,e.fLW)(t[3])},m(t,i){(0,e.$Tr)(t,n,i)},p(t,i){8&i&&(0,e.rTO)(n,t[3])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Ed(t){let n,i;return n=new Sd({props:{text:t[3],markdown:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};8&t&&(i.text=e[3]),2&t&&(i.markdown=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Ld(t){let n,i,o,r,s,a,l;const c=[Ed,Td],u=[];function d(e,t){return e[2]?0:1}return r=d(t),s=u[r]=c[r](t),{c(){n=(0,e.bGB)("div"),o=(0,e.DhX)(),s.c(),a=(0,e.cSb)(),(0,e.Ljt)(n,"data-id",i=t[0].id)},m(t,i){(0,e.$Tr)(t,n,i),(0,e.$Tr)(t,o,i),u[r].m(t,i),(0,e.$Tr)(t,a,i),l=!0},p(t,[o]){(!l||1&o&&i!==(i=t[0].id))&&(0,e.Ljt)(n,"data-id",i);let p=r;r=d(t),r===p?u[r].p(t,o):((0,e.dvw)(),(0,e.etI)(u[p],1,1,(()=>{u[p]=null})),(0,e.gbL)(),s=u[r],s?s.p(t,o):(s=u[r]=c[r](t),s.c()),(0,e.Ui)(s,1),s.m(a.parentNode,a))},i(t){l||((0,e.Ui)(s),l=!0)},o(t){(0,e.etI)(s),l=!1},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(o),(0,e.ogt)(a)),u[r].d(t)}}}function Dd(e,t,n){let i,{bubble:o}=t,{markdown:r}=t,{useMarkdown:s=!1}=t;return e.$$set=e=>{"bubble"in e&&n(0,o=e.bubble),"markdown"in e&&n(1,r=e.markdown),"useMarkdown"in e&&n(2,s=e.useMarkdown)},e.$$.update=()=>{1&e.$$.dirty&&n(3,i=o.text)},[o,r,s,i]}class zd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Dd,Ld,e.N8,{bubble:0,markdown:1,useMarkdown:2})}}const Od=zd;function Ad(t){(0,e.qOq)(t,"svelte-zc1k3s",".message-button.svelte-zc1k3s{border:none;margin:12px 0 0;padding:9px 13px 11px;border-radius:8px;background-color:var(--white-color);cursor:pointer;font-size:14px;font-weight:500;line-height:16px;color:var(--black-color)}.message-button.svelte-zc1k3s:hover{color:var(--brand-color)}")}function Nd(t){let n,i,o,r;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)(t[0]),(0,e.Ljt)(n,"class","message-button svelte-zc1k3s")},m(s,a){(0,e.$Tr)(s,n,a),(0,e.R3I)(n,i),o||(r=[(0,e.oLt)(n,"click",(0,e.XET)(t[1])),(0,e.oLt)(n,"click",t[4])],o=!0)},p(t,[n]){1&n&&(0,e.rTO)(i,t[0])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,(0,e.j7q)(r)}}}function Rd(n,i,o){let{title:r}=i,{directives:s}=i,{requestId:a}=i;const{outputBus:l}=(0,t.fw)(ue.f1);return n.$$set=e=>{"title"in e&&o(0,r=e.title),"directives"in e&&o(2,s=e.directives),"requestId"in e&&o(3,a=e.requestId)},[r,()=>{zu.ZP.executeDirectives(s,{isUserEvent:!0}),l.emit("stat",{path:"message_button",eventType:"click",customParams:{title:r,requestId:a||""}})},s,a,function(t){e.cKT.call(this,n,t)}]}class Bd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Rd,Nd,e.N8,{title:0,directives:2,requestId:3},Ad)}}const Pd=Bd;function Hd(t){(0,e.qOq)(t,"svelte-1ly8rux",".context-menu-item.svelte-1ly8rux{margin:0 4px;box-sizing:border-box;width:167px;padding:10px 12px;border-radius:8px;display:flex;justify-content:flex-start;align-items:center;gap:8px;cursor:pointer;overflow:hidden;white-space:nowrap;transition:width 200ms ease-out;line-height:1;text-decoration:none;color:var(--text-primary-color)}.context-menu-item_size_normal.svelte-1ly8rux{height:40px}.context-menu-item_size_big.svelte-1ly8rux{height:46px}.context-menu-item_collapsed.svelte-1ly8rux{width:40px;transition-timing-function:ease-in}.context-menu-item.svelte-1ly8rux:hover{background-color:var(--menu-item-pressed-color)}.context-menu-item__icon.svelte-1ly8rux{width:16px;height:16px}.context-menu-item__text.svelte-1ly8rux{font-size:14px;font-weight:500;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}")}function Ud(t){let n,i;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","context-menu-item__icon svelte-1ly8rux"),(0,e.Jn4)(n.src,i=t[2])||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt",t[0])},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){4&o&&!(0,e.Jn4)(n.src,i=t[2])&&(0,e.Ljt)(n,"src",i),1&o&&(0,e.Ljt)(n,"alt",t[0])},d(t){t&&(0,e.ogt)(n)}}}function Vd(t){let n;return{c(){n=(0,e.bGB)("span"),(0,e.Ljt)(n,"class","context-menu-item__icon svelte-1ly8rux")},m(i,o){(0,e.$Tr)(i,n,o),n.innerHTML=t[1]},p(e,t){2&t&&(n.innerHTML=e[1])},d(t){t&&(0,e.ogt)(n)}}}function Gd(t){let n,i;return{c(){n=(0,e.bGB)("span"),i=(0,e.fLW)(t[0]),(0,e.Ljt)(n,"class","context-menu-item__text svelte-1ly8rux")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){1&n&&(0,e.rTO)(i,t[0])},d(t){t&&(0,e.ogt)(n)}}}function qd(t){let n,i,o,r,s,a;function l(e,t){return e[1]?Vd:e[2]?Ud:void 0}let c=l(t),u=c&&c(t),d=!t[3]&&Gd(t),p=[{role:o="a"===t[7]?"link":"button"},t[6],{class:r="context-menu-item context-menu-item_size_"+t[5]}],h={};for(let t=0;t<p.length;t+=1)h=(0,e.f0i)(h,p[t]);return{c(){n=(0,e.bGB)(t[7]),u&&u.c(),i=(0,e.DhX)(),d&&d.c(),(0,e.Kp5)(t[7])(n,h),(0,e.VHj)(n,"context-menu-item_collapsed",t[3]),(0,e.VHj)(n,"svelte-1ly8rux",!0)},m(o,r){(0,e.$Tr)(o,n,r),u&&u.m(n,null),(0,e.R3I)(n,i),d&&d.m(n,null),s||(a=(0,e.oLt)(n,"click",(function(){(0,e.sBU)(t[4])&&t[4].apply(this,arguments)})),s=!0)},p(s,a){c===(c=l(t=s))&&u?u.p(t,a):(u&&u.d(1),u=c&&c(t),u&&(u.c(),u.m(n,i))),t[3]?d&&(d.d(1),d=null):d?d.p(t,a):(d=Gd(t),d.c(),d.m(n,null)),(0,e.Kp5)(t[7])(n,h=(0,e.LoY)(p,[128&a&&o!==(o="a"===t[7]?"link":"button")&&{role:o},64&a&&t[6],32&a&&r!==(r="context-menu-item context-menu-item_size_"+t[5])&&{class:r}])),(0,e.VHj)(n,"context-menu-item_collapsed",t[3]),(0,e.VHj)(n,"svelte-1ly8rux",!0)},d(t){t&&(0,e.ogt)(n),u&&u.d(),d&&d.d(),s=!1,a()}}}function Fd(t){let n,i=t[7],o=t[7]&&qd(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,i){o&&o.m(t,i),(0,e.$Tr)(t,n,i)},p(t,[r]){t[7]?i?(0,e.N8)(i,t[7])?(o.d(1),o=qd(t),i=t[7],o.c(),o.m(n.parentNode,n)):o.p(t,r):(o=qd(t),i=t[7],o.c(),o.m(n.parentNode,n)):i&&(o.d(1),o=null,i=t[7])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),o&&o.d(t)}}}function Zd(e,t,n){let i,o,{text:r}=t,{icon:s}=t,{iconLink:a}=t,{href:l}=t,{target:c="_blank"}=t,{collapsed:u=!1}=t,{onClick:d=L.Z}=t,{size:p}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text),"icon"in e&&n(1,s=e.icon),"iconLink"in e&&n(2,a=e.iconLink),"href"in e&&n(8,l=e.href),"target"in e&&n(9,c=e.target),"collapsed"in e&&n(3,u=e.collapsed),"onClick"in e&&n(4,d=e.onClick),"size"in e&&n(5,p=e.size)},e.$$.update=()=>{256&e.$$.dirty&&n(7,i=l?"a":"div"),768&e.$$.dirty&&n(6,o=l?{href:l,target:c,rel:"noopener"}:{role:"button"})},[r,s,a,u,d,p,o,i,l,c]}class Yd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Zd,Fd,e.N8,{text:0,icon:1,iconLink:2,href:8,target:9,collapsed:3,onClick:4,size:5},Hd)}}const Wd=Yd,Xd=e=>e.hasOwnProperty("title"),Kd=24;function Qd(t){(0,e.qOq)(t,"svelte-kopuae",".standalone-menu.svelte-kopuae{display:flex;flex-direction:column;gap:4px;box-shadow:0 4px var(--shadow-blur) 0 var(--box-shadow-color);background-color:var(--menu-bg-color);border-radius:12px;padding:4px 0}.standalone-menu__title.svelte-kopuae{width:143px;height:16px;padding:12px 16px 4px;border-top:1px solid var(--border-color);font-size:13px;line-height:16px;overflow:hidden;white-space:nowrap;color:var(--text-secondary-color);transition-duration:200ms;transition-timing-function:ease-out;transition-property:width, padding}.standalone-menu__title_collapsed.svelte-kopuae{width:16px;height:0;padding-top:0;padding-bottom:0;transition-timing-function:ease-in}")}function Jd(e,t,n){const i=e.slice();return i[6]=t[n],i}function ep(t){let n,i;const o=[t[6],{collapsed:t[1]},{size:t[2]}];let r={};for(let t=0;t<o.length;t+=1)r=(0,e.f0i)(r,o[t]);return n=new Wd({props:r}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(t,i){const r=7&i?(0,e.LoY)(o,[1&i&&(0,e.gCg)(t[6]),2&i&&{collapsed:t[1]},4&i&&{size:t[2]}]):{};n.$set(r)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function tp(t){let n,i,o=!t[1]&&np(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),i=(0,e.DhX)(),(0,e.Ljt)(n,"class","standalone-menu__title svelte-kopuae"),(0,e.VHj)(n,"standalone-menu__title_collapsed",t[1])},m(t,r){(0,e.$Tr)(t,n,r),o&&o.m(n,null),(0,e.R3I)(n,i)},p(t,r){t[1]?o&&(o.d(1),o=null):o?o.p(t,r):(o=np(t),o.c(),o.m(n,i)),2&r&&(0,e.VHj)(n,"standalone-menu__title_collapsed",t[1])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),o&&o.d()}}}function np(t){let n,i=t[6].title+"";return{c(){n=(0,e.fLW)(i)},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){1&o&&i!==(i=t[6].title+"")&&(0,e.rTO)(n,i)},d(t){t&&(0,e.ogt)(n)}}}function ip(t){let n,i,o,r,s;const a=[tp,ep],l=[];function c(e,t){return 1&t&&(n=null),null==n&&(n=!!Xd(e[6])),n?0:1}return i=c(t,-1),o=l[i]=a[i](t),{c(){o.c(),r=(0,e.cSb)()},m(t,n){l[i].m(t,n),(0,e.$Tr)(t,r,n),s=!0},p(t,n){let s=i;i=c(t,n),i===s?l[i].p(t,n):((0,e.dvw)(),(0,e.etI)(l[s],1,1,(()=>{l[s]=null})),(0,e.gbL)(),o=l[i],o?o.p(t,n):(o=l[i]=a[i](t),o.c()),(0,e.Ui)(o,1),o.m(r.parentNode,r))},i(t){s||((0,e.Ui)(o),s=!0)},o(t){(0,e.etI)(o),s=!1},d(t){t&&(0,e.ogt)(r),l[i].d(t)}}}function op(t){let n,i,o,r,s,a=`${Kd}px`;const l=t[5].default,c=(0,e.nuO)(l,t,t[4],null);let u=(0,e.NXn)(t[0]),d=[];for(let e=0;e<u.length;e+=1)d[e]=ip(Jd(t,u,e));const p=t=>(0,e.etI)(d[t],1,1,(()=>{d[t]=null}));return{c(){n=(0,e.bGB)("div"),c&&c.c(),i=(0,e.DhX)();for(let e=0;e<d.length;e+=1)d[e].c();(0,e.Ljt)(n,"class","standalone-menu svelte-kopuae"),(0,e.czc)(n,"--shadow-blur",a)},m(t,o){(0,e.$Tr)(t,n,o),c&&c.m(n,null),(0,e.R3I)(n,i);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(n,null);s=!0},p(i,[o]){if(t=i,c&&c.p&&(!s||16&o)&&(0,e.kmG)(c,l,t,t[4],s?(0,e.u2N)(l,t[4],o,null):(0,e.VOJ)(t[4]),null),7&o){let i;for(u=(0,e.NXn)(t[0]),i=0;i<u.length;i+=1){const r=Jd(t,u,i);d[i]?(d[i].p(r,o),(0,e.Ui)(d[i],1)):(d[i]=ip(r),d[i].c(),(0,e.Ui)(d[i],1),d[i].m(n,null))}for((0,e.dvw)(),i=u.length;i<d.length;i+=1)p(i);(0,e.gbL)()}},i(i){if(!s){(0,e.Ui)(c,i);for(let t=0;t<u.length;t+=1)(0,e.Ui)(d[t]);(0,e.P$F)((()=>{s&&(r&&r.end(1),o=(0,e.HCz)(n,Pu,{delay:t[3],duration:200,easing:Ru}),o.start())})),s=!0}},o(t){(0,e.etI)(c,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)(0,e.etI)(d[t]);o&&o.invalidate(),t&&(r=(0,e.eZl)(n,Pu,{duration:200,easing:Bu})),s=!1},d(t){t&&(0,e.ogt)(n),c&&c.d(t),(0,e.RMB)(d,t),t&&r&&r.end()}}}function rp(e,t,n){let{$$slots:i={},$$scope:o}=t,{items:r}=t,{collapsed:s=!1}=t,{size:a="normal"}=t,{inDelay:l=0}=t;return e.$$set=e=>{"items"in e&&n(0,r=e.items),"collapsed"in e&&n(1,s=e.collapsed),"size"in e&&n(2,a=e.size),"inDelay"in e&&n(3,l=e.inDelay),"$$scope"in e&&n(4,o=e.$$scope)},[r,s,a,l,o,i]}class sp extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,rp,op,e.N8,{items:0,collapsed:1,size:2,inDelay:3},Qd)}}const ap=sp,lp='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.33333 3.33333H6.66667H10.5301C11.273 3.33333 11.5424 3.41069 11.814 3.55594C12.0856 3.7012 12.2988 3.91436 12.4441 4.18596C12.5893 4.45757 12.6667 4.72697 12.6667 5.4699V10.6667C12.6667 11.0349 12.9651 11.3333 13.3333 11.3333C13.7015 11.3333 14 11.0349 14 10.6667V5.41851C14 4.22982 13.8762 3.79877 13.6438 3.36421C13.4114 2.92964 13.0704 2.58859 12.6358 2.35618C12.2012 2.12377 11.7702 2 10.5815 2H6.66667H5.33333C4.96514 2 4.66667 2.29848 4.66667 2.66667C4.66667 3.03486 4.96514 3.33333 5.33333 3.33333ZM4.13657 4.66667C3.54858 4.66667 3.20833 4.69905 2.85263 4.88928C2.58102 5.03453 2.36787 5.24769 2.22261 5.5193C2.03238 5.87499 2 6.21525 2 6.80324V11.8634C2 12.4514 2.03238 12.7917 2.22261 13.1474C2.36787 13.419 2.58102 13.6321 2.85263 13.7774C3.20833 13.9676 3.54858 14 4.13657 14H9.19676C9.78475 14 10.125 13.9676 10.4807 13.7774C10.7523 13.6321 10.9655 13.419 11.1107 13.1474C11.301 12.7917 11.3333 12.4514 11.3333 11.8634V6.80324C11.3333 6.21525 11.301 5.87499 11.1107 5.5193C10.9655 5.24769 10.7523 5.03453 10.4807 4.88928C10.125 4.69905 9.78475 4.66667 9.19676 4.66667H4.13657ZM3.48143 6.06503C3.51496 6.04709 3.5416 6.03516 3.61275 6.02408C3.70471 6.00975 3.85456 6 4.13657 6H9.19676C9.47877 6 9.62862 6.00975 9.72059 6.02408C9.79173 6.03516 9.81837 6.04709 9.85191 6.06503C9.89115 6.08602 9.91398 6.10885 9.93497 6.14809C9.95291 6.18163 9.96484 6.20827 9.97592 6.27941C9.99025 6.37138 10 6.52123 10 6.80324V11.8634C10 12.1454 9.99025 12.2953 9.97592 12.3873C9.96484 12.4584 9.95291 12.485 9.93497 12.5186C9.91398 12.5578 9.89115 12.5806 9.85191 12.6016C9.81837 12.6196 9.79173 12.6315 9.72059 12.6426C9.62862 12.6569 9.47877 12.6667 9.19676 12.6667H4.13657C3.85456 12.6667 3.70471 12.6569 3.61275 12.6426C3.5416 12.6315 3.51496 12.6196 3.48143 12.6016C3.44218 12.5807 3.41935 12.5578 3.39836 12.5186C3.38043 12.485 3.36849 12.4584 3.35741 12.3873C3.34308 12.2953 3.33333 12.1454 3.33333 11.8634V6.80324C3.33333 6.52123 3.34308 6.37138 3.35741 6.27941C3.36849 6.20827 3.38043 6.18163 3.39836 6.14809C3.41935 6.10885 3.44218 6.08602 3.48143 6.06503Z" fill="#919CB5"/>\n</svg>',cp='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8 2C8.41421 2 8.75 2.33579 8.75 2.75V7.24999H13.25C13.6642 7.24999 14 7.58578 14 7.99999C14 8.41421 13.6642 8.74999 13.25 8.74999H8.75V13.25C8.75 13.6642 8.41421 14 8 14C7.58578 14 7.25 13.6642 7.25 13.25V8.74999L2.75 8.75001C2.33579 8.75001 2 8.41422 2 8.00001C2 7.58579 2.33579 7.25001 2.75 7.25001L7.25 7.24999V2.75C7.25 2.33579 7.58578 2 8 2Z" fill="#919CB5"/>\n</svg>',up='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#919CB5" fill-rule="evenodd" clip-rule="evenodd" d="M14.6667 7.66683C14.6667 6.26883 13.848 5.33483 12.4567 5.33483H10.5113C10.5707 4.72216 10.6 4.16683 10.6 3.66683C10.6 2.35816 9.39333 1.3335 8.17333 1.3335C7.23067 1.3335 6.96667 1.8735 6.80733 3.12216C6.80467 3.14483 6.74467 3.63016 6.724 3.7855C6.68733 4.05683 6.64933 4.29883 6.60267 4.54083C6.42067 5.4835 5.94333 6.5035 5.45133 7.1015C5.35888 7.01889 5.25681 6.94771 5.14733 6.8895C4.876 6.74416 4.55867 6.66683 4.102 6.66683H3.898C3.44133 6.66683 3.12467 6.74416 2.85267 6.8895C2.58426 7.03159 2.36476 7.25109 2.22267 7.5195C2.07733 7.79083 2 8.10816 2 8.56483V12.1022C2 12.5588 2.07733 12.8755 2.22267 13.1475C2.368 13.4188 2.58133 13.6322 2.85267 13.7775C3.124 13.9228 3.44133 14.0002 3.898 14.0002H4.102C4.55867 14.0002 4.87533 13.9228 5.14733 13.7775C5.304 13.6935 5.44133 13.5868 5.55733 13.4595C6.022 13.8095 6.67733 14.0002 7.54733 14.0002H10.5153C11.506 14.0002 12.2253 13.6315 12.684 13.0088C12.8733 12.7528 12.9553 12.5742 13.082 12.2315C13.1098 12.1782 13.1463 12.13 13.19 12.0888C13.2073 12.0702 13.2633 12.0142 13.3287 11.9488C13.4187 11.8595 13.526 11.7522 13.5747 11.7002C13.79 11.4695 13.9587 11.2402 14.096 10.9648C14.334 10.4895 14.3667 10.1262 14.3207 9.51616C14.3033 9.28283 14.3027 9.20683 14.3153 9.15483C14.338 9.05816 14.3653 8.97816 14.4133 8.85683L14.4573 8.74616C14.604 8.37816 14.6667 8.09883 14.6667 7.66683ZM8.04533 3.9635C8.068 3.79616 8.13133 3.28483 8.13 3.29083C8.17133 2.96883 8.206 2.77883 8.242 2.6695C8.74867 2.70883 9.26667 3.1695 9.26667 3.66683C9.26667 4.3035 9.21333 5.05483 9.10533 5.91883C9.09361 6.01261 9.10197 6.10781 9.12984 6.19812C9.15772 6.28843 9.20448 6.37178 9.26701 6.44264C9.32955 6.5135 9.40645 6.57025 9.49259 6.60913C9.57873 6.64801 9.67216 6.66814 9.76667 6.66816H12.4567C13.07 6.66816 13.3333 6.96883 13.3333 7.66683C13.3333 7.9135 13.3067 8.0315 13.218 8.25416L13.174 8.3655C13.1097 8.52125 13.0576 8.68172 13.018 8.8455C12.962 9.08283 12.9627 9.23616 12.9913 9.61616C13.0207 10.0042 13.006 10.1642 12.904 10.3688C12.8244 10.5232 12.7222 10.6648 12.6007 10.7888C12.574 10.8182 12.502 10.8902 12.426 10.9662C12.34 11.0515 12.2493 11.1422 12.2133 11.1808C12.036 11.3715 11.9127 11.5502 11.8313 11.7688C11.746 11.9988 11.7033 12.0928 11.6113 12.2182C11.402 12.5015 11.0793 12.6668 10.5153 12.6668H7.54667C6.32467 12.6668 6.002 12.2882 6.002 11.3335V8.4335C6.87533 7.6975 7.64067 6.19616 7.91133 4.7935C7.96267 4.5235 8.00467 4.25816 8.04467 3.9635H8.04533ZM3.48133 8.06483C3.55867 8.02416 3.66667 8.00016 3.898 8.00016H4.102C4.33333 8.00016 4.44133 8.02416 4.51867 8.0655C4.55451 8.08329 4.58354 8.11232 4.60133 8.14816C4.64267 8.2255 4.66667 8.33283 4.66667 8.56483V12.1022C4.66667 12.3342 4.64267 12.4415 4.60133 12.5188C4.58366 12.5549 4.55461 12.5842 4.51867 12.6022C4.44133 12.6428 4.33333 12.6668 4.102 12.6668H3.898C3.66667 12.6668 3.55867 12.6428 3.48133 12.6015C3.4455 12.5837 3.41646 12.5547 3.39867 12.5188C3.35733 12.4415 3.33333 12.3335 3.33333 12.1022V8.56483C3.33333 8.33283 3.35733 8.2255 3.39867 8.14816C3.41646 8.11232 3.4455 8.08329 3.48133 8.0655V8.06483Z"/>\n</svg>\n',dp='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#7A55FF" fill-rule="evenodd" clip-rule="evenodd" d="M10.5993 3.00016C10.5993 2.00016 9.61135 1.3335 8.83935 1.3335C8.30202 1.3335 8.26002 1.7415 8.17735 2.54683C8.14068 2.90016 8.09668 3.3295 7.99935 3.8335C7.74202 5.16816 6.85268 6.8735 6.00202 7.3835V11.3335C5.99935 12.8335 6.49935 13.3335 8.66602 13.3335H11.1813C12.632 13.3335 12.9833 12.3782 13.114 12.0242L13.1227 12.0002C13.1987 11.7962 13.3613 11.6355 13.548 11.4535C13.7547 11.2495 13.9907 11.0182 14.166 10.6668C14.3733 10.2515 14.346 9.88216 14.3213 9.5535C14.306 9.35416 14.292 9.17016 14.3327 9.00016C14.3753 8.82016 14.43 8.6835 14.4827 8.55283C14.578 8.3155 14.666 8.0955 14.666 7.66683C14.666 6.66683 14.1673 6.0015 13.1227 6.0015H10.3327C10.3327 6.0015 10.5993 4.00016 10.5993 3.00016ZM3.66602 6.66683C3.4008 6.66683 3.14645 6.77219 2.95891 6.95972C2.77137 7.14726 2.66602 7.40161 2.66602 7.66683V12.3335C2.66602 12.5987 2.77137 12.8531 2.95891 13.0406C3.14645 13.2281 3.4008 13.3335 3.66602 13.3335C3.93123 13.3335 4.18559 13.2281 4.37312 13.0406C4.56066 12.8531 4.66602 12.5987 4.66602 12.3335V7.66683C4.66602 7.40161 4.56066 7.14726 4.37312 6.95972C4.18559 6.77219 3.93123 6.66683 3.66602 6.66683Z"/>\n</svg>\n',pp='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#919CB5" fill-rule="evenodd" clip-rule="evenodd" d="M1.99935 8.33317C1.99935 9.73117 2.81778 10.6654 4.20923 10.6654H6.15457C6.09561 11.2776 6.06601 11.8333 6.06601 12.3332C6.06601 13.6416 7.27314 14.6665 8.49284 14.6665C9.43506 14.6665 9.69873 14.1267 9.85842 12.878L9.85851 12.8772L9.85856 12.8768L9.85861 12.8764C9.86238 12.8459 9.92133 12.3682 9.94203 12.2147C9.97868 11.9428 10.017 11.7016 10.0637 11.4592C10.2452 10.5166 10.7225 9.49624 11.2147 8.89829C11.3057 8.98003 11.4073 9.051 11.5186 9.11056C11.7902 9.25582 12.1074 9.33317 12.5638 9.33317H12.7683C13.2246 9.33317 13.5418 9.25582 13.8134 9.11056C14.085 8.9653 14.2981 8.75215 14.4434 8.48054C14.5887 8.20894 14.666 7.89177 14.666 7.43542V3.89759C14.666 3.44124 14.5887 3.12407 14.4434 2.85247C14.2981 2.58086 14.085 2.3677 13.8134 2.22245C13.5418 2.07719 13.2246 1.99984 12.7683 1.99984H12.5638C12.1074 1.99984 11.7902 2.07719 11.5186 2.22245C11.3618 2.30634 11.2244 2.41288 11.1084 2.54024C10.6442 2.1905 9.98851 1.99984 9.11887 1.99984H6.15096C5.16011 1.99984 4.44039 2.3684 3.98165 2.99108C3.79293 3.24723 3.71102 3.4255 3.58406 3.7683C3.57447 3.7942 3.54427 3.83782 3.47616 3.91107C3.45899 3.92953 3.40285 3.98561 3.33737 4.05101L3.33713 4.05125L3.33706 4.05132C3.24737 4.14091 3.14025 4.24792 3.09171 4.29976C2.87596 4.53019 2.70751 4.75946 2.56973 5.03503C2.3321 5.51029 2.29947 5.87387 2.34521 6.48364C2.36278 6.71776 2.36324 6.79318 2.35079 6.84552C2.32789 6.94176 2.30095 7.0218 2.25272 7.14353L2.20873 7.25364C2.0626 7.62173 1.99935 7.90115 1.99935 8.33317ZM8.53602 12.7087C8.53519 12.7151 8.59822 12.2039 8.62082 12.0364C8.66059 11.7414 8.70268 11.4762 8.75454 11.2069C9.0248 9.8036 9.7899 8.30226 10.6632 7.56632V4.66634C10.6632 3.71162 10.3411 3.33301 9.11903 3.33301H6.15112C5.58664 3.33301 5.26427 3.49809 5.05528 3.78177C4.96298 3.90705 4.91986 4.0009 4.83456 4.23121C4.75367 4.4496 4.63009 4.62816 4.45267 4.81893C4.41684 4.85746 4.32623 4.94805 4.2404 5.03385L4.24035 5.03391L4.24034 5.03392C4.16453 5.1097 4.09247 5.18175 4.06518 5.21089C3.93115 5.35404 3.83683 5.48242 3.76246 5.63115C3.66018 5.83572 3.64584 5.99542 3.67497 6.38373C3.70346 6.7635 3.70441 6.91721 3.64807 7.154C3.60799 7.32246 3.56222 7.45846 3.49246 7.63451L3.44814 7.74545C3.35975 7.96811 3.33284 8.08697 3.33284 8.33301C3.33284 9.03098 3.59645 9.33188 4.20939 9.33188H6.89951C7.30048 9.33188 7.61073 9.68329 7.56104 10.0812C7.45314 10.9451 7.39951 11.6963 7.39951 12.333C7.39951 12.8297 7.91759 13.2912 8.4241 13.3303C8.46006 13.2211 8.49479 13.0311 8.53602 12.7087ZM13.1848 7.93473C13.1075 7.97605 12.9998 7.99976 12.7684 7.99976H12.5639C12.3325 7.99976 12.2249 7.97605 12.1476 7.93473C12.1084 7.91374 12.0855 7.89091 12.0645 7.85166C12.0232 7.7744 11.9995 7.66673 11.9995 7.43534V3.89751C11.9995 3.66611 12.0232 3.55845 12.0645 3.48118C12.0855 3.44194 12.1084 3.41911 12.1476 3.39812C12.2249 3.3568 12.3325 3.33309 12.5639 3.33309H12.7684C12.9998 3.33309 13.1075 3.3568 13.1848 3.39812C13.224 3.41911 13.2468 3.44194 13.2678 3.48118C13.3091 3.55845 13.3328 3.66611 13.3328 3.89751V7.43534C13.3328 7.66673 13.3091 7.7744 13.2678 7.85166C13.2468 7.89091 13.224 7.91374 13.1848 7.93473Z"/>\n</svg>\n',hp='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#7A55FF" fill-rule="evenodd" clip-rule="evenodd" d="M6.06667 13.0003C6.06667 14.0003 7.05478 14.667 7.82682 14.667C8.36372 14.667 8.40583 14.2587 8.48891 13.4531C8.5253 13.1003 8.56955 12.6713 8.66667 12.167C8.92367 10.8325 9.8134 9.12743 10.6637 8.61723V4.66699C10.6667 3.16699 10.1667 2.66699 8 2.66699H5.48494C4.03382 2.66699 3.68245 3.62196 3.55199 3.97653C3.54895 3.9848 3.54602 3.99273 3.54321 4.00033C3.46764 4.20437 3.30452 4.36464 3.11831 4.54759C2.91119 4.75107 2.67552 4.98261 2.5 5.33366C2.29248 5.74869 2.32027 6.11844 2.34496 6.44706C2.35993 6.64629 2.37376 6.83041 2.33333 7.00033C2.29052 7.18027 2.23583 7.31667 2.18318 7.44797C2.08826 7.6847 2 7.90483 2 8.33366C2 9.33366 2.49898 9.9992 3.54321 9.9992H6.33333C6.33333 9.9992 6.06667 12.0003 6.06667 13.0003ZM12.9997 9.33366C13.552 9.33366 13.9997 8.88594 13.9997 8.33366V3.66699C13.9997 3.11471 13.552 2.66699 12.9997 2.66699C12.4474 2.66699 11.9997 3.11471 11.9997 3.66699V8.33366C11.9997 8.88594 12.4474 9.33366 12.9997 9.33366Z"/>\n</svg>\n',gp='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.44128 1H7.55716C6.84478 1 6.56404 1.05957 6.27627 1.18012C5.9885 1.30067 5.74831 1.48221 5.55381 1.72616C5.35931 1.97011 5.2254 2.22395 5.03101 2.90929L4.91073 3.33333H3.7075H3.33268C2.96449 3.33333 2.66602 3.63181 2.66602 4C2.66602 4.36819 2.96449 4.66667 3.33268 4.66667H3.66621L4.22899 13.1108C4.28734 13.9863 5.01452 14.6667 5.89197 14.6667H10.1068C10.9842 14.6667 11.7114 13.9864 11.7697 13.1109L12.3327 4.66715V4.66667H12.666C13.0342 4.66667 13.3327 4.36819 13.3327 4C13.3327 3.63181 13.0342 3.33333 12.666 3.33333H12.3327H11.0877L10.9674 2.90929C10.773 2.22395 10.6391 1.97011 10.4446 1.72616C10.2501 1.48221 10.0099 1.30067 9.72217 1.18012C9.4344 1.05957 9.15366 1 8.44128 1ZM9.70215 3.33333L9.68507 3.27312C9.54959 2.79548 9.49222 2.66993 9.40247 2.55737C9.34751 2.48844 9.28867 2.44396 9.20735 2.4099C9.07457 2.35427 8.93814 2.33333 8.44165 2.33333H7.55754C7.06105 2.33333 6.92461 2.35427 6.79183 2.4099C6.71052 2.44396 6.65168 2.48844 6.59671 2.55737C6.50697 2.66993 6.44959 2.79548 6.31412 3.27312L6.29704 3.33333H9.70215ZM10.9967 4.66667H5.00278L5.55964 13.022C5.57131 13.1971 5.71674 13.3332 5.89223 13.3332H10.107C10.2825 13.3332 10.4279 13.1971 10.4396 13.022L10.9967 4.66667ZM6.26587 6.42049C6.25495 6.10772 6.49964 5.84531 6.81242 5.83439C7.12519 5.82347 7.38759 6.06816 7.39851 6.38094L7.57999 11.5778C7.59091 11.8905 7.34622 12.1529 7.03345 12.1639C6.72067 12.1748 6.45827 11.9301 6.44735 11.6173L6.26587 6.42049ZM9.18676 5.83423C8.87399 5.82331 8.61159 6.068 8.60067 6.38077L8.41919 11.5776C8.40827 11.8904 8.65296 12.1528 8.96573 12.1637C9.27851 12.1746 9.54091 11.9299 9.55183 11.6172L9.73331 6.42033C9.74423 6.10756 9.49954 5.84515 9.18676 5.83423Z" fill="#919CB5"/>\n</svg>',mp=Symbol();var fp=s(8962);const vp=((e="xxxx-xxxx-xxxx-xxxx")=>e.replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})))("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"),_p=`https://passport.yandex.ru/auth?retpath=${encodeURIComponent(`https://sso.passport.yandex.ru/push?uuid=${vp}&retpath=${encodeURIComponent(window.location.href)}`)}`;function bp(t){let n,i;return n=new ap({props:{items:t[2],collapsed:t[0],inDelay:t[4]?0:300}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};4&t&&(i.items=e[2]),1&t&&(i.collapsed=e[0]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function yp(n,i,o){let r,s,a,l,c,u,d=e.ZTd;n.$$.on_destroy.push((()=>d()));let{requestId:p}=i,{isUserAuthor:h=!1}=i,{textToCopy:g}=i,{collapsed:m=!0}=i,{mark:f}=i,{sources:v=[]}=i;const{allChatsStore:_,isMobile:b,outputBus:y,status:x}=(0,t.fw)(ue.f1);(0,e.FIv)(n,_,(e=>o(14,u=e)));const w=(0,t.fw)(mp),k=(0,t.fw)($._f);(0,e.FIv)(n,k,(e=>o(12,l=e)));const C=x===fp.O.BASE_UNLOGGED,I=(0,Du.h)((()=>{y.emit("stat",{path:"context_menu.show_full",eventType:"show",customParams:{value:p}})}));(0,t.gx)((()=>{m||I()}));const M=e=>{const t=e.length>0?[{title:"На основе:"}]:[],n=e.map((e=>({iconLink:`https://favicon.yandex.net/favicon/v2/${e.origin}?size=32&stub=1`,text:e.hostname,href:e.href})));return t.concat(n)};return n.$$set=e=>{"requestId"in e&&o(6,p=e.requestId),"isUserAuthor"in e&&o(7,h=e.isUserAuthor),"textToCopy"in e&&o(8,g=e.textToCopy),"collapsed"in e&&o(0,m=e.collapsed),"mark"in e&&o(9,f=e.mark),"sources"in e&&o(10,v=e.sources)},n.$$.update=()=>{16384&n.$$.dirty&&(o(1,r=u.currentChat),d(),d=(0,e.LdU)(r,(e=>o(13,c=e)))),29506&n.$$.dirty&&o(11,s={copy:{text:"Копировать",icon:lp,onClick(){y.emit("stat",{path:"context_menu.copy",eventType:"click",customParams:{value:p}}),navigator.clipboard.writeText(g.trim()),l.onCancelClick||(0,e.fxP)(k,l={text:"Сообщение скопировано",statName:"notifier.message_copy_notification",shouldUseIcon:!0},l)}},newChat:{text:"Новый чат",icon:cp,href:C?_p:void 0,target:"_self",onClick:C?L.Z:()=>{y.emit("stat",{path:"context_menu.new_chat",customParams:{value:p},eventType:"click"}),l.onCancelClick||_.createChatWithMessages([p]).then((()=>{(0,e.fxP)(k,l={text:"Новый чат создан",statName:"notifier.new_chat_notification",shouldUseIcon:!0},l)}))}},goodAnswer:{text:"Хороший ответ",icon:f===zu.Hc.GOOD?dp:up,onClick(){y.emit("stat",{path:"context_menu.good_answer",eventType:"click",customParams:{value:p}}),r.setMarkMessagesByRequestId(p,zu.Hc.GOOD)&&!l.onCancelClick&&(0,e.fxP)(k,l={text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification",shouldUseIcon:!0},l)}},badAnswer:{text:"Плохой ответ",icon:f===zu.Hc.BAD?hp:pp,onClick(){y.emit("stat",{path:"context_menu.bad_answer",eventType:"click",customParams:{value:p}}),r.setMarkMessagesByRequestId(p,zu.Hc.BAD)&&!l.onCancelClick&&(0,e.fxP)(k,l={text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification",shouldUseIcon:!0},l)}},remove:{text:"Удалить",icon:gp,onClick(){y.emit("stat",{path:"context_menu.remove",eventType:"click",customParams:{value:p}}),w.preventScrollResize=!0,r.hideMessagesByRequestId(p);const t=u.activeChatId,n=!r.isDefault&&!c.messages.filter((e=>!e.hidden)).length;n&&_.setHiddenChat(t,!0),(0,e.fxP)(k,l={text:n?"Чат удален":"Сообщение удалено",statName:n?"notifier.chat_deletion_notification":"notifier.message_deletion_notification",onCancelClick(){w.preventScrollResize=!0,n&&(_.setHiddenChat(t,!1),_.setActiveChatId(t)),r.assignToMessagesByRequestId(p,{hidden:!1})},onDestroy(){if(n)return y.emit("stat",{path:"notifier.chat_deletion_physically",customParams:{value:p},eventType:"show"}),_.removeChat(t);y.emit("stat",{path:"notifier.message_deletion_physically",customParams:{value:p},eventType:"show"}),r.removeMessagesByRequestId(p)}},l)}}}),3200&n.$$.dirty&&o(2,a=h?[s.copy,s.remove]:[s.copy,s.newChat,s.goodAnswer,s.badAnswer,s.remove,...M(v)])},[m,r,a,_,b,k,p,h,g,f,v,s,l,c,u]}class xp extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,yp,bp,e.N8,{requestId:6,isUserAuthor:7,textToCopy:8,collapsed:0,mark:9,sources:10})}}const wp=xp,kp=(e,t=0)=>{var n;const i=window.scrollY+window.innerHeight-t;return(null!==(n=null==e?void 0:e.getBoundingClientRect().bottom)&&void 0!==n?n:0)>i?"top":"bottom"},$p=e=>{var t;const n=(null===(t=null==e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.x)||0;return n>16?0:n},Cp=(e,t=0)=>{var n;return(null!==(n=null==e?void 0:e.getBoundingClientRect().right)&&void 0!==n?n:0)<window.innerWidth-(t+4)?"right":"left"};function Ip(t){(0,e.qOq)(t,"svelte-51hw8j",".message-menu-visibility-wrapper.svelte-51hw8j{position:absolute;right:0;top:calc(100% + 8px);z-index:2}.message-menu-visibility-wrapper__container_top.svelte-51hw8j{right:var(--right-position-menu-bottom);position:fixed;bottom:calc(var(--bottom-container-height) + 16px)}.message-menu-visibility-wrapper__container_bottom.svelte-51hw8j{position:static;padding-left:16px;margin-right:var(--menu-margin-right)}")}function Mp(t){let n,i,o,r,s,a=`${t[7]}px`,l=(t[1]?16:32)+"px",c=`${$p(t[6])}px`;return o=new wp({props:{requestId:t[0],sources:t[4],collapsed:!1,isUserAuthor:t[1],textToCopy:t[2],mark:t[3]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),(0,e.Ljt)(i,"class",r="message-menu-visibility-wrapper__container_"+kp(t[6],t[7]+8)+" svelte-51hw8j"),(0,e.czc)(i,"--bottom-container-height",a),(0,e.czc)(i,"--right-position-menu-bottom",l),(0,e.czc)(i,"--menu-margin-right",c),(0,e.Ljt)(n,"class","message-menu-visibility-wrapper svelte-51hw8j")},m(r,a){(0,e.$Tr)(r,n,a),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),t[14](i),s=!0},p(t,n){const u={};1&n&&(u.requestId=t[0]),16&n&&(u.sources=t[4]),2&n&&(u.isUserAuthor=t[1]),4&n&&(u.textToCopy=t[2]),8&n&&(u.mark=t[3]),o.$set(u),(!s||192&n&&r!==(r="message-menu-visibility-wrapper__container_"+kp(t[6],t[7]+8)+" svelte-51hw8j"))&&(0,e.Ljt)(i,"class",r),128&n&&a!==(a=`${t[7]}px`)&&(0,e.czc)(i,"--bottom-container-height",a),2&n&&l!==(l=(t[1]?16:32)+"px")&&(0,e.czc)(i,"--right-position-menu-bottom",l),64&n&&c!==(c=`${$p(t[6])}px`)&&(0,e.czc)(i,"--menu-margin-right",c)},i(t){s||((0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),s=!1},d(i){i&&(0,e.ogt)(n),(0,e.vpE)(o),t[14](null)}}}function jp(t){let n,i,o,r,s=t[5]&&Mp(t);return{c(){s&&s.c(),n=(0,e.DhX)()},m(a,l){s&&s.m(a,l),(0,e.$Tr)(a,n,l),i=!0,o||(r=[(0,e.oLt)(document.body,"click",t[9]),(0,e.oLt)(document.body,"scroll",t[9],!0)],o=!0)},p(t,[i]){t[5]?s?(s.p(t,i),32&i&&(0,e.Ui)(s,1)):(s=Mp(t),s.c(),(0,e.Ui)(s,1),s.m(n.parentNode,n)):s&&((0,e.dvw)(),(0,e.etI)(s,1,1,(()=>{s=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(s),i=!0)},o(t){(0,e.etI)(s),i=!1},d(t){t&&(0,e.ogt)(n),s&&s.d(t),o=!1,(0,e.j7q)(r)}}}let Sp;function Tp(n,i,o){let r,{requestId:s}=i,{isUserAuthor:a=!1}=i,{textToCopy:l}=i,{mark:c}=i,{onMenuOpen:u}=i,{onMenuClosed:d}=i,{sources:p=[]}=i;const{bottomContainerHeight:h}=(0,t.fw)($.zb);(0,e.FIv)(n,h,(e=>o(7,r=e)));let g,m=!1;const f=()=>{o(5,m=!1),d()};return n.$$set=e=>{"requestId"in e&&o(0,s=e.requestId),"isUserAuthor"in e&&o(1,a=e.isUserAuthor),"textToCopy"in e&&o(2,l=e.textToCopy),"mark"in e&&o(3,c=e.mark),"onMenuOpen"in e&&o(10,u=e.onMenuOpen),"onMenuClosed"in e&&o(11,d=e.onMenuClosed),"sources"in e&&o(4,p=e.sources)},[s,a,l,c,p,m,g,r,h,f,u,d,e=>{e.stopPropagation(),m?f():(null==Sp||Sp(),Sp=f,o(5,m=!0),u())},()=>{null==Sp||Sp()},function(t){e.VnY[t?"unshift":"push"]((()=>{g=t,o(6,g)}))}]}class Ep extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Tp,jp,e.N8,{requestId:0,isUserAuthor:1,textToCopy:2,mark:3,onMenuOpen:10,onMenuClosed:11,sources:4,toggleMenu:12,closePreviousOpennedMenu:13},Ip)}get toggleMenu(){return this.$$.ctx[12]}get closePreviousOpennedMenu(){return this.$$.ctx[13]}}const Lp=Ep;function Dp(t){(0,e.qOq)(t,"svelte-7ct07m",".message-menu-visibility-wrapper.svelte-7ct07m.svelte-7ct07m{position:absolute;top:0;height:100%;z-index:2}.message-menu-visibility-wrapper_position_left.svelte-7ct07m.svelte-7ct07m{right:0}.message-menu-visibility-wrapper_position_right.svelte-7ct07m.svelte-7ct07m{left:100%;padding-left:8px}.message-menu-visibility-wrapper__container_top.svelte-7ct07m.svelte-7ct07m{position:absolute;bottom:0}.message-menu-visibility-wrapper__container_bottom.svelte-7ct07m.svelte-7ct07m{position:sticky;top:94px}.message-menu-visibility-wrapper_position_left.svelte-7ct07m .message-menu-visibility-wrapper__container_top.svelte-7ct07m{right:0}")}function zp(t){let n,i,o,r,s,a,l,c;return o=new wp({props:{sources:t[4],requestId:t[0],isUserAuthor:t[1],collapsed:t[6],textToCopy:t[2],mark:t[3]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),(0,e.Ljt)(i,"class",r="message-menu-visibility-wrapper__container_"+kp(t[7],t[9])+" svelte-7ct07m"),(0,e.Ljt)(n,"class",s="message-menu-visibility-wrapper message-menu-visibility-wrapper_position_"+t[8]+" svelte-7ct07m"),(0,e.Ljt)(n,"role","menu"),(0,e.Ljt)(n,"tabindex","0")},m(r,s){(0,e.$Tr)(r,n,s),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),t[15](i),a=!0,l||(c=[(0,e.oLt)(n,"focus",t[11]),(0,e.oLt)(n,"blur",t[12]),(0,e.oLt)(n,"mouseenter",t[11]),(0,e.oLt)(n,"mouseleave",t[12])],l=!0)},p(t,l){const c={};16&l&&(c.sources=t[4]),1&l&&(c.requestId=t[0]),2&l&&(c.isUserAuthor=t[1]),64&l&&(c.collapsed=t[6]),4&l&&(c.textToCopy=t[2]),8&l&&(c.mark=t[3]),o.$set(c),(!a||640&l&&r!==(r="message-menu-visibility-wrapper__container_"+kp(t[7],t[9])+" svelte-7ct07m"))&&(0,e.Ljt)(i,"class",r),(!a||256&l&&s!==(s="message-menu-visibility-wrapper message-menu-visibility-wrapper_position_"+t[8]+" svelte-7ct07m"))&&(0,e.Ljt)(n,"class",s)},i(t){a||((0,e.Ui)(o.$$.fragment,t),a=!0)},o(t){(0,e.etI)(o.$$.fragment,t),a=!1},d(i){i&&(0,e.ogt)(n),(0,e.vpE)(o),t[15](null),l=!1,(0,e.j7q)(c)}}}function Op(t){let n,i,o=t[5]&&zp(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,r){o&&o.m(t,r),(0,e.$Tr)(t,n,r),i=!0},p(t,[i]){t[5]?o?(o.p(t,i),32&i&&(0,e.Ui)(o,1)):(o=zp(t),o.c(),(0,e.Ui)(o,1),o.m(n.parentNode,n)):o&&((0,e.dvw)(),(0,e.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){t&&(0,e.ogt)(n),o&&o.d(t)}}}function Ap(n,i,o){let r,{requestId:s}=i,{isUserAuthor:a=!1}=i,{textToCopy:l}=i,{mark:c}=i,{sources:u=[]}=i;const{bottomContainerHeight:d}=(0,t.fw)($.zb);(0,e.FIv)(n,d,(e=>o(9,r=e)));let p,h=!1,g=!1,m="right";return n.$$set=e=>{"requestId"in e&&o(0,s=e.requestId),"isUserAuthor"in e&&o(1,a=e.isUserAuthor),"textToCopy"in e&&o(2,l=e.textToCopy),"mark"in e&&o(3,c=e.mark),"sources"in e&&o(4,u=e.sources)},[s,a,l,c,u,h,g,p,m,r,d,()=>{o(6,g=!1)},()=>{o(6,g=!0)},()=>{o(5,h=!0),(0,t.Ky)().then((()=>{o(8,m=Cp(p,Kd)),o(6,g=!0)}))},()=>{o(5,h=!1),o(6,g=!1),o(8,m="right")},function(t){e.VnY[t?"unshift":"push"]((()=>{p=t,o(7,p)}))}]}class Np extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Ap,Op,e.N8,{requestId:0,isUserAuthor:1,textToCopy:2,mark:3,sources:4,onMessageMouseEnter:13,onMessageMouseLeave:14},Dp)}get onMessageMouseEnter(){return this.$$.ctx[13]}get onMessageMouseLeave(){return this.$$.ctx[14]}}const Rp=Np,Bp=async(e,t)=>{try{return(e?await Promise.all([s.e(926),s.e(780)]).then(s.bind(s,9421)):await Promise.all([s.e(433),s.e(319)]).then(s.bind(s,3349))).default}catch(e){return t.emit("errorThrown",Error("failed to load rich-json bundle")),null}},Pp=Symbol(),Hp={passive:!0};function Up(t){(0,e.qOq)(t,"svelte-16eziwx",".message-bubble.svelte-16eziwx.svelte-16eziwx{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizing:border-box;width:-moz-fit-content;width:fit-content;max-width:100%;color:rgba(0, 0, 0, 0.8);background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:normal;-webkit-user-select:text;-moz-user-select:text;user-select:text;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;flex-shrink:0}.message-bubble_theme_dark.svelte-16eziwx.svelte-16eziwx{color:#fff;background:rgba(255, 255, 255, 0.06)}.message-bubble_standalone.svelte-16eziwx.svelte-16eziwx{position:relative;overflow:visible;border-radius:24px;padding:16px 24px;background:var(--alisa-bubble-chat-color);color:var(--text-bubble-color)}.message-bubble_standalone.message-bubble_highlighted.svelte-16eziwx.svelte-16eziwx{background-color:var(--alisa-button-color)}.message-bubble_standalone.message-bubble_external-dialog.svelte-16eziwx.svelte-16eziwx:not(.message-bubble_from-user){background-color:var(--alisa-bubble-blue-color)}.message-bubble_standalone.message-bubble_mobile.svelte-16eziwx.svelte-16eziwx{padding:12px 16px;border-radius:20px}.message-bubble_standalone.svelte-16eziwx.svelte-16eziwx:not(.message-bubble_mobile){font-size:18px;line-height:26px}.message-bubble_standalone.svelte-16eziwx.svelte-16eziwx:first-child{border-top-left-radius:4px}.message-bubble.message-bubble_type_divJson.svelte-16eziwx.svelte-16eziwx{width:100%}.message-bubble_standalone.message-bubble_type_divJson.svelte-16eziwx.svelte-16eziwx,.message-bubble_standalone.message-bubble_type_richJson.svelte-16eziwx.svelte-16eziwx,.message-bubble_standalone.message-bubble_type_promo.svelte-16eziwx.svelte-16eziwx{padding:24px}.message-bubble_from-user.svelte-16eziwx.svelte-16eziwx{font-weight:500;white-space:pre-line;color:#fff;background:#7137ff;border-radius:12px 2px 12px 12px;margin-left:32px;max-width:calc(100% - 32px);align-self:flex-end}.message-bubble_standalone.message-bubble_from-user.svelte-16eziwx.svelte-16eziwx{font-weight:400;border-radius:24px 4px 24px 24px;background:var(--user-bubble-chat-color);color:var(--text-bubble-color);margin-left:48px}.message-bubble_standalone.message-bubble_highlighted.message-bubble_from-user.svelte-16eziwx.svelte-16eziwx{background-color:var(--border-color)}.message-bubble_standalone.message-bubble_mobile.message-bubble_from-user.svelte-16eziwx.svelte-16eziwx{border-radius:20px 4px 20px 20px;margin-left:16px}.message-bubble_fullscreen.svelte-16eziwx.svelte-16eziwx,.message-bubble_standalone.svelte-16eziwx.svelte-16eziwx{font-size:16px}.message-bubble_fullscreen.svelte-16eziwx.svelte-16eziwx:not(.message-bubble_from-user){margin-right:32px;max-width:calc(100% - 32px)}.message-bubble_standalone.svelte-16eziwx.svelte-16eziwx:not(.message-bubble_from-user){margin-right:48px;max-width:calc(100% - 48px)}.message-bubble_standalone.message-bubble_mobile.svelte-16eziwx.svelte-16eziwx:not(.message-bubble_from-user){margin-right:16px;max-width:calc(100% - 16px)}.message-bubble__buttons.svelte-16eziwx.svelte-16eziwx{display:flex;gap:10px}.message-bubble__status.svelte-16eziwx.svelte-16eziwx{color:#929db4;margin-top:10px}.message-bubble_standalone.svelte-16eziwx .message-bubble__status.svelte-16eziwx{color:var(--text-secondary-color)}.message-bubble_standalone.message-bubble_promo.svelte-16eziwx.svelte-16eziwx{background:var(--alisa-bubble-promo-color);width:calc(100% - 48px);overflow:hidden}.message-bubble_standalone.message-bubble.message-bubble_hide_borders.svelte-16eziwx.svelte-16eziwx,.message-bubble.message-bubble_hide_borders.svelte-16eziwx.svelte-16eziwx{margin:0;padding:0;background:none;border:none;overflow:visible}.message-bubble_mobile.message-bubble_standalone.message-bubble_promo.svelte-16eziwx.svelte-16eziwx{width:calc(100% - 16px)}.message-bubble.message-bubble_type_richJson.svelte-16eziwx.svelte-16eziwx{margin-top:2px}.message-bubble.message-bubble_mobile.message-bubble_type_richJson.svelte-16eziwx.svelte-16eziwx{margin-top:4px;margin-left:-25px;margin-right:-25px;min-width:calc(100% + 50px)}")}function Vp(e,t,n){const i=e.slice();return i[36]=t[n],i}function Gp(t){let n,i;return n=new t[22]({props:{outputBus:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};64&t[0]&&(i.outputBus=e[6]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function qp(t){let n,i,o,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Xp,then:Wp,catch:Yp,value:39,blocks:[,,,]};return(0,e.CR_)(i=Bp(t[7],t[6]),r),{c(){n=(0,e.cSb)(),r.block.c()},m(t,i){(0,e.$Tr)(t,n,i),r.block.m(t,r.anchor=i),r.mount=()=>n.parentNode,r.anchor=n,o=!0},p(n,o){t=n,r.ctx=t,192&o[0]&&i!==(i=Bp(t[7],t[6]))&&(0,e.CR_)(i,r)||(0,e.xfz)(r,t,o)},i(t){o||((0,e.Ui)(r.block),o=!0)},o(t){for(let t=0;t<3;t+=1){const n=r.blocks[t];(0,e.etI)(n)}o=!1},d(t){t&&(0,e.ogt)(n),r.block.d(t),r.token=null,r=null}}}function Fp(t){let n,i;return n=new mu({props:{theme:t[2],onHorizontalMoveChange:t[9],id:"divCard",statName:"div_card",requestId:t[10],json:t[0].divJson,isMobile:t[7],onDivClick:t[8],outputBus:t[6],onRender:t[29]}}),n.$on("click",t[28]),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};4&t[0]&&(i.theme=e[2]),512&t[0]&&(i.onHorizontalMoveChange=e[9]),1024&t[0]&&(i.requestId=e[10]),1&t[0]&&(i.json=e[0].divJson),128&t[0]&&(i.isMobile=e[7]),256&t[0]&&(i.onDivClick=e[8]),64&t[0]&&(i.outputBus=e[6]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Zp(t){let n,i,o,r;var s=t[17];function a(e,t){return{props:{useMarkdown:e[5]&&!e[1],bubble:e[0],markdown:e[4]}}}s&&(n=(0,e.vV4)(s,a(t)));let l=t[0].buttons&&t[0].buttons.length&&Kp(t);return{c(){n&&(0,e.YCL)(n.$$.fragment),i=(0,e.DhX)(),l&&l.c(),o=(0,e.cSb)()},m(t,s){n&&(0,e.yef)(n,t,s),(0,e.$Tr)(t,i,s),l&&l.m(t,s),(0,e.$Tr)(t,o,s),r=!0},p(t,r){if(131072&r[0]&&s!==(s=t[17])){if(n){(0,e.dvw)();const t=n;(0,e.etI)(t.$$.fragment,1,0,(()=>{(0,e.vpE)(t,1)})),(0,e.gbL)()}s?(n=(0,e.vV4)(s,a(t)),(0,e.YCL)(n.$$.fragment),(0,e.Ui)(n.$$.fragment,1),(0,e.yef)(n,i.parentNode,i)):n=null}else if(s){const e={};34&r[0]&&(e.useMarkdown=t[5]&&!t[1]),1&r[0]&&(e.bubble=t[0]),16&r[0]&&(e.markdown=t[4]),n.$set(e)}t[0].buttons&&t[0].buttons.length?l?(l.p(t,r),1&r[0]&&(0,e.Ui)(l,1)):(l=Kp(t),l.c(),(0,e.Ui)(l,1),l.m(o.parentNode,o)):l&&((0,e.dvw)(),(0,e.etI)(l,1,1,(()=>{l=null})),(0,e.gbL)())},i(t){r||(n&&(0,e.Ui)(n.$$.fragment,t),(0,e.Ui)(l),r=!0)},o(t){n&&(0,e.etI)(n.$$.fragment,t),(0,e.etI)(l),r=!1},d(t){t&&((0,e.ogt)(i),(0,e.ogt)(o)),n&&(0,e.vpE)(n,t),l&&l.d(t)}}}function Yp(t){return{c:e.ZTd,m:e.ZTd,p:e.ZTd,i:e.ZTd,o:e.ZTd,d:e.ZTd}}function Wp(t){let n,i,o;var r=t[39];function s(e,t){return{props:{theme:e[2],onHorizontalMoveChange:e[9],json:e[0].richJson,requestId:e[10]}}}return r&&(n=(0,e.vV4)(r,s(t))),{c(){n&&(0,e.YCL)(n.$$.fragment),i=(0,e.cSb)()},m(t,r){n&&(0,e.yef)(n,t,r),(0,e.$Tr)(t,i,r),o=!0},p(t,o){if(192&o[0]&&r!==(r=t[39])){if(n){(0,e.dvw)();const t=n;(0,e.etI)(t.$$.fragment,1,0,(()=>{(0,e.vpE)(t,1)})),(0,e.gbL)()}r?(n=(0,e.vV4)(r,s(t)),(0,e.YCL)(n.$$.fragment),(0,e.Ui)(n.$$.fragment,1),(0,e.yef)(n,i.parentNode,i)):n=null}else if(r){const e={};4&o[0]&&(e.theme=t[2]),512&o[0]&&(e.onHorizontalMoveChange=t[9]),1&o[0]&&(e.json=t[0].richJson),1024&o[0]&&(e.requestId=t[10]),n.$set(e)}},i(t){o||(n&&(0,e.Ui)(n.$$.fragment,t),o=!0)},o(t){n&&(0,e.etI)(n.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(i),n&&(0,e.vpE)(n,t)}}}function Xp(t){return{c:e.ZTd,m:e.ZTd,p:e.ZTd,i:e.ZTd,o:e.ZTd,d:e.ZTd}}function Kp(t){let n,i,o=(0,e.NXn)(t[0].buttons),r=[];for(let e=0;e<o.length;e+=1)r[e]=Qp(Vp(t,o,e));const s=t=>(0,e.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){n=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();(0,e.Ljt)(n,"class","message-bubble__buttons svelte-16eziwx")},m(t,o){(0,e.$Tr)(t,n,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);i=!0},p(t,i){if(268436481&i[0]){let a;for(o=(0,e.NXn)(t[0].buttons),a=0;a<o.length;a+=1){const s=Vp(t,o,a);r[a]?(r[a].p(s,i),(0,e.Ui)(r[a],1)):(r[a]=Qp(s),r[a].c(),(0,e.Ui)(r[a],1),r[a].m(n,null))}for((0,e.dvw)(),a=o.length;a<r.length;a+=1)s(a);(0,e.gbL)()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);i=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(r,t)}}}function Qp(t){let n,i;const o=[{requestId:t[10]},t[36]];let r={};for(let t=0;t<o.length;t+=1)r=(0,e.f0i)(r,o[t]);return n=new Pd({props:r}),n.$on("click",t[28]),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(t,i){const r=1025&i[0]?(0,e.LoY)(o,[1024&i[0]&&{requestId:t[10]},1&i[0]&&(0,e.gCg)(t[36])]):{};n.$set(r)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Jp(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[3]),(0,e.Ljt)(n,"class","message-bubble__status svelte-16eziwx")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){8&n[0]&&(0,e.rTO)(i,t[3])},d(t){t&&(0,e.ogt)(n)}}}function eh(t){let n,i,o={sources:t[14],isUserAuthor:t[1],requestId:t[10],textToCopy:t[11],mark:t[12],onMenuOpen:t[23],onMenuClosed:t[24]};return n=new t[21]({props:o}),t[33](n),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.sources=e[14]),2&t[0]&&(i.isUserAuthor=e[1]),1024&t[0]&&(i.requestId=e[10]),2048&t[0]&&(i.textToCopy=e[11]),4096&t[0]&&(i.mark=e[12]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(i){t[33](null),(0,e.vpE)(n,i)}}}function th(t){let n,i,o,r,s,a,l,c,u,d,p=!1;const h=[Zp,Fp,qp,Gp],g=[];function m(e,t){return"text"===e[0].type&&e[0].text?0:"divJson"===e[0].type&&e[0].divJson?1:"richJson"===e[0].type?2:"promo"===e[0].type?3:-1}~(i=m(t))&&(o=g[i]=h[i](t));let f=t[3]&&Jp(t),v=p&&eh(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),r=(0,e.DhX)(),f&&f.c(),s=(0,e.DhX)(),v&&v.c(),(0,e.Ljt)(n,"class",a="message-bubble message-bubble_theme_"+t[2]+" message-bubble_type_"+t[0].type+" svelte-16eziwx"),(0,e.VHj)(n,"message-bubble_from-user",t[1]),(0,e.VHj)(n,"message-bubble_mobile",t[7]),(0,e.VHj)(n,"message-bubble_fullscreen",t[19]),(0,e.VHj)(n,"message-bubble_standalone",!1),(0,e.VHj)(n,"message-bubble_highlighted",t[15]),(0,e.VHj)(n,"message-bubble_hide_borders","richJson"===t[0].type&&t[0].hideBorders),(0,e.VHj)(n,"message-bubble_external-dialog",t[13]),(0,e.VHj)(n,"message-bubble_promo","promo"===t[0].type)},m(o,a){(0,e.$Tr)(o,n,a),~i&&g[i].m(n,null),(0,e.R3I)(n,r),f&&f.m(n,null),(0,e.R3I)(n,s),v&&v.m(n,null),c=!0,u||(d=[(0,e.TVh)(l=ke.x.call(null,n)),(0,e.oLt)(n,"horizontalmovechange",t[34]),(0,e.oLt)(n,"mouseenter",t[25]),(0,e.oLt)(n,"focus",t[25]),(0,e.oLt)(n,"mouseleave",t[26]),(0,e.oLt)(n,"blur",t[26]),(0,e.oLt)(n,"click",t[27])],u=!0)},p(t,l){let u=i;i=m(t),i===u?~i&&g[i].p(t,l):(o&&((0,e.dvw)(),(0,e.etI)(g[u],1,1,(()=>{g[u]=null})),(0,e.gbL)()),~i?(o=g[i],o?o.p(t,l):(o=g[i]=h[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,r)):o=null),t[3]?f?f.p(t,l):(f=Jp(t),f.c(),f.m(n,s)):f&&(f.d(1),f=null),263169&l[0]&&(p=!1),p?v?(v.p(t,l),263169&l[0]&&(0,e.Ui)(v,1)):(v=eh(t),v.c(),(0,e.Ui)(v,1),v.m(n,null)):v&&((0,e.dvw)(),(0,e.etI)(v,1,1,(()=>{v=null})),(0,e.gbL)()),(!c||5&l[0]&&a!==(a="message-bubble message-bubble_theme_"+t[2]+" message-bubble_type_"+t[0].type+" svelte-16eziwx"))&&(0,e.Ljt)(n,"class",a),(!c||7&l[0])&&(0,e.VHj)(n,"message-bubble_from-user",t[1]),(!c||133&l[0])&&(0,e.VHj)(n,"message-bubble_mobile",t[7]),(!c||524293&l[0])&&(0,e.VHj)(n,"message-bubble_fullscreen",t[19]),(!c||5&l[0])&&(0,e.VHj)(n,"message-bubble_standalone",!1),(!c||32773&l[0])&&(0,e.VHj)(n,"message-bubble_highlighted",t[15]),(!c||5&l[0])&&(0,e.VHj)(n,"message-bubble_hide_borders","richJson"===t[0].type&&t[0].hideBorders),(!c||8197&l[0])&&(0,e.VHj)(n,"message-bubble_external-dialog",t[13]),(!c||5&l[0])&&(0,e.VHj)(n,"message-bubble_promo","promo"===t[0].type)},i(t){c||((0,e.Ui)(o),(0,e.Ui)(v),c=!0)},o(t){(0,e.etI)(o),(0,e.etI)(v),c=!1},d(t){t&&(0,e.ogt)(n),~i&&g[i].d(),f&&f.d(),v&&v.d(),u=!1,(0,e.j7q)(d)}}}function nh(n,i,o){let r,s,a,{bubble:l}=i,{isUserAuthor:c=!1}=i,{theme:u}=i,{phrase:d}=i,{markdown:p}=i,{useMarkdown:h=!1}=i,{outputBus:g}=i,{isMobile:m=!1}=i,{onDivClick:f=L.Z}=i,{onHorizontalMoveChange:v=L.Z}=i,{requestId:_}=i,{textToCopy:b}=i,{mark:y}=i,{isExternalDialog:x=!1}=i,{isDialog:w=!1}=i,{sources:k=[]}=i,{isCurrentSession:$}=i;const{isFullscreenExp:C,allChatsStore:I}=(0,t.fw)(ue.f1);(0,e.FIv)(n,I,(e=>o(32,a=e)));const M=(0,t.fw)(Pp),j=m?Lp:Rp,S=m?cd:ed;let T,E=!1;return n.$$set=e=>{"bubble"in e&&o(0,l=e.bubble),"isUserAuthor"in e&&o(1,c=e.isUserAuthor),"theme"in e&&o(2,u=e.theme),"phrase"in e&&o(3,d=e.phrase),"markdown"in e&&o(4,p=e.markdown),"useMarkdown"in e&&o(5,h=e.useMarkdown),"outputBus"in e&&o(6,g=e.outputBus),"isMobile"in e&&o(7,m=e.isMobile),"onDivClick"in e&&o(8,f=e.onDivClick),"onHorizontalMoveChange"in e&&o(9,v=e.onHorizontalMoveChange),"requestId"in e&&o(10,_=e.requestId),"textToCopy"in e&&o(11,b=e.textToCopy),"mark"in e&&o(12,y=e.mark),"isExternalDialog"in e&&o(13,x=e.isExternalDialog),"isDialog"in e&&o(30,w=e.isDialog),"sources"in e&&o(14,k=e.sources),"isCurrentSession"in e&&o(31,$=e.isCurrentSession)},n.$$.update=()=>{2&n.$$.dirty[1]&&o(18,r=a.currentChat),1073750018&n.$$.dirty[0]|1&n.$$.dirty[1]&&o(17,s=Od)},[l,c,u,d,p,h,g,m,f,v,_,b,y,x,k,E,T,s,r,C,I,j,S,()=>{o(15,E=!0)},()=>{o(15,E=!1)},()=>{T&&"onMessageMouseEnter"in T&&T.onMessageMouseEnter()},()=>{T&&"onMessageMouseLeave"in T&&T.onMessageMouseLeave()},e=>{T&&"toggleMenu"in T&&T.toggleMenu(e)},()=>{T&&"closePreviousOpennedMenu"in T&&T.closePreviousOpennedMenu()},()=>{w&&M&&M.scrollToBottom()},w,$,a,function(t){e.VnY[t?"unshift":"push"]((()=>{T=t,o(16,T)}))},({detail:{value:e}})=>{v(e)}]}class ih extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,nh,th,e.N8,{bubble:0,isUserAuthor:1,theme:2,phrase:3,markdown:4,useMarkdown:5,outputBus:6,isMobile:7,onDivClick:8,onHorizontalMoveChange:9,requestId:10,textToCopy:11,mark:12,isExternalDialog:13,isDialog:30,sources:14,isCurrentSession:31},Up,[-1,-1])}}const oh=ih;var rh=s(1233);function sh(t){(0,e.qOq)(t,"svelte-4zkk7i",".message.svelte-4zkk7i,.message__date.svelte-4zkk7i{flex-shrink:0}.message.svelte-4zkk7i{width:100%;display:flex;flex-direction:column;gap:8px}.message_mobile.svelte-4zkk7i{gap:4px}.message__date.svelte-4zkk7i{color:#929db4;font-size:14px;padding-top:22px}.message__date_standalone.svelte-4zkk7i{margin:0 auto;padding-top:30px;display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:var(--text-secondary-color)}.message__date_standalone.message__date_mobile.svelte-4zkk7i{padding-top:4px}.message__date_fullscreen.svelte-4zkk7i{font-size:16px;padding:32px 0 8px}")}function ah(e,t,n){const i=e.slice();return i[24]=t[n],i}function lh(t){let n,i,o,r,s,a=[],l=new Map,c=t[6]&&ch(t),u=(0,e.NXn)(t[18]);const d=e=>e[24].id;for(let e=0;e<u.length;e+=1){let n=ah(t,u,e),i=d(n);l.set(i,a[e]=uh(i,n))}return{c(){c&&c.c(),n=(0,e.DhX)(),i=(0,e.bGB)("div");for(let e=0;e<a.length;e+=1)a[e].c();(0,e.Ljt)(i,"class","message svelte-4zkk7i"),(0,e.VHj)(i,"message_mobile",t[8])},m(l,u){c&&c.m(l,u),(0,e.$Tr)(l,n,u),(0,e.$Tr)(l,i,u);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null);t[23](i),o=!0,r||(s=(0,e.oLt)(i,"click",t[20]),r=!0)},p(t,r){t[6]?c?c.p(t,r):(c=ch(t),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),524222&r&&(u=(0,e.NXn)(t[18]),(0,e.dvw)(),a=(0,e.GQg)(a,r,d,1,t,u,l,i,e.cly,uh,null,ah),(0,e.gbL)()),(!o||256&r)&&(0,e.VHj)(i,"message_mobile",t[8])},i(t){if(!o){for(let t=0;t<u.length;t+=1)(0,e.Ui)(a[t]);o=!0}},o(t){for(let t=0;t<a.length;t+=1)(0,e.etI)(a[t]);o=!1},d(o){o&&((0,e.ogt)(n),(0,e.ogt)(i)),c&&c.d(o);for(let e=0;e<a.length;e+=1)a[e].d();t[23](null),r=!1,s()}}}function ch(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.DhX)(),o=(0,e.fLW)(t[6]),(0,e.Ljt)(n,"class","message__date svelte-4zkk7i"),(0,e.VHj)(n,"message__date_fullscreen",t[19]),(0,e.VHj)(n,"message__date_standalone",!1),(0,e.VHj)(n,"message__date_mobile",t[8])},m(t,r){(0,e.$Tr)(t,n,r),(0,e.R3I)(n,i),(0,e.R3I)(n,o)},p(t,i){64&i&&(0,e.rTO)(o,t[6]),0&i&&(0,e.VHj)(n,"message__date_standalone",!1),256&i&&(0,e.VHj)(n,"message__date_mobile",t[8])},d(t){t&&(0,e.ogt)(n)}}}function uh(t,n){let i,o,r;return o=new oh({props:{bubble:n[24],phrase:n[5],outputBus:n[9],onDivClick:n[10],theme:n[3],onHorizontalMoveChange:n[7],isMobile:n[8],isUserAuthor:n[2],requestId:n[1],textToCopy:n[17],mark:n[11],isExternalDialog:n[13],markdown:n[4],useMarkdown:n[12],isDialog:n[14],sources:n[15],isCurrentSession:n[16]}}),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),r=!0},p(e,t){n=e;const i={};262144&t&&(i.bubble=n[24]),32&t&&(i.phrase=n[5]),512&t&&(i.outputBus=n[9]),1024&t&&(i.onDivClick=n[10]),8&t&&(i.theme=n[3]),128&t&&(i.onHorizontalMoveChange=n[7]),256&t&&(i.isMobile=n[8]),4&t&&(i.isUserAuthor=n[2]),2&t&&(i.requestId=n[1]),131072&t&&(i.textToCopy=n[17]),2048&t&&(i.mark=n[11]),8192&t&&(i.isExternalDialog=n[13]),16&t&&(i.markdown=n[4]),4096&t&&(i.useMarkdown=n[12]),16384&t&&(i.isDialog=n[14]),32768&t&&(i.sources=n[15]),65536&t&&(i.isCurrentSession=n[16]),o.$set(i)},i(t){r||((0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function dh(t){let n,i,o=t[18].length&&lh(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,r){o&&o.m(t,r),(0,e.$Tr)(t,n,r),i=!0},p(t,[i]){t[18].length?o?(o.p(t,i),262144&i&&(0,e.Ui)(o,1)):(o=lh(t),o.c(),(0,e.Ui)(o,1),o.m(n.parentNode,n)):o&&((0,e.dvw)(),(0,e.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){t&&(0,e.ogt)(n),o&&o.d(t)}}}function ph(n,i,o){let r,{requestId:s}=i,{isUserAuthor:a=!1}=i,{theme:l}=i,{markdown:c}=i,{phrase:u}=i,{date:d}=i,{onHorizontalMoveChange:p=L.Z}=i,{element:h}=i,{isMobile:g=!1}=i,{outputBus:m}=i,{onDivClick:f=L.Z}=i,{onMessageClick:v=L.Z}=i,{bubbles:_=[]}=i,{mark:b=zu.Hc.NOT_SET}=i,{useMarkdown:y=!1}=i,{isExternalDialog:x=!1}=i,{isDialog:w=!1}=i,{sources:k=[]}=i,{isCurrentSession:$}=i;const{isFullscreenExp:C}=(0,t.fw)(ue.f1);let I;return(0,t.gx)((()=>{o(17,I=(null==h?void 0:h.textContent)||"")})),n.$$set=e=>{"requestId"in e&&o(1,s=e.requestId),"isUserAuthor"in e&&o(2,a=e.isUserAuthor),"theme"in e&&o(3,l=e.theme),"markdown"in e&&o(4,c=e.markdown),"phrase"in e&&o(5,u=e.phrase),"date"in e&&o(6,d=e.date),"onHorizontalMoveChange"in e&&o(7,p=e.onHorizontalMoveChange),"element"in e&&o(0,h=e.element),"isMobile"in e&&o(8,g=e.isMobile),"outputBus"in e&&o(9,m=e.outputBus),"onDivClick"in e&&o(10,f=e.onDivClick),"onMessageClick"in e&&o(21,v=e.onMessageClick),"bubbles"in e&&o(22,_=e.bubbles),"mark"in e&&o(11,b=e.mark),"useMarkdown"in e&&o(12,y=e.useMarkdown),"isExternalDialog"in e&&o(13,x=e.isExternalDialog),"isDialog"in e&&o(14,w=e.isDialog),"sources"in e&&o(15,k=e.sources),"isCurrentSession"in e&&o(16,$=e.isCurrentSession)},n.$$.update=()=>{4194304&n.$$.dirty&&o(18,r=(0,rh.Os)(_))},[h,s,a,l,c,u,d,p,g,m,f,b,y,x,w,k,$,I,r,C,e=>s&&v(s,e),v,_,function(t){e.VnY[t?"unshift":"push"]((()=>{h=t,o(0,h)}))}]}class hh extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ph,dh,e.N8,{requestId:1,isUserAuthor:2,theme:3,markdown:4,phrase:5,date:6,onHorizontalMoveChange:7,element:0,isMobile:8,outputBus:9,onDivClick:10,onMessageClick:21,bubbles:22,mark:11,useMarkdown:12,isExternalDialog:13,isDialog:14,sources:15,isCurrentSession:16},sh)}}const gh=hh;var mh=s(2331);const fh='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="18" fill="currentColor"><circle cx="8.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;1" repeatCount="indefinite" values="2.25;3;2.25;2.25;"/></circle><circle cx="15.75" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.14;0.42;0.72;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle><circle cx="23.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;0.86;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle></svg>';function vh(t){(0,e.qOq)(t,"svelte-m4x9is",".alice-thinking-gap.svelte-m4x9is{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizing:border-box;max-width:100%;color:#929db4;background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;user-select:text;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word}.alice-thinking-gap_theme_dark.svelte-m4x9is{background:rgba(255, 255, 255, 0.06)}.alice-thinking-gap_fullscreen.svelte-m4x9is{font-size:16px;margin-right:32px}.alice-thinking-gap_standalone.svelte-m4x9is{display:flex;border-radius:4px 24px 24px 24px;padding:19px 24px;background-color:var(--alisa-bubble-chat-color);color:var(--text-primary-color)}.alice-thinking-gap_standalone.alice-thinking-gap_external-dialog.svelte-m4x9is{background-color:var(--alisa-bubble-blue-color)}")}function _h(t){let n,i=mh.h.thinking+"";return{c(){n=(0,e.fLW)(i)},m(t,i){(0,e.$Tr)(t,n,i)},d(t){t&&(0,e.ogt)(n)}}}function bh(t){let n,i;return{c(){n=new e.FWw(!1),i=(0,e.cSb)(),n.a=i},m(t,o){n.m(fh,t,o),(0,e.$Tr)(t,i,o)},d(t){t&&((0,e.ogt)(i),n.d())}}}function yh(t){let n,i,o=function(e,t){return e[4]?bh:_h}(t),r=o(t);return{c(){n=(0,e.bGB)("div"),r.c(),(0,e.Ljt)(n,"class",i=(0,e.H1I)(`alice-thinking-gap alice-thinking-gap_theme_${t[0]}`)+" svelte-m4x9is"),(0,e.VHj)(n,"alice-thinking-gap_mobile",t[1]),(0,e.VHj)(n,"alice-thinking-gap_fullscreen",t[3]),(0,e.VHj)(n,"alice-thinking-gap_standalone",t[4]),(0,e.VHj)(n,"alice-thinking-gap_external-dialog",t[2])},m(t,i){(0,e.$Tr)(t,n,i),r.m(n,null)},p(t,[o]){1&o&&i!==(i=(0,e.H1I)(`alice-thinking-gap alice-thinking-gap_theme_${t[0]}`)+" svelte-m4x9is")&&(0,e.Ljt)(n,"class",i),3&o&&(0,e.VHj)(n,"alice-thinking-gap_mobile",t[1]),9&o&&(0,e.VHj)(n,"alice-thinking-gap_fullscreen",t[3]),17&o&&(0,e.VHj)(n,"alice-thinking-gap_standalone",t[4]),5&o&&(0,e.VHj)(n,"alice-thinking-gap_external-dialog",t[2])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),r.d()}}}function xh(e,n,i){let{theme:o}=n,{isMobile:r=!1}=n,{isExternalDialog:s=!1}=n;const{isFullscreenExp:a}=(0,t.fw)(ue.f1);return e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"isMobile"in e&&i(1,r=e.isMobile),"isExternalDialog"in e&&i(2,s=e.isExternalDialog)},[o,r,s,a,!1]}class wh extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,xh,yh,e.N8,{theme:0,isMobile:1,isExternalDialog:2},vh)}}const kh=wh,$h=e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}),Ch=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),Ih=e=>{let t;return e.map(((n,i)=>{if(!t)return t=n.date,Mh(t);const o=e[i-1];return Ch(n.date,t)||n.requestId&&n.requestId===(null==o?void 0:o.requestId)?void 0:(t=n.date,Mh(t))}))},Mh=e=>((e,t)=>{const n=new Date,i=((e,t)=>new Date(new Date(e).setDate(e.getDate()+-1)))(n),o=(e=>t=>{var n,i;return null!==(i=null!==(n=null==e?void 0:e[t])&&void 0!==n?n:null==e?void 0:e.default)&&void 0!==i?i:$h})(t);return Ch(e,n)?o("today")(e):Ch(e,i)?o("yesterday")(e):e.getFullYear()===n.getFullYear()?o("sameYear")(e):o("default")(e)})(e,{today:()=>"Сегодня",yesterday:()=>"Вчера",sameYear:e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"long"}),default:e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric"})});function jh(t){(0,e.qOq)(t,"svelte-9z8cge",".animate-first-message-chat.svelte-9z8cge{min-height:var(--min-height);box-sizing:border-box}")}function Sh(t){let n,i;const o=t[8].default,r=(0,e.nuO)(o,t,t[7],null);return{c(){n=(0,e.bGB)("div"),r&&r.c(),(0,e.Ljt)(n,"class","animate-first-message-chat svelte-9z8cge"),(0,e.czc)(n,"--min-height",`${t[0]}px`)},m(t,o){(0,e.$Tr)(t,n,o),r&&r.m(n,null),i=!0},p(t,[s]){r&&r.p&&(!i||128&s)&&(0,e.kmG)(r,o,t,t[7],i?(0,e.u2N)(o,t[7],s,null):(0,e.VOJ)(t[7]),null),1&s&&(0,e.czc)(n,"--min-height",`${t[0]}px`)},i(t){i||((0,e.Ui)(r,t),i=!0)},o(t){(0,e.etI)(r,t),i=!1},d(t){t&&(0,e.ogt)(n),r&&r.d(t)}}}function Th(n,i,o){let r,s,a,{$$slots:l={},$$scope:c}=i,{lastUserMessageElement:u}=i;const{isFullscreenExp:d,allChatsStore:p}=(0,t.fw)(ue.f1);(0,e.FIv)(n,p,(e=>o(6,a=e)));const h=(0,t.fw)(Pp);let g,m,f=0;const v=()=>{const{scrollTop:e}=h.getScrollableElementProps();o(0,f-=Math.max(g-e,0)),g=e};return(0,t.ev)((()=>{o(0,f=0),null==m||m()})),n.$$set=e=>{"lastUserMessageElement"in e&&o(2,u=e.lastUserMessageElement),"$$scope"in e&&o(7,c=e.$$scope)},n.$$.update=()=>{64&n.$$.dirty&&o(5,r=a.currentChat),32&n.$$.dirty&&(s=d||!1),17&n.$$.dirty&&f<0&&(null==m||m())},[f,p,u,()=>{s&&(o(0,f=window.innerHeight),(0,t.Ky)().then((()=>{h.scrollToBottom(),g=h.getScrollableElementProps().scrollTop||0,o(4,m=h.addScrollListener(v,10)),h.scrollToElementTop(u)})))},m,r,a,c,l]}class Eh extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Th,Sh,e.N8,{lastUserMessageElement:2,startAnimation:3},jh)}get startAnimation(){return this.$$.ctx[3]}}const Lh=Eh;var Dh=s(9824);function zh(t){(0,e.qOq)(t,"svelte-19tbjsv",".alice__suggests_continuous.svelte-19tbjsv{display:flex;flex-wrap:wrap;gap:6px;margin-right:25px;margin-left:25px;white-space:nowrap}.alice__suggests_continuous-mobile.svelte-19tbjsv{overflow-x:scroll;scrollbar-width:none;-ms-overflow-style:none;flex-wrap:nowrap}.alice__suggests_continuous-mobile.svelte-19tbjsv::-webkit-scrollbar{width:0;height:0;display:none}")}function Oh(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function Ah(t){let n,i;return n=new we({props:{suggest:t[6],onClick:t[3],outputBus:t[0],index:t[8],theme:t[4],page:t[5]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};4&t&&(i.suggest=e[6]),8&t&&(i.onClick=e[3]),1&t&&(i.outputBus=e[0]),16&t&&(i.theme=e[4]),32&t&&(i.page=e[5]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Nh(t){let n,i,o=(0,e.NXn)(t[2]),r=[];for(let e=0;e<o.length;e+=1)r[e]=Ah(Oh(t,o,e));const s=t=>(0,e.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){n=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();(0,e.Ljt)(n,"class","alice__suggests_continuous svelte-19tbjsv"),(0,e.VHj)(n,"alice__suggests_continuous-mobile",t[1])},m(t,o){(0,e.$Tr)(t,n,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);i=!0},p(t,[a]){if(61&a){let i;for(o=(0,e.NXn)(t[2]),i=0;i<o.length;i+=1){const s=Oh(t,o,i);r[i]?(r[i].p(s,a),(0,e.Ui)(r[i],1)):(r[i]=Ah(s),r[i].c(),(0,e.Ui)(r[i],1),r[i].m(n,null))}for((0,e.dvw)(),i=o.length;i<r.length;i+=1)s(i);(0,e.gbL)()}(!i||2&a)&&(0,e.VHj)(n,"alice__suggests_continuous-mobile",t[1])},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);i=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(r,t)}}}function Rh(e,t,n){let{outputBus:i}=t,{isMobile:o=!1}=t,{suggests:r=[]}=t,{onClick:s}=t,{theme:a}=t,{page:l}=t;return e.$$set=e=>{"outputBus"in e&&n(0,i=e.outputBus),"isMobile"in e&&n(1,o=e.isMobile),"suggests"in e&&n(2,r=e.suggests),"onClick"in e&&n(3,s=e.onClick),"theme"in e&&n(4,a=e.theme),"page"in e&&n(5,l=e.page)},[i,o,r,s,a,l]}class Bh extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Rh,Nh,e.N8,{outputBus:0,isMobile:1,suggests:2,onClick:3,theme:4,page:5},zh)}}const Ph=Bh;function Hh(t){(0,e.qOq)(t,"svelte-7v9fzg",".alice__suggests_inners.svelte-7v9fzg{white-space:nowrap;align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-7v9fzg{display:flex;gap:6px;margin-bottom:6px;margin-right:25px;margin-left:25px}")}function Uh(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function Vh(t){let n,i;return n=new we({props:{suggest:t[9],onClick:t[2],outputBus:t[0],index:t[11],theme:t[4],page:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.suggest=e[9]),4&t&&(i.onClick=e[2]),1&t&&(i.outputBus=e[0]),16&t&&(i.theme=e[4]),64&t&&(i.page=e[6]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Gh(t){let n,i,o,r=(0,e.NXn)(t[1]),s=[];for(let e=0;e<r.length;e+=1)s[e]=Vh(Uh(t,r,e));const a=t=>(0,e.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-7v9fzg"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-7v9fzg")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.R3I)(n,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);o=!0},p(t,n){if(87&n){let o;for(r=(0,e.NXn)(t[1]),o=0;o<r.length;o+=1){const a=Uh(t,r,o);s[o]?(s[o].p(a,n),(0,e.Ui)(s[o],1)):(s[o]=Vh(a),s[o].c(),(0,e.Ui)(s[o],1),s[o].m(i,null))}for((0,e.dvw)(),o=r.length;o<s.length;o+=1)a(o);(0,e.gbL)()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)(0,e.Ui)(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,e.etI)(s[t]);o=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(s,t)}}}function qh(t){let n,i;return n=new qe({props:{isDesktop:t[5],onHorizontalMoveChange:t[3],setListElement:t[7],theme:t[4],$$slots:{default:[Gh]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};32&t&&(i.isDesktop=e[5]),8&t&&(i.onHorizontalMoveChange=e[3]),16&t&&(i.theme=e[4]),4183&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Fh(e,t,n){let i,{outputBus:o}=t,{suggests:r=[]}=t,{onClick:s}=t,{onHorizontalMoveChange:a}=t,{theme:l}=t,{isDesktop:c}=t,{page:u}=t;return e.$$set=e=>{"outputBus"in e&&n(0,o=e.outputBus),"suggests"in e&&n(1,r=e.suggests),"onClick"in e&&n(2,s=e.onClick),"onHorizontalMoveChange"in e&&n(3,a=e.onHorizontalMoveChange),"theme"in e&&n(4,l=e.theme),"isDesktop"in e&&n(5,c=e.isDesktop),"page"in e&&n(6,u=e.page)},e.$$.update=()=>{256&e.$$.dirty&&i&&n(8,i.scrollLeft=0,i)},[o,r,s,a,l,c,u,e=>{n(8,i=e)},i]}class Zh extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Fh,qh,e.N8,{outputBus:0,suggests:1,onClick:2,onHorizontalMoveChange:3,theme:4,isDesktop:5,page:6},Hh)}}const Yh=Zh;function Wh(t){(0,e.qOq)(t,"svelte-gtv793",".alice__suggests_inners.svelte-gtv793{align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-gtv793{display:flex;flex-direction:column;gap:6px;margin-bottom:6px;align-items:baseline}")}function Xh(e,t,n){const i=e.slice();return i[5]=t[n],i[7]=n,i}function Kh(t){let n,i;return n=new we({props:{suggest:t[5],onClick:t[2],outputBus:t[0],index:t[7],theme:t[3],page:t[4]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.suggest=e[5]),4&t&&(i.onClick=e[2]),1&t&&(i.outputBus=e[0]),8&t&&(i.theme=e[3]),16&t&&(i.page=e[4]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Qh(t){let n,i,o,r=(0,e.NXn)(t[1]),s=[];for(let e=0;e<r.length;e+=1)s[e]=Kh(Xh(t,r,e));const a=t=>(0,e.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-gtv793"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-gtv793")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.R3I)(n,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);o=!0},p(t,[n]){if(31&n){let o;for(r=(0,e.NXn)(t[1]),o=0;o<r.length;o+=1){const a=Xh(t,r,o);s[o]?(s[o].p(a,n),(0,e.Ui)(s[o],1)):(s[o]=Kh(a),s[o].c(),(0,e.Ui)(s[o],1),s[o].m(i,null))}for((0,e.dvw)(),o=r.length;o<s.length;o+=1)a(o);(0,e.gbL)()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)(0,e.Ui)(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,e.etI)(s[t]);o=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(s,t)}}}function Jh(e,t,n){let{outputBus:i}=t,{suggests:o=[]}=t,{onClick:r}=t,{theme:s}=t,{page:a}=t;return e.$$set=e=>{"outputBus"in e&&n(0,i=e.outputBus),"suggests"in e&&n(1,o=e.suggests),"onClick"in e&&n(2,r=e.onClick),"theme"in e&&n(3,s=e.theme),"page"in e&&n(4,a=e.page)},[i,o,r,s,a]}class eg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Jh,Qh,e.N8,{outputBus:0,suggests:1,onClick:2,theme:3,page:4},Wh)}}const tg=eg;function ng(t){(0,e.qOq)(t,"svelte-rveea8",".suggests-in-chat.svelte-rveea8{margin:0 -25px}.suggests-in-chat_greetings.svelte-rveea8{margin:0}")}function ig(t){let n,i;return n=new Yh({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4],isDesktop:!t[5],onHorizontalMoveChange:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t&&(i.outputBus=e[0]),2&t&&(i.page=e[1]),4&t&&(i.onClick=e[2]),8&t&&(i.theme=e[3]),16&t&&(i.suggests=e[4]),32&t&&(i.isDesktop=!e[5]),64&t&&(i.onHorizontalMoveChange=e[6]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function og(t){let n,i;return n=new tg({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t&&(i.outputBus=e[0]),2&t&&(i.page=e[1]),4&t&&(i.onClick=e[2]),8&t&&(i.theme=e[3]),16&t&&(i.suggests=e[4]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function rg(t){let n,i;return n=new Ph({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4],isMobile:t[5]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t&&(i.outputBus=e[0]),2&t&&(i.page=e[1]),4&t&&(i.onClick=e[2]),8&t&&(i.theme=e[3]),16&t&&(i.suggests=e[4]),32&t&&(i.isMobile=e[5]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function sg(t){let n,i,o,r;const s=[rg,og,ig],a=[];function l(e,t){return e[7]?1:2}return i=l(t),o=a[i]=s[i](t),{c(){n=(0,e.bGB)("div"),o.c(),(0,e.Ljt)(n,"class","suggests-in-chat svelte-rveea8"),(0,e.VHj)(n,"suggests-in-chat_greetings",t[7])},m(t,o){(0,e.$Tr)(t,n,o),a[i].m(n,null),r=!0},p(t,[c]){let u=i;i=l(t),i===u?a[i].p(t,c):((0,e.dvw)(),(0,e.etI)(a[u],1,1,(()=>{a[u]=null})),(0,e.gbL)(),o=a[i],o?o.p(t,c):(o=a[i]=s[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,null)),(!r||128&c)&&(0,e.VHj)(n,"suggests-in-chat_greetings",t[7])},i(t){r||((0,e.Ui)(o),r=!0)},o(t){(0,e.etI)(o),r=!1},d(t){t&&(0,e.ogt)(n),a[i].d()}}}function ag(e,t,n){let{outputBus:i}=t,{page:o}=t,{onClick:r}=t,{theme:s}=t,{suggests:a=[]}=t,{isMobile:l=!1}=t,{onHorizontalMoveChange:c=L.Z}=t,{isGreetings:u=!1}=t;return e.$$set=e=>{"outputBus"in e&&n(0,i=e.outputBus),"page"in e&&n(1,o=e.page),"onClick"in e&&n(2,r=e.onClick),"theme"in e&&n(3,s=e.theme),"suggests"in e&&n(4,a=e.suggests),"isMobile"in e&&n(5,l=e.isMobile),"onHorizontalMoveChange"in e&&n(6,c=e.onHorizontalMoveChange),"isGreetings"in e&&n(7,u=e.isGreetings)},[i,o,r,s,a,l,c,u]}class lg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ag,sg,e.N8,{outputBus:0,page:1,onClick:2,theme:3,suggests:4,isMobile:5,onHorizontalMoveChange:6,isGreetings:7},ng)}}const cg=lg;function ug(t){let n;const i=t[3].default,o=(0,e.nuO)(i,t,t[2],null);return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(t,[r]){o&&o.p&&(!n||4&r)&&(0,e.kmG)(o,i,t,t[2],n?(0,e.u2N)(i,t[2],r,null):(0,e.VOJ)(t[2]),null)},i(t){n||((0,e.Ui)(o,t),n=!0)},o(t){(0,e.etI)(o,t),n=!1},d(e){o&&o.d(e)}}}const dg=100;function pg(n,i,o){let r,{$$slots:s={},$$scope:a}=i;const{allChatsStore:l}=(0,t.fw)(ue.f1);(0,e.FIv)(n,l,(e=>o(5,r=e)));const c=(0,t.fw)(Pp);let u=0;const d=()=>{const{scrollTop:e,scrollHeight:n}=c.getScrollableElementProps();u>dg&&e<=dg&&r.currentChat.loadHistory().then(t.Ky).then((()=>{const{scrollTop:e,scrollHeight:t}=c.getScrollableElementProps();c.scrollTo(e+(t-n))})),u=e};return(0,t.H3)((()=>c.addScrollListener(d,100))),n.$$set=e=>{"$$scope"in e&&o(2,a=e.$$scope)},[l,(e,n)=>{if(!e)return;if(n)return void(0,t.Ky)().then(c.scrollToBottom);const{isScrolledFromBottom:i}=c.getScrollWrapperProps();i||(e.getBoundingClientRect().top<c.getScrollableElementProps().boundingClientRect.top-5?c.scrollToBottom():c.scrollToElementTop(e))},a,s]}class hg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,pg,ug,e.N8,{scrollWhileStreaming:1})}get scrollWhileStreaming(){return this.$$.ctx[1]}}const gg=hg;function mg(t){(0,e.qOq)(t,"svelte-t8wu3u",".chat-messages__suggests-wrapper.svelte-t8wu3u{max-width:calc(100% + 50px);padding-top:var(--gap)}.chat-messages__before-animation.svelte-t8wu3u,.chat-messages__after-animation.svelte-t8wu3u{display:flex;flex-direction:column;align-items:flex-start;gap:var(--gap)}.chat-messages__after-animation.svelte-t8wu3u{padding-top:var(--gap)}")}function fg(e,t,n){const i=e.slice();return i[43]=t[n],i[44]=t,i[45]=n,i}function vg(e,t,n){const i=e.slice();return i[43]=t[n],i[46]=t,i[45]=n,i}function _g(t){let n,i,o=[],r=new Map,s=(0,e.NXn)(t[22]);const a=e=>e[43].id;for(let e=0;e<s.length;e+=1){let n=vg(t,s,e),i=a(n);r.set(i,o[e]=bg(i,n))}return{c(){n=(0,e.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,e.Ljt)(n,"class","chat-messages__before-animation svelte-t8wu3u")},m(t,r){(0,e.$Tr)(t,n,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null);i=!0},p(t,i){62929951&i[0]&&(s=(0,e.NXn)(t[22]),(0,e.dvw)(),o=(0,e.GQg)(o,i,a,1,t,s,r,n,e.cly,bg,null,vg),(0,e.gbL)())},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,e.Ui)(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,e.etI)(o[t]);i=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<o.length;e+=1)o[e].d()}}}function bg(t,n){let i,o,r,s;const a=[n[43],{theme:n[0]},{date:n[25][n[45]]},{onHorizontalMoveChange:n[2]},{isMobile:n[3]},{outputBus:n[4]},{onDivClick:n[10]},{onMessageClick:n[11]},{isExternalDialog:n[24]},{markdown:n[1]},{useMarkdown:n[12]},{isDialog:n[23]}];function l(e){n[32](e,n[45])}let c={};for(let t=0;t<a.length;t+=1)c=(0,e.f0i)(c,a[t]);return void 0!==n[13][n[45]]&&(c.element=n[13][n[45]]),o=new gh({props:c}),e.VnY.push((()=>(0,e.akz)(o,"element",l))),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),s=!0},p(t,i){n=t;const s=62921759&i[0]?(0,e.LoY)(a,[4194304&i[0]&&(0,e.gCg)(n[43]),1&i[0]&&{theme:n[0]},37748736&i[0]&&{date:n[25][n[45]]},4&i[0]&&{onHorizontalMoveChange:n[2]},8&i[0]&&{isMobile:n[3]},16&i[0]&&{outputBus:n[4]},1024&i[0]&&{onDivClick:n[10]},2048&i[0]&&{onMessageClick:n[11]},16777216&i[0]&&{isExternalDialog:n[24]},2&i[0]&&{markdown:n[1]},4096&i[0]&&{useMarkdown:n[12]},8388608&i[0]&&{isDialog:n[23]}]):{};!r&&4202496&i[0]&&(r=!0,s.element=n[13][n[45]],(0,e.hjT)((()=>r=!1))),o.$set(s)},i(t){s||((0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),s=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function yg(t){let n,i,o,r=[],s=new Map,a=(0,e.NXn)(t[21]);const l=e=>e[43].id;for(let e=0;e<a.length;e+=1){let n=fg(t,a,e),i=l(n);s.set(i,r[e]=xg(i,n))}let c=t[17]&&t[9]===g.U.THINKING&&wg(t);return{c(){n=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();i=(0,e.DhX)(),c&&c.c(),(0,e.Ljt)(n,"class","chat-messages__after-animation svelte-t8wu3u")},m(t,s){(0,e.$Tr)(t,n,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);(0,e.R3I)(n,i),c&&c.m(n,null),o=!0},p(t,o){329350175&o[0]&&(a=(0,e.NXn)(t[21]),(0,e.dvw)(),r=(0,e.GQg)(r,o,l,1,t,a,s,n,e.cly,xg,i,fg),(0,e.gbL)()),t[17]&&t[9]===g.U.THINKING?c?(c.p(t,o),131584&o[0]&&(0,e.Ui)(c,1)):(c=wg(t),c.c(),(0,e.Ui)(c,1),c.m(n,null)):c&&((0,e.dvw)(),(0,e.etI)(c,1,1,(()=>{c=null})),(0,e.gbL)())},i(t){if(!o){for(let t=0;t<a.length;t+=1)(0,e.Ui)(r[t]);(0,e.Ui)(c),o=!0}},o(t){for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);(0,e.etI)(c),o=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<r.length;e+=1)r[e].d();c&&c.d()}}}function xg(t,n){let i,o,r,s;const a=[n[43],{theme:n[0]},{phrase:n[28](n[45])===n[14].length-1&&n[16].outputStatus?mh.h[n[16].outputStatus]:void 0},{date:n[25][n[28](n[45])]},{onHorizontalMoveChange:n[2]},{isMobile:n[3]},{outputBus:n[4]},{onDivClick:n[10]},{onMessageClick:n[11]},{isExternalDialog:n[24]},{markdown:n[1]},{useMarkdown:n[12]},{isDialog:n[23]}];function l(e){n[33](e,n[45])}let c={};for(let t=0;t<a.length;t+=1)c=(0,e.f0i)(c,a[t]);return void 0!==n[13][n[28](n[45])]&&(c.element=n[13][n[28](n[45])]),o=new gh({props:c}),e.VnY.push((()=>(0,e.akz)(o,"element",l))),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),s=!0},p(t,i){n=t;const s=329341983&i[0]?(0,e.LoY)(a,[2097152&i[0]&&(0,e.gCg)(n[43]),1&i[0]&&{theme:n[0]},270614528&i[0]&&{phrase:n[28](n[45])===n[14].length-1&&n[16].outputStatus?mh.h[n[16].outputStatus]:void 0},304087040&i[0]&&{date:n[25][n[28](n[45])]},4&i[0]&&{onHorizontalMoveChange:n[2]},8&i[0]&&{isMobile:n[3]},16&i[0]&&{outputBus:n[4]},1024&i[0]&&{onDivClick:n[10]},2048&i[0]&&{onMessageClick:n[11]},16777216&i[0]&&{isExternalDialog:n[24]},2&i[0]&&{markdown:n[1]},4096&i[0]&&{useMarkdown:n[12]},8388608&i[0]&&{isDialog:n[23]}]):{};!r&&270540800&i[0]&&(r=!0,s.element=n[13][n[28](n[45])],(0,e.hjT)((()=>r=!1))),o.$set(s)},i(t){s||((0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),s=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function wg(t){let n,i;return n=new kh({props:{theme:t[0],isMobile:t[3],isExternalDialog:t[24]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t[0]&&(i.theme=e[0]),8&t[0]&&(i.isMobile=e[3]),16777216&t[0]&&(i.isExternalDialog=e[24]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function kg(t){let n,i,o;return i=new cg({props:{outputBus:t[4],page:t[8],onClick:t[5],theme:t[0],suggests:t[6],isMobile:t[3],onHorizontalMoveChange:t[2],isGreetings:t[7]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","chat-messages__suggests-wrapper svelte-t8wu3u")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.outputBus=e[4]),256&t[0]&&(n.page=e[8]),32&t[0]&&(n.onClick=e[5]),1&t[0]&&(n.theme=e[0]),64&t[0]&&(n.suggests=e[6]),8&t[0]&&(n.isMobile=e[3]),4&t[0]&&(n.onHorizontalMoveChange=e[2]),128&t[0]&&(n.isGreetings=e[7]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function $g(t){let n,i,o,r=t[21].length&&yg(t),s=t[6].length&&kg(t);return{c(){r&&r.c(),n=(0,e.DhX)(),s&&s.c(),i=(0,e.cSb)()},m(t,a){r&&r.m(t,a),(0,e.$Tr)(t,n,a),s&&s.m(t,a),(0,e.$Tr)(t,i,a),o=!0},p(t,o){t[21].length?r?(r.p(t,o),2097152&o[0]&&(0,e.Ui)(r,1)):(r=yg(t),r.c(),(0,e.Ui)(r,1),r.m(n.parentNode,n)):r&&((0,e.dvw)(),(0,e.etI)(r,1,1,(()=>{r=null})),(0,e.gbL)()),t[6].length?s?(s.p(t,o),64&o[0]&&(0,e.Ui)(s,1)):(s=kg(t),s.c(),(0,e.Ui)(s,1),s.m(i.parentNode,i)):s&&((0,e.dvw)(),(0,e.etI)(s,1,1,(()=>{s=null})),(0,e.gbL)())},i(t){o||((0,e.Ui)(r),(0,e.Ui)(s),o=!0)},o(t){(0,e.etI)(r),(0,e.etI)(s),o=!1},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(i)),r&&r.d(t),s&&s.d(t)}}}function Cg(t){let n,i,o,r=t[22].length&&_g(t),s={lastUserMessageElement:t[20],$$slots:{default:[$g]},$$scope:{ctx:t}};return i=new Lh({props:s}),t[34](i),{c(){r&&r.c(),n=(0,e.DhX)(),(0,e.YCL)(i.$$.fragment)},m(t,s){r&&r.m(t,s),(0,e.$Tr)(t,n,s),(0,e.yef)(i,t,s),o=!0},p(t,o){t[22].length?r?(r.p(t,o),4194304&o[0]&&(0,e.Ui)(r,1)):(r=_g(t),r.c(),(0,e.Ui)(r,1),r.m(n.parentNode,n)):r&&((0,e.dvw)(),(0,e.etI)(r,1,1,(()=>{r=null})),(0,e.gbL)());const s={};1048576&o[0]&&(s.lastUserMessageElement=t[20]),61046783&o[0]|65536&o[1]&&(s.$$scope={dirty:o,ctx:t}),i.$set(s)},i(t){o||((0,e.Ui)(r),(0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(r),(0,e.etI)(i.$$.fragment,t),o=!1},d(o){o&&(0,e.ogt)(n),r&&r.d(o),t[34](null),(0,e.vpE)(i,o)}}}function Ig(t){let n,i,o,r,s=`${t[27]}px`;return i=new gg({props:{$$slots:{default:[Cg]},$$scope:{ctx:t}}}),t[35](i),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","chat-messages"),(0,e.VHj)(n,"chat-messages_standalone",!1),(0,e.VHj)(n,"chat-messages_mobile",t[3]),(0,e.czc)(n,"--gap",s)},m(t,o){(0,e.$Tr)(t,n,o),(0,e.yef)(i,n,null),r=!0},p(t,o){const s={};66551807&o[0]|65536&o[1]&&(s.$$scope={dirty:o,ctx:t}),i.$set(s),(!r||8&o[0])&&(0,e.VHj)(n,"chat-messages_mobile",t[3])},i(t){r||((0,e.Ui)(i.$$.fragment,t),o||(0,e.P$F)((()=>{o=(0,e.HCz)(n,Pu,{duration:500}),o.start()})),r=!0)},o(t){(0,e.etI)(i.$$.fragment,t),r=!1},d(o){o&&(0,e.ogt)(n),t[35](null),(0,e.vpE)(i)}}}function Mg(n,i,o){let r,s,a,l,c,u,d,p,h,g,m,f,v,_=e.ZTd;n.$$.on_destroy.push((()=>_()));let{theme:b}=i,{markdown:y}=i,{onHorizontalMoveChange:x=L.Z}=i,{isMobile:w=!1}=i,{outputBus:k}=i,{onSuggestClick:$}=i,{suggests:C=[]}=i,{isSuggestGreetings:I=!1}=i,{page:M}=i,{aliceState:j}=i,{onDivClick:S=L.Z}=i,{onMessageClick:T=L.Z}=i,{useMarkdown:E=!1}=i;const{allChatsStore:D}=(0,t.fw)(ue.f1);(0,e.FIv)(n,D,(e=>o(31,v=e)));const z=(0,t.fw)(Pp);let O,A,N,R,B,P=[],H=!1;(0,t.gx)((()=>{o(17,H=(null==m?void 0:m.isUserAuthor)&&Boolean(null==m?void 0:m.bubbles.length)||!(null==m?void 0:m.isUserAuthor)&&!(null==m?void 0:m.bubbles.length));const e=m&&m.bubbles!==(null==N?void 0:N.bubbles);w||u===R||-1===u?-1!==d&&e&&U():(o(29,O=u),e&&A.startAnimation()),N=m,R=u})),(0,t.H3)((()=>{z.scrollToBottom()}));const U=()=>{m&&B.scrollWhileStreaming(g,Boolean(m.isUserAuthor))};(0,t.v)(mh.e,{scrollChatWhileStreaming:U});const V=e=>O?e+O:e;return n.$$set=e=>{"theme"in e&&o(0,b=e.theme),"markdown"in e&&o(1,y=e.markdown),"onHorizontalMoveChange"in e&&o(2,x=e.onHorizontalMoveChange),"isMobile"in e&&o(3,w=e.isMobile),"outputBus"in e&&o(4,k=e.outputBus),"onSuggestClick"in e&&o(5,$=e.onSuggestClick),"suggests"in e&&o(6,C=e.suggests),"isSuggestGreetings"in e&&o(7,I=e.isSuggestGreetings),"page"in e&&o(8,M=e.page),"aliceState"in e&&o(9,j=e.aliceState),"onDivClick"in e&&o(10,S=e.onDivClick),"onMessageClick"in e&&o(11,T=e.onMessageClick),"useMarkdown"in e&&o(12,E=e.useMarkdown)},n.$$.update=()=>{1&n.$$.dirty[1]&&(o(15,r=v.currentChat),_(),_=(0,e.LdU)(r,(e=>o(16,f=e)))),65536&n.$$.dirty[0]&&o(14,s=f.messages),49152&n.$$.dirty[0]&&o(25,a=r.isHistoryEmpty?[]:Ih(s)),65536&n.$$.dirty[0]&&o(24,l=f.info.isExternalDialog),32768&n.$$.dirty[0]&&o(23,c=r.isDialog),65536&n.$$.dirty[0]&&(u=f.firstUserMessageInSessionIndex),65536&n.$$.dirty[0]&&o(30,d=f.lastUserMessageInSessionIndex),536887296&n.$$.dirty[0]&&o(22,p=void 0!==O?s.slice(0,O):s),536887296&n.$$.dirty[0]&&o(21,h=void 0!==O?s.slice(O):[]),1073750016&n.$$.dirty[0]&&o(20,g=P[d]),16384&n.$$.dirty[0]&&(m=(0,Dh.CT)(s))},[b,y,x,w,k,$,C,I,M,j,S,T,E,P,s,r,f,H,A,B,g,h,p,c,l,a,D,8,V,O,d,v,function(e,t){n.$$.not_equal(P[t],e)&&(P[t]=e,o(13,P))},function(e,t){n.$$.not_equal(P[V(t)],e)&&(P[V(t)]=e,o(13,P))},function(t){e.VnY[t?"unshift":"push"]((()=>{A=t,o(18,A)}))},function(t){e.VnY[t?"unshift":"push"]((()=>{B=t,o(19,B)}))}]}class jg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Mg,Ig,e.N8,{theme:0,markdown:1,onHorizontalMoveChange:2,isMobile:3,outputBus:4,onSuggestClick:5,suggests:6,isSuggestGreetings:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11,useMarkdown:12},mg,[-1,-1])}}const Sg=jg;var Tg=s(4090);const Eg=Symbol();function Lg(t){(0,e.qOq)(t,"svelte-1gzwe00",".chat.svelte-1gzwe00.svelte-1gzwe00{padding:0 24px;padding-bottom:var(--padding-bottom);display:flex;flex-direction:column;gap:8px}.chat_fullscreen.svelte-1gzwe00.svelte-1gzwe00{padding:initial}.chat_standalone.svelte-1gzwe00.svelte-1gzwe00{padding-left:0;padding-right:0}.chat__upper-disclaimer.svelte-1gzwe00.svelte-1gzwe00{font-size:14px;font-weight:400;line-height:16px;text-align:center;color:rgb(146, 157, 180);width:100%;box-sizing:border-box;padding:0 70px;margin-bottom:8px}.chat_standalone.svelte-1gzwe00 .chat__upper-disclaimer.svelte-1gzwe00{color:var(--text-secondary-color)}")}function Dg(t){let n,i,o=`Пока я умею помнить только последние ${t[14].maxMessagesInLS} фраз`;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(o),(0,e.Ljt)(n,"class","chat__upper-disclaimer svelte-1gzwe00")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){16384&n&&o!==(o=`Пока я умею помнить только последние ${t[14].maxMessagesInLS} фраз`)&&(0,e.rTO)(i,o)},d(t){t&&(0,e.ogt)(n)}}}function zg(t){let n,i;return n=new Sg({props:{theme:t[0],onHorizontalMoveChange:t[4],isMobile:t[5],outputBus:t[3],page:t[8],onSuggestClick:t[6],suggests:t[7],aliceState:t[9],onDivClick:t[10],onMessageClick:t[11],markdown:t[1],useMarkdown:t[2],isSuggestGreetings:t[12]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t&&(i.theme=e[0]),16&t&&(i.onHorizontalMoveChange=e[4]),32&t&&(i.isMobile=e[5]),8&t&&(i.outputBus=e[3]),256&t&&(i.page=e[8]),64&t&&(i.onSuggestClick=e[6]),128&t&&(i.suggests=e[7]),512&t&&(i.aliceState=e[9]),1024&t&&(i.onDivClick=e[10]),2048&t&&(i.onMessageClick=e[11]),2&t&&(i.markdown=e[1]),4&t&&(i.useMarkdown=e[2]),4096&t&&(i.isSuggestGreetings=e[12]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Og(t){let n,i,o,r=t[13]&&(0,Tg.Yl)(t[14]),s=`${t[18]}px`,a=r&&Dg(t),l=t[15].length&&zg(t);return{c(){n=(0,e.bGB)("div"),a&&a.c(),i=(0,e.DhX)(),l&&l.c(),(0,e.Ljt)(n,"class","chat svelte-1gzwe00"),(0,e.VHj)(n,"chat_fullscreen",t[16]),(0,e.VHj)(n,"chat_standalone",!1),(0,e.VHj)(n,"chat_mobile",t[5]),(0,e.czc)(n,"--padding-bottom",s)},m(t,r){(0,e.$Tr)(t,n,r),a&&a.m(n,null),(0,e.R3I)(n,i),l&&l.m(n,null),o=!0},p(t,[s]){24576&s&&(r=t[13]&&(0,Tg.Yl)(t[14])),r?a?a.p(t,s):(a=Dg(t),a.c(),a.m(n,i)):a&&(a.d(1),a=null),t[15].length?l?(l.p(t,s),32768&s&&(0,e.Ui)(l,1)):(l=zg(t),l.c(),(0,e.Ui)(l,1),l.m(n,null)):l&&((0,e.dvw)(),(0,e.etI)(l,1,1,(()=>{l=null})),(0,e.gbL)()),(!o||32&s)&&(0,e.VHj)(n,"chat_mobile",t[5])},i(t){o||((0,e.Ui)(l),o=!0)},o(t){(0,e.etI)(l),o=!1},d(t){t&&(0,e.ogt)(n),a&&a.d(),l&&l.d()}}}function Ag(n,i,o){let r,s,a,l,c=e.ZTd;n.$$.on_destroy.push((()=>c()));let{theme:u}=i,{markdown:d}=i,{useMarkdown:p=!1}=i,{outputBus:h}=i,{onHorizontalMoveChange:g=L.Z}=i,{isMobile:m=!1}=i,{onSuggestClick:f}=i,{suggests:v}=i,{page:_}=i,{aliceState:b}=i,{onDivClick:y=L.Z}=i,{onMessageClick:x=L.Z}=i,{isSuggestGreetings:w=!1}=i;const{isFullscreenExp:k,allChatsStore:$}=(0,t.fw)(ue.f1);(0,e.FIv)(n,$,(e=>o(20,l=e))),(0,t.v)(Eg,0);let C=!1;return(0,t.gx)((()=>{o(13,C=(0,Tg.Yl)(r)&&s.length>=r.maxMessagesInLS)})),n.$$set=e=>{"theme"in e&&o(0,u=e.theme),"markdown"in e&&o(1,d=e.markdown),"useMarkdown"in e&&o(2,p=e.useMarkdown),"outputBus"in e&&o(3,h=e.outputBus),"onHorizontalMoveChange"in e&&o(4,g=e.onHorizontalMoveChange),"isMobile"in e&&o(5,m=e.isMobile),"onSuggestClick"in e&&o(6,f=e.onSuggestClick),"suggests"in e&&o(7,v=e.suggests),"page"in e&&o(8,_=e.page),"aliceState"in e&&o(9,b=e.aliceState),"onDivClick"in e&&o(10,y=e.onDivClick),"onMessageClick"in e&&o(11,x=e.onMessageClick),"isSuggestGreetings"in e&&o(12,w=e.isSuggestGreetings)},n.$$.update=()=>{1048576&n.$$.dirty&&(o(14,r=l.currentChat),c(),c=(0,e.LdU)(r,(e=>o(19,a=e)))),524288&n.$$.dirty&&o(15,s=a.messages)},[u,d,p,h,g,m,f,v,_,b,y,x,w,C,r,s,k,$,0,a,l]}class Ng extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Ag,Og,e.N8,{theme:0,markdown:1,useMarkdown:2,outputBus:3,onHorizontalMoveChange:4,isMobile:5,onSuggestClick:6,suggests:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11,isSuggestGreetings:12},Lg)}}const Rg=Ng;var Bg=s(981);const Pg=e=>({}),Hg=e=>({onScroll:e[0]});function Ug(t){let n;const i=t[4].default,o=(0,e.nuO)(i,t,t[3],Hg);return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(t,[r]){o&&o.p&&(!n||8&r)&&(0,e.kmG)(o,i,t,t[3],n?(0,e.u2N)(i,t[3],r,Pg):(0,e.VOJ)(t[3]),Hg)},i(t){n||((0,e.Ui)(o,t),n=!0)},o(t){(0,e.etI)(o,t),n=!1},d(e){o&&o.d(e)}}}function Vg(e,n,i){let o,{$$slots:r={},$$scope:s}=n,{scrollableElement:a}=n,{headerHeight:l=0}=n,c=!1;const u=(0,Bg.P)((()=>{const{scrollTop:e,scrollHeight:t,offsetHeight:n}=a;c=Math.abs(t-n-e)>=5}));return(0,t.v)(Pp,{scrollTo:e=>{i(1,a.scrollTop=e,a)},scrollToBottom:()=>{i(1,a.scrollTop=a.scrollHeight,a)},scrollToElementTop:e=>{i(1,a.scrollTop=e.offsetTop-o,a)},addScrollListener:(e,t=0)=>{const n=(0,Bg.P)((()=>{requestAnimationFrame(e)}),t);return a.addEventListener("scroll",n,Hp),()=>a.removeEventListener("scroll",n,Hp)},getScrollableElementProps:()=>({offsetHeight:a.offsetHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop,boundingClientRect:a.getBoundingClientRect()}),getScrollWrapperProps:()=>({isScrolledFromBottom:c})}),e.$$set=e=>{"scrollableElement"in e&&i(1,a=e.scrollableElement),"headerHeight"in e&&i(2,l=e.headerHeight),"$$scope"in e&&i(3,s=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&(o=l+8)},[u,a,l,s,r]}class Gg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Vg,Ug,e.N8,{scrollableElement:1,headerHeight:2})}}const qg=Gg;function Fg(t){(0,e.qOq)(t,"svelte-14g690g",".scrollbar.svelte-14g690g.svelte-14g690g{position:relative;display:flex;width:100%;margin-top:auto;min-height:0;flex-grow:1}.scrollbar__scrollable.svelte-14g690g.svelte-14g690g{display:flex;width:100%;z-index:0;position:relative;-webkit-overflow-scrolling:touch;overscroll-behavior-y:none;scrollbar-width:none;-ms-overflow-style:none;margin-right:-30px;padding-right:30px;overflow-x:hidden;overflow-y:auto}.scrollbar__scrollable.svelte-14g690g.svelte-14g690g::-webkit-scrollbar{display:none}.scrollbar_disabled.svelte-14g690g .scrollbar__scrollable.svelte-14g690g{overflow:hidden}.scrollbar_is-content-starts-top.svelte-14g690g.svelte-14g690g{margin-top:0}.scrollbar__inner.svelte-14g690g.svelte-14g690g{width:100%}.scrollbar__track.svelte-14g690g.svelte-14g690g{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;top:32px;right:0;width:12px;bottom:32px}.scrollbar__track_hidden.svelte-14g690g.svelte-14g690g{display:none}.scrollbar__thumb.svelte-14g690g.svelte-14g690g{position:relative;top:0;border-radius:2px;cursor:pointer;background:rgba(0, 0, 0, 0.15);transition:0.15s ease-out;transition-property:width, height, background, border-radius;touch-action:none;width:4px;height:0;margin:0 auto}.scrollbar_theme_dark.svelte-14g690g .scrollbar__thumb.svelte-14g690g{background:rgba(255, 255, 255, 0.25)}.scrollbar__track.svelte-14g690g:hover .scrollbar__thumb.svelte-14g690g,.scrollbar__thumb_active_yes.svelte-14g690g.svelte-14g690g{background:rgba(0, 0, 0, 0.2);border-radius:4px;width:8px}.scrollbar_theme_dark.svelte-14g690g .scrollbar__track:hover .scrollbar__thumb.svelte-14g690g{background:rgba(255, 255, 255, 0.35)}.scrollbar__body-styles{-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}")}function Zg(t){let n;const i=t[19].default,o=(0,e.nuO)(i,t,t[23],null);return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(t,r){o&&o.p&&(!n||8388608&r[0])&&(0,e.kmG)(o,i,t,t[23],n?(0,e.u2N)(i,t[23],r,null):(0,e.VOJ)(t[23]),null)},i(t){n||((0,e.Ui)(o,t),n=!0)},o(t){(0,e.etI)(o,t),n=!1},d(e){o&&o.d(e)}}}function Yg(t){let n,i,o,r,s,a,l,c,u,d,p=t[4]&&Zg(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),p&&p.c(),r=(0,e.DhX)(),s=(0,e.bGB)("div"),a=(0,e.bGB)("div"),(0,e.Ljt)(o,"class","scrollbar__inner svelte-14g690g"),(0,e.Ljt)(i,"class","scrollbar__scrollable svelte-14g690g"),(0,e.Ljt)(a,"class","scrollbar__thumb svelte-14g690g"),(0,e.Ljt)(s,"class","scrollbar__track svelte-14g690g"),(0,e.VHj)(s,"scrollbar__track_hidden",!t[6]),(0,e.Ljt)(n,"class",l=(0,e.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-14g690g"),(0,e.VHj)(n,"scrollbar_disabled",t[1]),(0,e.VHj)(n,"scrollbar_is-content-starts-top",t[2])},m(l,h){(0,e.$Tr)(l,n,h),(0,e.R3I)(n,i),(0,e.R3I)(i,o),p&&p.m(o,null),t[20](i),(0,e.R3I)(n,r),(0,e.R3I)(n,s),(0,e.R3I)(s,a),t[21](a),t[22](n),c=!0,u||(d=[(0,e.oLt)(i,"scroll",t[7]),(0,e.oLt)(i,"scroll",(function(){(0,e.sBU)(t[35])&&t[35].apply(this,arguments)})),(0,e.oLt)(a,"pointerdown",t[8]),(0,e.oLt)(n,"touchstart",t[9],{passive:!0}),(0,e.oLt)(n,"touchmove",t[10],{passive:!0}),(0,e.oLt)(n,"touchend",t[11],{passive:!0})],u=!0)},p(i,r){(t=i)[4]?p?(p.p(t,r),16&r[0]&&(0,e.Ui)(p,1)):(p=Zg(t),p.c(),(0,e.Ui)(p,1),p.m(o,null)):p&&((0,e.dvw)(),(0,e.etI)(p,1,1,(()=>{p=null})),(0,e.gbL)()),(!c||64&r[0])&&(0,e.VHj)(s,"scrollbar__track_hidden",!t[6]),(!c||1&r[0]&&l!==(l=(0,e.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-14g690g"))&&(0,e.Ljt)(n,"class",l),(!c||3&r[0])&&(0,e.VHj)(n,"scrollbar_disabled",t[1]),(!c||5&r[0])&&(0,e.VHj)(n,"scrollbar_is-content-starts-top",t[2])},i(t){c||((0,e.Ui)(p),c=!0)},o(t){(0,e.etI)(p),c=!1},d(i){i&&(0,e.ogt)(n),p&&p.d(),t[20](null),t[21](null),t[22](null),u=!1,(0,e.j7q)(d)}}}function Wg(t){let n,i;return n=new qg({props:{scrollableElement:t[4],$$slots:{default:[Yg,({onScroll:e})=>({35:e}),({onScroll:e})=>[0,e?16:0]]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.scrollableElement=e[4]),8388735&t[0]|16&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}const Xg=100;function Kg(n,i,o){let r,s,a,l,c,u,d,p,h,g,{$$slots:m={},$$scope:f}=i,{theme:v}=i,{shouldHideScrollbar:_=!1}=i,{onScrollStart:b}=i,{onScrollEnd:y}=i,{afterScroll:x}=i,{disableScroll:w=!1}=i,{bottomOrientOnResize:k=!1}=i,{contentStartsTop:$=!1}=i,{baseOnScroll:C=L.Z}=i,I=!1,M=!1;(0,t.H3)((()=>{j(),l=new ResizeObserver(j),l.observe(r)})),(0,t.ev)((()=>{window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",T),null==l||l.unobserve(r)}));const j=()=>{C(),g&&clearTimeout(g);const e=s.scrollHeight,t=s.offsetHeight,n=s.scrollTop;k&&h&&h!==t&&s.scrollTo(0,n-t+h),h=t,o(6,I=!_&&void 0!==t&&t<e);let i=I?t/e:0,r=0;c!==i||u!==n?(u=n,c=i,I&&(c=Math.max(c,.1),r=100*(1-c)/(e-t)),void 0!==u&&requestAnimationFrame((()=>{a&&(o(5,a.style.height=(100*c).toFixed(2)+"%",a),o(5,a.style.top=(r*u).toFixed(2)+"%",a))})),null==x||x()):null==x||x()},S=e=>{const t=e.screenY-p;o(4,s.scrollTop=d+t/c,s)},T=()=>{window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",T),document.body.classList.remove("scrollbar__body-styles"),a.classList.remove("scrollbar__thumb_active_yes")};return n.$$set=e=>{"theme"in e&&o(0,v=e.theme),"shouldHideScrollbar"in e&&o(12,_=e.shouldHideScrollbar),"onScrollStart"in e&&o(13,b=e.onScrollStart),"onScrollEnd"in e&&o(14,y=e.onScrollEnd),"afterScroll"in e&&o(15,x=e.afterScroll),"disableScroll"in e&&o(1,w=e.disableScroll),"bottomOrientOnResize"in e&&o(16,k=e.bottomOrientOnResize),"contentStartsTop"in e&&o(2,$=e.contentStartsTop),"baseOnScroll"in e&&o(17,C=e.baseOnScroll),"$$scope"in e&&o(23,f=e.$$scope)},[v,w,$,r,s,a,I,j,e=>{j(),d=s.scrollTop,p=e.screenY,document.body.classList.add("scrollbar__body-styles"),a.classList.add("scrollbar__thumb_active_yes"),window.addEventListener("pointermove",S,{passive:!0}),window.addEventListener("pointerup",T)},()=>{null==b||b(),M=!0},()=>{M&&(y&&(g=window.setTimeout(y,Xg)),M=!1)},()=>{setTimeout((()=>null==y?void 0:y()),Xg)},_,b,y,x,k,C,(e,t)=>{null==s||s.scrollTo(e,t)},m,function(t){e.VnY[t?"unshift":"push"]((()=>{s=t,o(4,s)}))},function(t){e.VnY[t?"unshift":"push"]((()=>{a=t,o(5,a)}))},function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(3,r)}))},f]}class Qg extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Kg,Wg,e.AqN,{theme:0,shouldHideScrollbar:12,onScrollStart:13,onScrollEnd:14,afterScroll:15,disableScroll:1,bottomOrientOnResize:16,contentStartsTop:2,baseOnScroll:17,scrollScrollbarTo:18},Fg,[-1,-1])}get scrollScrollbarTo(){return this.$$.ctx[18]}}const Jg=Qg,em={intro:"Чем я могу помочь?",noMic:"Чтобы вы со мной могли разговаривать, понадобится микрофон",noPermission:"Чтобы вы со мной могли разговаривать, нужно разрешение на микрофон"},tm="#7137FF",nm="voice_activation_notifier_closed";function im(t){(0,e.qOq)(t,"svelte-1bed73c",".greetings-plug.svelte-1bed73c.svelte-1bed73c{display:flex;flex-wrap:wrap;padding:0 24px;gap:6px;margin-bottom:10px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;height:44px}.greetings-plug_theme_dark.svelte-1bed73c .greetings-plug__ghost.svelte-1bed73c{border-color:rgba(122, 85, 255, 0.4)}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(1){width:30%;margin-bottom:6px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(2){width:50%;margin-bottom:6px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(3){width:40%}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(4){width:20%}")}function om(t){let n,i,o,r,s,a,l,c,u;return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),r=(0,e.bGB)("div"),s=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.DhX)(),c=(0,e.bGB)("div"),(0,e.Ljt)(i,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(r,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(a,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(c,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(n,"class",u=(0,e.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1bed73c")},m(t,u){(0,e.$Tr)(t,n,u),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.R3I)(n,r),(0,e.R3I)(n,s),(0,e.R3I)(n,a),(0,e.R3I)(n,l),(0,e.R3I)(n,c)},p(t,[i]){1&i&&u!==(u=(0,e.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1bed73c")&&(0,e.Ljt)(n,"class",u)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function rm(e,t,n){let{theme:i}=t;return e.$$set=e=>{"theme"in e&&n(0,i=e.theme)},[i]}class sm extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,rm,om,e.N8,{theme:0},im)}}const am=sm;var lm=s(8396);function cm(t){(0,e.qOq)(t,"svelte-yh69z7",".notifier.svelte-yh69z7.svelte-yh69z7{background:rgba(0, 0, 0, 0.06);border-radius:16px;padding:12px 80px 12px 14px;font-weight:500;font-size:14px;line-height:18px;position:relative}.notifier_theme_dark.svelte-yh69z7.svelte-yh69z7{background:rgba(255, 255, 255, 0.06)}.notifier_standalone.svelte-yh69z7.svelte-yh69z7{display:flex;align-items:center;gap:12px;padding:16px;background:var(--notifier-bg-color);font-size:16px;line-height:22px;font-weight:400;color:var(--text-bubble-color)}.notifier_standalone.notifier_mobile.svelte-yh69z7.svelte-yh69z7{font-size:14px;line-height:20px}.notifier__icon.svelte-yh69z7.svelte-yh69z7{position:absolute;top:18px;left:16px}.notifier_standalone.svelte-yh69z7 .notifier__icon.svelte-yh69z7{position:static;width:40px;height:40px;flex-shrink:0}.notifier_standalone.svelte-yh69z7 .notifier__circle.svelte-yh69z7{fill:var(--notifier-circle-color)}.notifier_standalone.svelte-yh69z7 .notifier__content.svelte-yh69z7{display:flex;flex-direction:column;align-items:flex-start;gap:2px;min-height:46px;justify-content:center;flex-grow:1}.notifier_standalone.notifier__mobile.svelte-yh69z7 .notifier__content.svelte-yh69z7{gap:4px}.notifier__link.svelte-yh69z7.svelte-yh69z7{cursor:pointer}.notifier_standalone.svelte-yh69z7 .notifier__link.svelte-yh69z7{text-decoration:none;color:var(--brand-color)}.notifier_standalone.svelte-yh69z7 .notifier__link.svelte-yh69z7:visited{color:var(--brand-color)}.notifier_standalone.svelte-yh69z7 .notifier__link.svelte-yh69z7:hover{color:var(--link-hover-color)}.notifier_standalone.notifier_mobile.svelte-yh69z7 .notifier__link.svelte-yh69z7{font-weight:500;line-height:22px}.notifier__close.svelte-yh69z7.svelte-yh69z7{position:absolute;top:12px;right:12px;background-image:url('https://yastatic.net/s3/home/alice_popup/Close_permission_denied_v2.svg');background-repeat:no-repeat;background-position:center;background-color:initial;border:0;border-radius:50%;width:20px;height:20px;cursor:pointer;opacity:0.45}.notifier_standalone.svelte-yh69z7 .notifier__close.svelte-yh69z7{position:static;opacity:0.8;width:24px;height:24px;flex-shrink:0;background:none;padding:0}.notifier_standalone.svelte-yh69z7 .notifier__close.svelte-yh69z7:hover{opacity:0.4}.notifier_standalone.svelte-yh69z7 .notifier__close-icon{fill:var(--text-bubble-color)}")}function um(t){let n,i,o,r;return{c(){n=(0,e.bGB)("a"),i=(0,e.fLW)(t[6]),(0,e.Ljt)(n,"class","notifier__link svelte-yh69z7"),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(n,"rel","noopener"),(0,e.Ljt)(n,"href",t[5])},m(s,a){(0,e.$Tr)(s,n,a),(0,e.R3I)(n,i),o||(r=(0,e.oLt)(n,"click",t[11]),o=!0)},p(t,o){64&o&&(0,e.rTO)(i,t[6]),32&o&&(0,e.Ljt)(n,"href",t[5])},d(t){t&&(0,e.ogt)(n),o=!1,r()}}}function dm(t){let n,i,o,r,s,a,l,c,u,d,p,h=(t[5]||t[1])&&t[6]&&um(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.DhX)(),o=(0,e.bGB)("div"),r=(0,e.fLW)(t[4]),s=(0,e.DhX)(),h&&h.c(),a=(0,e.DhX)(),l=(0,e.bGB)("button"),(0,e.Ljt)(o,"class","notifier__content svelte-yh69z7"),(0,e.Ljt)(l,"aria-label",c="Закрыть"),(0,e.Ljt)(l,"class","notifier__close svelte-yh69z7"),(0,e.Ljt)(n,"class",u=(0,e.H1I)(`notifier notifier_theme_${t[2]}`)+" svelte-yh69z7"),(0,e.VHj)(n,"notifier_standalone",!1),(0,e.VHj)(n,"notifier_mobile",t[8])},m(c,u){(0,e.$Tr)(c,n,u),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.R3I)(o,r),(0,e.R3I)(o,s),h&&h.m(o,null),(0,e.R3I)(n,a),(0,e.R3I)(n,l),d||(p=(0,e.oLt)(l,"click",(0,e.AT7)(t[12])),d=!0)},p(t,[i]){16&i&&(0,e.rTO)(r,t[4]),(t[5]||t[1])&&t[6]?h?h.p(t,i):(h=um(t),h.c(),h.m(o,null)):h&&(h.d(1),h=null),4&i&&u!==(u=(0,e.H1I)(`notifier notifier_theme_${t[2]}`)+" svelte-yh69z7")&&(0,e.Ljt)(n,"class",u),4&i&&(0,e.VHj)(n,"notifier_standalone",!1),260&i&&(0,e.VHj)(n,"notifier_mobile",t[8])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),h&&h.d(),d=!1,p()}}}function pm(e,n,i){let{onClose:o}=n,{onClick:r}=n,{theme:s}=n,{outputBus:a}=n,{text:l}=n,{href:c=""}=n,{linkText:u}=n,{statName:d}=n,{page:p}=n;const{isMobile:h}=(0,t.fw)(ue.f1);let g=`${p?p+".":""}${d}`;return(0,t.H3)((()=>{d&&a.emit("stat",{path:`${g}_notifier`,eventType:"show"})})),e.$$set=e=>{"onClose"in e&&i(0,o=e.onClose),"onClick"in e&&i(1,r=e.onClick),"theme"in e&&i(2,s=e.theme),"outputBus"in e&&i(3,a=e.outputBus),"text"in e&&i(4,l=e.text),"href"in e&&i(5,c=e.href),"linkText"in e&&i(6,u=e.linkText),"statName"in e&&i(7,d=e.statName),"page"in e&&i(10,p=e.page)},[o,r,s,a,l,c,u,d,h,g,p,e=>{r&&(e.preventDefault(),r())},()=>{d&&a.emit("stat",{path:`${g}_notifier_closed`,eventType:"click"}),o()}]}class hm extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,pm,dm,e.N8,{onClose:0,onClick:1,theme:2,outputBus:3,text:4,href:5,linkText:6,statName:7,page:10},cm)}}const gm=hm;function mm(t){let n,i;return n=new gm({props:{theme:t[0],outputBus:t[1],text:"Чтобы мы могли разговаривать, разрешите в браузере микрофон",linkText:"Как настроить микрофон",href:t[2]?void 0:t[5],statName:"denied",onClose:t[4],page:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};1&t&&(i.theme=e[0]),2&t&&(i.outputBus=e[1]),4&t&&(i.href=e[2]?void 0:e[5]),16&t&&(i.onClose=e[4]),8&t&&(i.page=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function fm(e,n,i){let{theme:o}=n,{outputBus:r}=n,{isMobile:s=!1}=n,{page:a}=n,{onClose:l}=n;const{howToSetUpMicLink:c}=(0,t.fw)(ue.f1);return e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"outputBus"in e&&i(1,r=e.outputBus),"isMobile"in e&&i(2,s=e.isMobile),"page"in e&&i(3,a=e.page),"onClose"in e&&i(4,l=e.onClose)},[o,r,s,a,l,c]}class vm extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,fm,mm,e.N8,{theme:0,outputBus:1,isMobile:2,page:3,onClose:4})}}const _m=vm;function bm(t){let n,i;return n=new gm({props:{theme:t[0],outputBus:t[1],text:t[3],linkText:t[4],statName:"voice_activation",page:t[2],onClose:t[9],onClick:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};1&t&&(i.theme=e[0]),2&t&&(i.outputBus=e[1]),8&t&&(i.text=e[3]),16&t&&(i.linkText=e[4]),4&t&&(i.page=e[2]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ym(e,n,i){let{theme:o}=n,{outputBus:r}=n,{onClose:s}=n,{lsKey:a}=n,{page:l}=n,c="Запускайте Алису голосом",u="Включить";const d=()=>{s(),localStorage.setItem(a,"0")};return(0,t.H3)((()=>{localStorage.setItem(a,String(Number(localStorage.getItem(a)||3)-1))})),(0,t.ev)((()=>{d()})),e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"outputBus"in e&&i(1,r=e.outputBus),"onClose"in e&&i(7,s=e.onClose),"lsKey"in e&&i(8,a=e.lsKey),"page"in e&&i(2,l=e.page)},[o,r,l,c,u,d,()=>{var e,t;null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t||t.enableVoiceActivation(!0,!0),i(3,c='А теперь скажите "Алиса, давай поболтаем"'),i(4,u=void 0)},s,a,()=>{d()}]}class xm extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ym,bm,e.N8,{theme:0,outputBus:1,onClose:7,lsKey:8,page:2})}}const wm=xm;var km=s(2792);function $m(t){(0,e.qOq)(t,"svelte-8a854v",".alice__main.svelte-8a854v.svelte-8a854v.svelte-8a854v{display:flex;flex-direction:column;padding-bottom:30px}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{width:100%}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{padding-bottom:0}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v::-webkit-scrollbar{display:none}.alice__communication.svelte-8a854v.svelte-8a854v.svelte-8a854v{box-sizing:border-box;width:100%;margin:17px 0;padding:0 17px 0 30px;min-height:70px}.alice__main_promo_yes.svelte-8a854v .alice__communication.svelte-8a854v.svelte-8a854v{margin:30px 0}.alice__communication_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-top:44px}.alice__main.svelte-8a854v:not(.alice__main_dialog_yes) .alice__communication.svelte-8a854v>.alice__text_shrinked.svelte-8a854v{padding-top:10px}.alice__communication_theme_dark.svelte-8a854v.svelte-8a854v.svelte-8a854v{color:#ffffff}.alice__communication-back-button.svelte-8a854v.svelte-8a854v.svelte-8a854v{border:none;background:transparent;margin:0 0 10px 4px;padding:0;cursor:pointer;color:rgba(0, 0, 0, 0.33);font-size:14px;line-height:16px;display:flex;align-items:center}.alice__communication_theme_dark.svelte-8a854v .alice__communication-back-button.svelte-8a854v.svelte-8a854v{color:rgba(255, 255, 255, 0.33)}.alice__communication-back-icon.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-right:13px}.alice__communication-back-icon.svelte-8a854v path.svelte-8a854v.svelte-8a854v{fill:#000}.alice__communication_theme_dark.svelte-8a854v path.svelte-8a854v.svelte-8a854v{fill:#fff}.alice__text_shrinked.svelte-8a854v.svelte-8a854v.svelte-8a854v{opacity:50%;font-weight:500;font-size:14px;line-height:16px;letter-spacing:-0.078px;order:-1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex-shrink:0;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.svelte-8a854v.svelte-8a854v.svelte-8a854v{flex-shrink:0;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.alice__text-main_size_small.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:24px;line-height:29px}.alice__text-main.alice__text-main_size_medium.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:21px;line-height:25px}.alice__main.svelte-8a854v:not(.alice__main_dialog_yes) .alice__text-main.alice__text-main_single.svelte-8a854v.svelte-8a854v{padding-top:10px}.alice__text-main.alice__text-main_size_large.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:18px;line-height:22px}.alice__main_dialog_yes.svelte-8a854v .alice__text-main.svelte-8a854v.svelte-8a854v{margin-bottom:17px}.alice__text-wrapper.svelte-8a854v.svelte-8a854v.svelte-8a854v{display:flex;min-height:70px;flex-direction:column;justify-content:center}.alice__main_dialog_yes.alice__main_is-mobile.svelte-8a854v .alice__suggests_container.svelte-8a854v.svelte-8a854v{margin-bottom:0px}.alice__main_dialog_yes.svelte-8a854v .alice__communication.svelte-8a854v.svelte-8a854v{min-height:30px;margin-top:0px;margin-bottom:0px}.alice__div_answer.svelte-8a854v.svelte-8a854v.svelte-8a854v{padding-left:25px;padding-right:25px}.alice__input-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0px 24px}.alice__input-container_focused.svelte-8a854v.svelte-8a854v.svelte-8a854v{order:1}.alice__main_keyboard-input_yes.svelte-8a854v .alice__shortcuts_container.svelte-8a854v.svelte-8a854v{margin-bottom:30px}.alice__notifier_container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0 24px 10px 24px}.alice__main_dialog_yes.svelte-8a854v .alice__text-wrapper.svelte-8a854v.svelte-8a854v{height:initial}.alice__div-card-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-bottom:8px;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__div-card-container_card_yes.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0 17px 8px 30px}.alice__main_should-show-shortcuts.svelte-8a854v .alice__div-card-container.svelte-8a854v.svelte-8a854v{margin-bottom:20px}.alice__main_chat.svelte-8a854v.svelte-8a854v.svelte-8a854v:not(.alice__main_is-mobile){box-sizing:border-box;overflow:hidden;height:100%}.alice__main_chat.svelte-8a854v .alice__dialog-header-container.svelte-8a854v.svelte-8a854v{padding-bottom:5px}.alice__main_chat.svelte-8a854v:not(.alice__main_is-mobile) .alice__dialog-header-container.oknyx-bottom.svelte-8a854v.svelte-8a854v{padding-top:13px;padding-bottom:16px}.alice__main_is-mobile.svelte-8a854v .alice__dialog-header-container.svelte-8a854v.svelte-8a854v{padding-top:12px;padding-bottom:1px}.alice__main_is-mobile.svelte-8a854v .alice__dialog-header-container.oknyx-bottom.svelte-8a854v.svelte-8a854v{padding-top:25px;padding-bottom:15px}.alice__main_chat.svelte-8a854v .alice__input-container.svelte-8a854v.svelte-8a854v{margin-top:6px}.alice__main_chat.svelte-8a854v .alice__input-oknyx-container .alice__input-container__input.svelte-8a854v.svelte-8a854v{margin-top:0px}.alice__main_chat.svelte-8a854v .alice__suggest_container.svelte-8a854v.svelte-8a854v{margin-top:-6px}.alice__main_chat.svelte-8a854v .alice__notifier_container.svelte-8a854v.svelte-8a854v{margin-bottom:0;padding:8px 0 2px}.alice__onkyx-in-non-dialog-chat.svelte-8a854v.svelte-8a854v.svelte-8a854v{position:absolute;right:35px;top:17px}.alice__input-oknyx-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:9px 11px -7px 24px;display:flex;justify-content:space-between;flex-wrap:nowrap;align-items:center}.alice__input-oknyx-container.svelte-8a854v .alice__input-container__input.svelte-8a854v.svelte-8a854v{margin:0;width:78%}")}const Cm=e=>({}),Im=e=>({});function Mm(t){let n,i,o,r,s;o=new ku({props:{onSubmit:t[38],theme:t[4],outputBus:t[3],onChange:t[39],shouldFocusInput:!0,buttonTheme:t[29]?fu.BLUE:fu.PURPLE,isMobile:t[6],isTablet:t[12]}});let a=t[1]&&jm(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),r=(0,e.DhX)(),a&&a.c(),(0,e.Ljt)(i,"class","alice__input-container__input svelte-8a854v"),(0,e.Ljt)(n,"class","alice__input-container svelte-8a854v"),(0,e.VHj)(n,"alice__input-container_focused",!0),(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},m(t,l){(0,e.$Tr)(t,n,l),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),(0,e.R3I)(n,r),a&&a.m(n,null),s=!0},p(t,i){const r={};16&i[0]&&(r.theme=t[4]),8&i[0]&&(r.outputBus=t[3]),536870912&i[0]&&(r.buttonTheme=t[29]?fu.BLUE:fu.PURPLE),64&i[0]&&(r.isMobile=t[6]),4096&i[0]&&(r.isTablet=t[12]),o.$set(r),t[1]?a?(a.p(t,i),2&i[0]&&(0,e.Ui)(a,1)):(a=jm(t),a.c(),(0,e.Ui)(a,1),a.m(n,null)):a&&((0,e.dvw)(),(0,e.etI)(a,1,1,(()=>{a=null})),(0,e.gbL)()),(!s||2&i[0])&&(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},i(t){s||((0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(a),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),(0,e.etI)(a),s=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(o),a&&a.d()}}}function jm(t){let n,i;return n=new fe({props:{onClick:t[36],color:tm,state:t[14],logo:g.z.ALICE,isBottomChat:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),2&t[0]&&(i.isBottomChat=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Sm(t){let n,i,o;const r=[{closeDialog:t[37]},{onOknyxClick:t[36]},{state:t[14]},{theme:t[4]},t[18],{useChat:t[1]}];let s={};for(let t=0;t<r.length;t+=1)s=(0,e.f0i)(s,r[t]);return i=new Lu({props:s}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__dialog-header-container svelte-8a854v"),(0,e.VHj)(n,"oknyx-bottom",t[1])},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(t,s){const a=278546&s[0]|96&s[1]?(0,e.LoY)(r,[64&s[1]&&{closeDialog:t[37]},32&s[1]&&{onOknyxClick:t[36]},16384&s[0]&&{state:t[14]},16&s[0]&&{theme:t[4]},262144&s[0]&&(0,e.gCg)(t[18]),2&s[0]&&{useChat:t[1]}]):{};i.$set(a),(!o||2&s[0])&&(0,e.VHj)(n,"oknyx-bottom",t[1])},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Tm(t){let n,i,o,r,s,a,l,c,u,d=t[2]&&Lm(t),p=!t[18]&&Dm(t);function h(e,t){return"small"!==e[20]||e[18]&&e[23]?zm:Om}let g=h(t),m=g(t),f=!t[2]&&(t[23]||t[17])&&Pm(t),v=t[19].length&&!t[2]&&Vm(t),_=!t[2]&&!t[18]&&t[8]&&!t[13]&&!t[0]&&Gm(t);return{c(){n=(0,e.bGB)("div"),d&&d.c(),i=(0,e.DhX)(),p&&p.c(),o=(0,e.DhX)(),m.c(),s=(0,e.DhX)(),f&&f.c(),a=(0,e.DhX)(),v&&v.c(),l=(0,e.DhX)(),_&&_.c(),c=(0,e.cSb)(),(0,e.Ljt)(n,"class",r=(0,e.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-8a854v"),(0,e.VHj)(n,"alice__communication_text-large","small"!==t[20]),(0,e.VHj)(n,"alice__communication_is-mobile",t[6])},m(t,r){(0,e.$Tr)(t,n,r),d&&d.m(n,null),(0,e.R3I)(n,i),p&&p.m(n,null),(0,e.R3I)(n,o),m.m(n,null),(0,e.$Tr)(t,s,r),f&&f.m(t,r),(0,e.$Tr)(t,a,r),v&&v.m(t,r),(0,e.$Tr)(t,l,r),_&&_.m(t,r),(0,e.$Tr)(t,c,r),u=!0},p(t,s){t[2]?d?d.p(t,s):(d=Lm(t),d.c(),d.m(n,i)):d&&(d.d(1),d=null),t[18]?p&&((0,e.dvw)(),(0,e.etI)(p,1,1,(()=>{p=null})),(0,e.gbL)()):p?(p.p(t,s),262144&s[0]&&(0,e.Ui)(p,1)):(p=Dm(t),p.c(),(0,e.Ui)(p,1),p.m(n,o)),g===(g=h(t))&&m?m.p(t,s):(m.d(1),m=g(t),m&&(m.c(),m.m(n,null))),(!u||16&s[0]&&r!==(r=(0,e.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-8a854v"))&&(0,e.Ljt)(n,"class",r),(!u||1048592&s[0])&&(0,e.VHj)(n,"alice__communication_text-large","small"!==t[20]),(!u||80&s[0])&&(0,e.VHj)(n,"alice__communication_is-mobile",t[6]),t[2]||!t[23]&&!t[17]?f&&((0,e.dvw)(),(0,e.etI)(f,1,1,(()=>{f=null})),(0,e.gbL)()):f?(f.p(t,s),8519684&s[0]&&(0,e.Ui)(f,1)):(f=Pm(t),f.c(),(0,e.Ui)(f,1),f.m(a.parentNode,a)),t[19].length&&!t[2]?v?(v.p(t,s),524292&s[0]&&(0,e.Ui)(v,1)):(v=Vm(t),v.c(),(0,e.Ui)(v,1),v.m(l.parentNode,l)):v&&((0,e.dvw)(),(0,e.etI)(v,1,1,(()=>{v=null})),(0,e.gbL)()),t[2]||t[18]||!t[8]||t[13]||t[0]?_&&((0,e.dvw)(),(0,e.etI)(_,1,1,(()=>{_=null})),(0,e.gbL)()):_?(_.p(t,s),270597&s[0]&&(0,e.Ui)(_,1)):(_=Gm(t),_.c(),(0,e.Ui)(_,1),_.m(c.parentNode,c))},i(t){u||((0,e.Ui)(p),(0,e.Ui)(f),(0,e.Ui)(v),(0,e.Ui)(_),u=!0)},o(t){(0,e.etI)(p),(0,e.etI)(f),(0,e.etI)(v),(0,e.etI)(_),u=!1},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(s),(0,e.ogt)(a),(0,e.ogt)(l),(0,e.ogt)(c)),d&&d.d(),p&&p.d(),m.d(),f&&f.d(t),v&&v.d(t),_&&_.d(t)}}}function Em(t){let n,i;return n=new Jg({props:{theme:t[4],shouldHideScrollbar:t[6],onScrollStart:t[32],onScrollEnd:t[33],disableScroll:t[11],bottomOrientOnResize:t[21]&&!t[22],afterScroll:t[41],$$slots:{default:[qm]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),64&t[0]&&(i.shouldHideScrollbar=e[6]),2048&t[0]&&(i.disableScroll=e[11]),6291456&t[0]&&(i.bottomOrientOnResize=e[21]&&!e[22]),235421820&t[0]|256&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Lm(t){let n,i,o,r,s,a,l;return{c(){n=(0,e.bGB)("button"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("path"),r=(0,e.DhX)(),s=(0,e.fLW)("Назад"),(0,e.Ljt)(o,"opacity","0.9"),(0,e.Ljt)(o,"d","M5.49999 2.11272e-07L7.33332 2.91409e-07L2.49999 6L7.33332 12L5.49999 12L0.666657 6L5.49999 2.11272e-07Z"),(0,e.Ljt)(o,"fill-opacity",".25"),(0,e.Ljt)(o,"class","svelte-8a854v"),(0,e.Ljt)(i,"class","alice__communication-back-icon svelte-8a854v"),(0,e.Ljt)(i,"width","8"),(0,e.Ljt)(i,"height","12"),(0,e.Ljt)(i,"viewBox","0 0 8 12"),(0,e.Ljt)(i,"fill","none"),(0,e.Ljt)(n,"class","alice__communication-back-button svelte-8a854v")},m(c,u){(0,e.$Tr)(c,n,u),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(n,r),(0,e.R3I)(n,s),a||(l=(0,e.oLt)(n,"click",t[37]),a=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),a=!1,l()}}}function Dm(t){let n,i;return n=new fe({props:{onClick:t[36],color:tm,state:t[14],logo:g.z.ALICE}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function zm(t){let n,i,o=t[15].length&&Am(t),r=t[16]&&Nm(t);return{c(){o&&o.c(),n=(0,e.DhX)(),r&&r.c(),i=(0,e.cSb)()},m(t,s){o&&o.m(t,s),(0,e.$Tr)(t,n,s),r&&r.m(t,s),(0,e.$Tr)(t,i,s)},p(e,t){e[15].length?o?o.p(e,t):(o=Am(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),e[16]?r?r.p(e,t):(r=Nm(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(i)),o&&o.d(t),r&&r.d(t)}}}function Om(t){let n,i,o=t[15].length&&Rm(t),r=t[16]&&Bm(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),i=(0,e.DhX)(),r&&r.c(),(0,e.Ljt)(n,"class","alice__text-wrapper svelte-8a854v")},m(t,s){(0,e.$Tr)(t,n,s),o&&o.m(n,null),(0,e.R3I)(n,i),r&&r.m(n,null)},p(e,t){e[15].length?o?o.p(e,t):(o=Rm(e),o.c(),o.m(n,i)):o&&(o.d(1),o=null),e[16]?r?r.p(e,t):(r=Bm(e),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&(0,e.ogt)(n),o&&o.d(),r&&r.d()}}}function Am(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[15]),(0,e.Ljt)(n,"class","alice__text_shrinked svelte-8a854v")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){32768&n[0]&&(0,e.rTO)(i,t[15])},d(t){t&&(0,e.ogt)(n)}}}function Nm(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[16]),(0,e.Ljt)(n,"class",o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v"),(0,e.VHj)(n,"alice__text-main_single",!t[15].length)},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,r){65536&r[0]&&(0,e.rTO)(i,t[16]),1048576&r[0]&&o!==(o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v")&&(0,e.Ljt)(n,"class",o),1081344&r[0]&&(0,e.VHj)(n,"alice__text-main_single",!t[15].length)},d(t){t&&(0,e.ogt)(n)}}}function Rm(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[15]),(0,e.Ljt)(n,"class","alice__text_shrinked svelte-8a854v")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){32768&n[0]&&(0,e.rTO)(i,t[15])},d(t){t&&(0,e.ogt)(n)}}}function Bm(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[16]),(0,e.Ljt)(n,"class",o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,r){65536&r[0]&&(0,e.rTO)(i,t[16]),1048576&r[0]&&o!==(o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v")&&(0,e.Ljt)(n,"class",o)},d(t){t&&(0,e.ogt)(n)}}}function Pm(t){let n,i,o,r;const s=[Um,Hm],a=[];function l(e,t){return e[17]?0:1}return i=l(t),o=a[i]=s[i](t),{c(){n=(0,e.bGB)("div"),o.c(),(0,e.Ljt)(n,"class","alice__div-card-container svelte-8a854v"),(0,e.VHj)(n,"alice__div-card-container_card_yes",t[24])},m(t,o){(0,e.$Tr)(t,n,o),a[i].m(n,null),r=!0},p(t,c){let u=i;i=l(t),i===u?a[i].p(t,c):((0,e.dvw)(),(0,e.etI)(a[u],1,1,(()=>{a[u]=null})),(0,e.gbL)(),o=a[i],o?o.p(t,c):(o=a[i]=s[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,null)),(!r||16777216&c[0])&&(0,e.VHj)(n,"alice__div-card-container_card_yes",t[24])},i(t){r||((0,e.Ui)(o),r=!0)},o(t){(0,e.etI)(o),r=!1},d(t){t&&(0,e.ogt)(n),a[i].d()}}}function Hm(t){let n,i;return n=new mu({props:{theme:t[4],onHorizontalMoveChange:t[5],id:"divCard",statName:"div_card",json:t[23],onDivClick:t[40],outputBus:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),32&t[0]&&(i.onHorizontalMoveChange=e[5]),8388608&t[0]&&(i.json=e[23]),8&t[0]&&(i.outputBus=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Um(t){let n,i;return n=new am({props:{theme:t[4]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Vm(t){let n,i,o;return i=new tt({props:{suggests:t[19],onClick:t[34],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[6]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__suggests_container svelte-8a854v")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};524288&t[0]&&(n.suggests=e[19]),8&t[0]&&(n.outputBus=e[3]),32&t[0]&&(n.onHorizontalMoveChange=e[5]),16&t[0]&&(n.theme=e[4]),64&t[0]&&(n.isDesktop=!e[6]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Gm(t){let n,i,o;return i=new _t({props:{onClick:t[35],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[6]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__shortcuts_container svelte-8a854v")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};8&t[0]&&(n.outputBus=e[3]),32&t[0]&&(n.onHorizontalMoveChange=e[5]),16&t[0]&&(n.theme=e[4]),64&t[0]&&(n.isDesktop=!e[6]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function qm(t){let n,i;return n=new Rg({props:{theme:t[4],outputBus:t[3],onHorizontalMoveChange:t[5],isMobile:t[6],onSuggestClick:t[34],suggests:!t[2]&&t[25]?t[19]:[],aliceState:t[14],markdown:t[26],useMarkdown:t[27]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),8&t[0]&&(i.outputBus=e[3]),32&t[0]&&(i.onHorizontalMoveChange=e[5]),64&t[0]&&(i.isMobile=e[6]),34078724&t[0]&&(i.suggests=!e[2]&&e[25]?e[19]:[]),16384&t[0]&&(i.aliceState=e[14]),67108864&t[0]&&(i.markdown=e[26]),134217728&t[0]&&(i.useMarkdown=e[27]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Fm(t){let n,i,o;return i=new wm({props:{theme:t[4],outputBus:t[3],onClose:t[69],lsKey:nm}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__notifier_container svelte-8a854v")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.theme=e[4]),8&t[0]&&(n.outputBus=e[3]),268435456&t[0]&&(n.onClose=e[69]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Zm(t){let n,i,o;return i=new _m({props:{theme:t[4],outputBus:t[3],isMobile:t[6],onClose:t[68]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__notifier_container svelte-8a854v")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.theme=e[4]),8&t[0]&&(n.outputBus=e[3]),64&t[0]&&(n.isMobile=e[6]),6291456&t[0]&&(n.onClose=e[68]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Ym(t){let n,i,o,r,s;o=new ku({props:{onSubmit:t[38],theme:t[4],outputBus:t[3],onChange:t[39],buttonTheme:t[29]?fu.BLUE:fu.PURPLE,isMobile:t[6],isTablet:t[12]}});let a=t[1]&&Wm(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),r=(0,e.DhX)(),a&&a.c(),(0,e.Ljt)(i,"class","alice__input-container__input svelte-8a854v"),(0,e.Ljt)(n,"class","alice__input-container svelte-8a854v"),(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},m(t,l){(0,e.$Tr)(t,n,l),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),(0,e.R3I)(n,r),a&&a.m(n,null),s=!0},p(t,i){const r={};16&i[0]&&(r.theme=t[4]),8&i[0]&&(r.outputBus=t[3]),536870912&i[0]&&(r.buttonTheme=t[29]?fu.BLUE:fu.PURPLE),64&i[0]&&(r.isMobile=t[6]),4096&i[0]&&(r.isTablet=t[12]),o.$set(r),t[1]?a?(a.p(t,i),2&i[0]&&(0,e.Ui)(a,1)):(a=Wm(t),a.c(),(0,e.Ui)(a,1),a.m(n,null)):a&&((0,e.dvw)(),(0,e.etI)(a,1,1,(()=>{a=null})),(0,e.gbL)()),(!s||2&i[0])&&(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},i(t){s||((0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(a),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),(0,e.etI)(a),s=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(o),a&&a.d()}}}function Wm(t){let n,i;return n=new fe({props:{onClick:t[36],color:tm,state:t[14],logo:g.z.ALICE,isBottomChat:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),2&t[0]&&(i.isBottomChat=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Xm(t){let n,i,o,r,s,a,l,c,u,d,p,h=t[10]&&t[9]&&Mm(t),g=t[18]&&Sm(t);const m=[Em,Tm],f=[];function v(e,t){return e[1]?0:1}r=v(t),s=f[r]=m[r](t);const _=[Zm,Fm],b=[];function y(e,t){return!e[2]&&"denied"===e[7]&&e[21]?0:e[28]?1:-1}~(l=y(t))&&(c=b[l]=_[l](t));const x=t[67].promo,w=(0,e.nuO)(x,t,t[70],Im);let k=t[10]&&!t[9]&&Ym(t);return{c(){n=(0,e.bGB)("div"),h&&h.c(),i=(0,e.DhX)(),g&&g.c(),o=(0,e.DhX)(),s.c(),a=(0,e.DhX)(),c&&c.c(),u=(0,e.DhX)(),w&&w.c(),d=(0,e.DhX)(),k&&k.c(),(0,e.Ljt)(n,"class","alice__main svelte-8a854v"),(0,e.VHj)(n,"alice__main_is-mobile",t[6]),(0,e.VHj)(n,"alice__main_dialog_yes",t[18]),(0,e.VHj)(n,"alice__main_promo_yes",t[2]),(0,e.VHj)(n,"alice__main_keyboard-input_yes",t[10]),(0,e.VHj)(n,"alice__main_should-show-shortcuts",t[8]),(0,e.VHj)(n,"alice__main_chat",t[1])},m(t,s){(0,e.$Tr)(t,n,s),h&&h.m(n,null),(0,e.R3I)(n,i),g&&g.m(n,null),(0,e.R3I)(n,o),f[r].m(n,null),(0,e.R3I)(n,a),~l&&b[l].m(n,null),(0,e.R3I)(n,u),w&&w.m(n,null),(0,e.R3I)(n,d),k&&k.m(n,null),p=!0},p(t,d){t[10]&&t[9]?h?(h.p(t,d),1536&d[0]&&(0,e.Ui)(h,1)):(h=Mm(t),h.c(),(0,e.Ui)(h,1),h.m(n,i)):h&&((0,e.dvw)(),(0,e.etI)(h,1,1,(()=>{h=null})),(0,e.gbL)()),t[18]?g?(g.p(t,d),262144&d[0]&&(0,e.Ui)(g,1)):(g=Sm(t),g.c(),(0,e.Ui)(g,1),g.m(n,o)):g&&((0,e.dvw)(),(0,e.etI)(g,1,1,(()=>{g=null})),(0,e.gbL)());let $=r;r=v(t),r===$?f[r].p(t,d):((0,e.dvw)(),(0,e.etI)(f[$],1,1,(()=>{f[$]=null})),(0,e.gbL)(),s=f[r],s?s.p(t,d):(s=f[r]=m[r](t),s.c()),(0,e.Ui)(s,1),s.m(n,a));let C=l;l=y(t),l===C?~l&&b[l].p(t,d):(c&&((0,e.dvw)(),(0,e.etI)(b[C],1,1,(()=>{b[C]=null})),(0,e.gbL)()),~l?(c=b[l],c?c.p(t,d):(c=b[l]=_[l](t),c.c()),(0,e.Ui)(c,1),c.m(n,u)):c=null),w&&w.p&&(!p||256&d[2])&&(0,e.kmG)(w,x,t,t[70],p?(0,e.u2N)(x,t[70],d,Cm):(0,e.VOJ)(t[70]),Im),t[10]&&!t[9]?k?(k.p(t,d),1536&d[0]&&(0,e.Ui)(k,1)):(k=Ym(t),k.c(),(0,e.Ui)(k,1),k.m(n,null)):k&&((0,e.dvw)(),(0,e.etI)(k,1,1,(()=>{k=null})),(0,e.gbL)()),(!p||64&d[0])&&(0,e.VHj)(n,"alice__main_is-mobile",t[6]),(!p||262144&d[0])&&(0,e.VHj)(n,"alice__main_dialog_yes",t[18]),(!p||4&d[0])&&(0,e.VHj)(n,"alice__main_promo_yes",t[2]),(!p||1024&d[0])&&(0,e.VHj)(n,"alice__main_keyboard-input_yes",t[10]),(!p||256&d[0])&&(0,e.VHj)(n,"alice__main_should-show-shortcuts",t[8]),(!p||2&d[0])&&(0,e.VHj)(n,"alice__main_chat",t[1])},i(t){p||((0,e.Ui)(h),(0,e.Ui)(g),(0,e.Ui)(s),(0,e.Ui)(c),(0,e.Ui)(w,t),(0,e.Ui)(k),p=!0)},o(t){(0,e.etI)(h),(0,e.etI)(g),(0,e.etI)(s),(0,e.etI)(c),(0,e.etI)(w,t),(0,e.etI)(k),p=!1},d(t){t&&(0,e.ogt)(n),h&&h.d(),g&&g.d(),f[r].d(),~l&&b[l].d(),w&&w.d(t),k&&k.d()}}}function Km(n,i,o){let r,s,a,{$$slots:l={},$$scope:c}=i;var u,d,p,h,m,f;const{isFullscreenExp:v,allChatsStore:_,aliceKit:b}=(0,t.fw)(ue.f1);(0,e.FIv)(n,_,(e=>o(66,a=e)));let y,x,w,k,$,C,{onPromoShowChange:I}=i,{shouldPromoShow:M}=i,{outputBus:j}=i,{overrideOpenUriDirective:S}=i,{theme:T}=i,{onHorizontalMoveChange:E}=i,{isMobile:L=!1}=i,{permission:D}=i,{setShortcutsVisibility:z}=i,{shouldShowShortcuts:O=!0}=i,{shouldTrackAliceMainFullyShown:A=!1}=i,{shouldTrackVoiceRecordingStarted:N=!1}=i,{shouldFocusInput:R=!1}=i,{hasKeyboardInput:B=!1}=i,{startPhrase:P}=i,{setChatScroll:H}=i,{isDragging:U=!1}=i,{isTablet:V=!1}=i,{preventListenOnStart:G=!1}=i,{openFullscreen:q}=i,{requestMicPermission:F}=i,{useChat:Z=!1}=i,{shouldOpenYaGpt:Y}=i,{yaGptOpenPhrase:W}=i,{setIsLetsImagineDialog:X}=i,{deeplink:K}=i,{hideApp:Q}=i,{closeOnDialogDispose:J}=i,ee=g.U.SUSPENDED,te="",ne=W||P||em.intro,ie=te,oe=ne,re=!1,se=[],ae="small",le=!(Y||P||K),ce=le,de=!1,pe=!1,he=!0,ge=!1,me=!1,fe="granted"===D,ve=!1,_e=!1,be=!0,ye=!1,xe="",we="";const ke=Boolean(!1);if((null==K?void 0:K.id)&&!lm.MV.includes(null==K?void 0:K.id)&&(be=!1),ke){const e=()=>{var e,t;return null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t?void 0:t.isVoiceActivationEnabled((e=>{o(28,_e="0"!==localStorage.getItem(nm)&&!e)}))};(null===(d=null===(u=window.yandex)||void 0===u?void 0:u.overlayView)||void 0===d?void 0:d.isAliceVoiceActivationDisabled)?null===(h=null===(p=window.yandex)||void 0===p?void 0:p.overlayView)||void 0===h||h.isAliceVoiceActivationDisabled((t=>{t||e()})):e()}const $e=H&&(()=>null==H?void 0:H(!0)),Ce=H&&(()=>null==H?void 0:H(!1)),Ie=(e,t)=>{Z?Me(e,t):o(56,te=e)},Me=(e,t)=>{const n=[{id:"0",type:"text",text:e.trim()}];t?r.updateLastMessage({bubbles:n},"replace"):r.addMessage({id:(0,km.O)(),isUserAuthor:!0,bubbles:n,suggests:[]}),o(25,he=!1)},je=(0,Du.h)((function(){N&&j.emit("voiceRecordingStarted")})),Se=()=>{Z&&(ye=!1)},Te=e=>o(14,ee=e),Ee=e=>{var t;(null===(t=e.recognition)||void 0===t?void 0:t.text)&&(Ie(e.recognition.text,ye),o(59,re=!0),ye=!0)},Le=e=>{var t;o(23,k=null),o(24,$=null),o(0,P=void 0),o(42,W=void 0),y||o(25,he=!0),we=e.response.header.request_id;const{dialogId:n}=e,i=Boolean(n&&lm.lA.includes(n)&&!v);o(27,ve=Boolean(n&&lm.lA.includes(n))),o(1,Z=i);const s=e.response.response||{},{cards:a,templates:l,suggest:c,palette:u}=s;if(Z&&(null==a?void 0:a.length)){const e=[];a.forEach((t=>{switch(t.type){case"simple_text":e.push({id:(0,km.O)(),type:"text",text:t.text});break;case"rich_json_card":const n=JSON.parse(t.string_body);e.push({id:(0,km.O)(),type:"richJson",richJson:n,hideBorders:t.hide_borders});break;case"div2_card":e.push({id:(0,km.O)(),type:"divJson",divJson:{card:t.body.states?t.body:t.body.card,templates:l||t.body.templates,palette:u}})}})),e.length&&r.addMessage({requestId:we,bubbles:e,isWelcomeMessage:be,id:(0,km.O)(),suggests:[]}),be=!1}else if(null==a?void 0:a.length){z(!1),o(59,re=!1);const e=[];a.forEach((t=>{if(t.text&&e.push(t.text),t.body){const{states:e,log_id:n}=t.body;o(23,k={card:{states:e,log_id:n},templates:l,palette:u}),o(24,$=!0)}})),e.length&&o(57,ne=e.join("\n\n"))}I(!1),o(19,se=null!==(t=null==c?void 0:c.items)&&void 0!==t?t:[]),le||o(28,_e=!1)},De=(e,t,n,i)=>{var s,l,c,u,d,p;switch(e){case"type":case"type_silent":"onHandle"===t&&(Ie(n.text),o(57,ne=""),o(59,re=!0));break;case"fill_cloud_ui":"onHandle"===t&&(o(57,ne=n.text),z(!1));break;case"open_uri":if("skip"===t)n.screen_id;else if("beforeHandle"===t)!Ge&&b.getState().voiceSession&&(Pe(),Be("Открываю")),n.skipHideCloudElements||(o(23,k=null),o(24,$=null),z(!1)),j.emit("openUriDirectiveBefore",{url:n.uri});else if("onHandle"===t){if(j.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:n.uri}}),S&&!n.skipOverride)return S({url:n.uri});Ge?null===(c=null===(l=null===(s=window.yandex)||void 0===s?void 0:s.overlayView)||void 0===l?void 0:l.openUrl)||void 0===c||c.call(l,n.uri):(null==i?void 0:i.isUserEvent)&&n.isNewTab?window.open(n.uri):window.location.href=n.uri}break;case"show_promo":"onHandle"===t&&(o(56,te=""),o(57,ne=L?"Для этого надо установить приложение Яндекса":"Для этого нужно установить приложение Яндекс на мобильном"),o(59,re=!1),I(!0),z(!1),He());break;case"show_view":if("onHandle"===t){if(Z)return;o(17,le=!1),w&&(o(19,se=[]),o(57,ne="")),o(23,k=n.div2_card.body||JSON.parse(n.div2_card.string_body)),o(24,$=!1)}break;case"update_dialog_info":"onHandle"===t&&o(18,w={dialogTitle:n.title,dialogImageUrl:n.image_url,dialogUrl:n.url,logo:n.style.oknyx_logo});break;case"end_dialog_session":"onHandle"===t&&w&&Fe();break;case"open_dialog_directive":if("beforeHandle"===t){const{dialog_id:e}=n,t=lm.MV.includes(e),i=lm.gu.includes(e);if(null==X||X(t),lm.lA.includes(e)&&o(62,ge=!0),i&&Bp(L,j),xe=(null===(u=n.directives.find((e=>"type_silent"===e.name)))||void 0===u?void 0:u.payload.text)||"",!lm.lA.includes(e))return;v&&q?q(xe):xe&&Me(xe);let r=`${Au.Wz}.${e}`;if(lm.MV.includes(e)&&(r="alice.defaultChat"),!a.allChats.hasOwnProperty(e)){const t={type:"ls",localStorageKey:r,maxMessagesInLS:50,isDialog:!0};_.createChat(t,{id:e})}}else"onHandle"===t&&_.setActiveChatId(n.dialog_id);break;case"close_alice":"onHandle"===t&&Q();break;case"print_text_in_message_view":"onHandle"===t&&(n.text&&(d=n.text,p=!n.isNewMessage,Z?((e,t)=>{Array.isArray(e)||(e=[e]);const n=e.map(((e,t)=>({id:String(t),type:"text",text:e.trim()})));t?r.updateLastMessage({bubbles:n},"replace"):r.addMessage({id:(0,km.O)(),bubbles:n,isWelcomeMessage:be,suggests:[]}),be=!1,ye=!1})(d,p):o(57,ne=d)),o(58,y="end"===n.status?void 0:n.status),o(25,he="end"===n.status))}},ze=e=>j.emit("errorThrown",e),{startVoiceInput:Oe,sendVinsRequest:Ae,selectSuggest:Ne,getGreetings:Re,synthesize:Be,ttsStop:Pe,cancel:He,setDialogId:Ue,aliceBus:Ve}=b,Ge=ke&&Boolean(null===(f=null===(m=window.yandex)||void 0===m?void 0:m.overlayView)||void 0===f?void 0:f.openUrl);(0,t.H3)((()=>{Ve.on("status",Te),Ve.on("recognition",Ee),Ve.on("vins",Le),Ve.on("directive",De),Ve.on("error",ze),Ve.on("listeningstart",je),Ve.on("listeningend",Se),b.start(),o(14,ee=b.getStatus()),K?(K.id&&lm.lA.includes(K.id)&&o(1,Z=!0),Nu(K,_)):Y||P?Ye(W):le&&(qe(),G||b.startVoiceInputOnce({skipMicSounds:!0})),document.addEventListener("visibilitychange",Ze),K||F(),j.emit("stat",{path:"alice_main",eventType:"show"})})),(0,t.ev)((()=>{Ve.off("status",Te),Ve.off("recognition",Ee),Ve.off("vins",Le),Ve.off("directive",De),Ve.off("error",ze),Ve.off("listeningstart",je),Ve.off("listeningend",Se),document.removeEventListener("visibilitychange",Ze),Z&&_.setActiveChatId("")}));const qe=()=>Re({origin:"ThisClient"}),Fe=()=>{He(),Ue(null),Z&&(_.setActiveChatId(""),be=!0,xe=""),o(18,w=null),o(23,k=null),o(24,$=null),J&&Q(),o(17,le=!0),o(23,k=null),o(24,$=null),o(56,te=""),o(19,se=[]),o(1,Z=!1),o(57,ne=em.intro),o(59,re=!1),I(!1),z(!0),qe()},Ze=()=>{document.hidden&&ee===g.U.LISTENING&&He()},Ye=(e="")=>(o(56,te=e||"Запусти навык «Давай придумаем»"),o(57,ne=""),o(59,re=!0),Ae({name:"@@mm_semantic_frame",type:"server_action",payload:{typed_semantic_frame:{external_skill_fixed_activate_semantic_frame:{fixed_skill_id:{string_value:"b7c42cab-db61-46ba-871a-b10a6ecf3e0d"},activation_command:{string_value:e}}},analytics:{product_scenario:"dialogovo",origin:"Scenario",purpose:"skill_activate"}}},{voiceSession:!1}));return n.$$set=e=>{"onPromoShowChange"in e&&o(43,I=e.onPromoShowChange),"shouldPromoShow"in e&&o(2,M=e.shouldPromoShow),"outputBus"in e&&o(3,j=e.outputBus),"overrideOpenUriDirective"in e&&o(44,S=e.overrideOpenUriDirective),"theme"in e&&o(4,T=e.theme),"onHorizontalMoveChange"in e&&o(5,E=e.onHorizontalMoveChange),"isMobile"in e&&o(6,L=e.isMobile),"permission"in e&&o(7,D=e.permission),"setShortcutsVisibility"in e&&o(45,z=e.setShortcutsVisibility),"shouldShowShortcuts"in e&&o(8,O=e.shouldShowShortcuts),"shouldTrackAliceMainFullyShown"in e&&o(46,A=e.shouldTrackAliceMainFullyShown),"shouldTrackVoiceRecordingStarted"in e&&o(47,N=e.shouldTrackVoiceRecordingStarted),"shouldFocusInput"in e&&o(9,R=e.shouldFocusInput),"hasKeyboardInput"in e&&o(10,B=e.hasKeyboardInput),"startPhrase"in e&&o(0,P=e.startPhrase),"setChatScroll"in e&&o(48,H=e.setChatScroll),"isDragging"in e&&o(11,U=e.isDragging),"isTablet"in e&&o(12,V=e.isTablet),"preventListenOnStart"in e&&o(49,G=e.preventListenOnStart),"openFullscreen"in e&&o(50,q=e.openFullscreen),"requestMicPermission"in e&&o(51,F=e.requestMicPermission),"useChat"in e&&o(1,Z=e.useChat),"shouldOpenYaGpt"in e&&o(13,Y=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&o(42,W=e.yaGptOpenPhrase),"setIsLetsImagineDialog"in e&&o(52,X=e.setIsLetsImagineDialog),"deeplink"in e&&o(53,K=e.deeplink),"hideApp"in e&&o(54,Q=e.hideApp),"closeOnDialogDispose"in e&&o(55,J=e.closeOnDialogDispose),"$$scope"in e&&o(70,c=e.$$scope)},n.$$.update=()=>{16&n.$$.dirty[2]&&o(65,r=a.currentChat),128&n.$$.dirty[0]|4&n.$$.dirty[2]&&(o(64,fe="granted"===D),Ve.emit("changeMicPermission",fe)),262144&n.$$.dirty[0]&&o(29,s=(null==w?void 0:w.logo)===g.z.MICROPHONE),24705&n.$$.dirty[0]|1078198272&n.$$.dirty[1]&&(!("prompt"!==x&&"unknown"!==x||ee!==g.U.SUSPENDED||G||P||Y||K)&&b.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),o(61,x=D)),8&n.$$.dirty[0]|3&n.$$.dirty[2]&&(me||!ge||v||(dd(j).then((e=>{o(26,C=e)}),(()=>{j.emit("errorThrown",Error("failed to load markdown bundle"))})),o(63,me=!0))),134217728&n.$$.dirty[1]|8&n.$$.dirty[2]&&r.setOutputStatus(y),229384&n.$$.dirty[0]|906002432&n.$$.dirty[1]&&(re?(o(15,ie=ne),o(16,oe=te)):(o(15,ie=te),o(16,oe=ne)),o(20,ae=$u(ie,oe)),!le&&ce&&A&&(0,t.Ky)().then((()=>{j.emit("aliceMainFullyShown")})),o(60,ce=le))},[P,Z,M,j,T,E,L,D,O,R,B,U,V,Y,ee,ie,oe,le,w,se,ae,de,pe,k,$,he,C,ve,_e,s,_,ke,$e,Ce,(e,t)=>{j.emit("stat",{path:`suggest.${t}`,eventType:"click",customParams:{title:e.title}}),Ne(e)},(e,t)=>{j.emit("stat",{path:`shortcut.${t}`,eventType:"click",customParams:{id:e.id,title:e.command}}),o(17,le=!1),Ne({title:e.command,directives:e.directives})},()=>{switch(ee){case g.U.LISTENING:He(),j.emit("stat",{path:"oknyx_while_listening",eventType:"click"});break;case g.U.SUSPENDED:if("nomic"===D)return o(56,te=""),void o(57,ne=em.noMic);if("unknown"===D&&F(),!fe)return o(56,te=""),o(57,ne=em.noPermission),void o(21,de=!0);Oe(),j.emit("stat",{path:"oknyx_while_suspended",eventType:"click"});break;case g.U.THINKING:He(),w||Ue(null);default:He()}},Fe,e=>{He(),Ie(e),o(59,re=!0),Ae({type:"text_input",text:e},{voiceSession:!1}),j.emit("stat",{path:"keyboard_question",eventType:"click",customParams:{value:e}})},()=>{ee===g.U.LISTENING&&He()},e=>{var t;o(56,te=e.title),(null===(t=null==e?void 0:e.directives)||void 0===t?void 0:t.some((({name:e})=>"open_uri"===e)))&&o(56,te="Открываю"),o(57,ne=""),o(59,re=!0),Ne(e)},()=>{o(22,pe=de)},W,I,S,z,A,N,H,G,q,F,X,K,Q,J,te,ne,y,re,ce,x,ge,me,fe,r,a,l,()=>{o(21,de=!1),o(22,pe=!1)},()=>{o(28,_e=!1)},c]}class Qm extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Km,Xm,e.N8,{onPromoShowChange:43,shouldPromoShow:2,outputBus:3,overrideOpenUriDirective:44,theme:4,onHorizontalMoveChange:5,isMobile:6,permission:7,setShortcutsVisibility:45,shouldShowShortcuts:8,shouldTrackAliceMainFullyShown:46,shouldTrackVoiceRecordingStarted:47,shouldFocusInput:9,hasKeyboardInput:10,startPhrase:0,setChatScroll:48,isDragging:11,isTablet:12,preventListenOnStart:49,openFullscreen:50,requestMicPermission:51,useChat:1,shouldOpenYaGpt:13,yaGptOpenPhrase:42,setIsLetsImagineDialog:52,deeplink:53,hideApp:54,closeOnDialogDispose:55},$m,[-1,-1,-1,-1])}}const Jm=Qm;function ef(e,t){if(!t)return;const n=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}}const tf=e=>{};function nf(t){(0,e.qOq)(t,"svelte-aorxoz",".alice.svelte-aorxoz{position:var(--position);bottom:0;left:0;right:0;flex-direction:column;align-items:center;justify-content:space-evenly;z-index:var(--z-index);color:black;overflow:hidden;border-top-left-radius:50% 30px;border-top-right-radius:50% 30px;background:#ffffff;touch-action:none;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;border:1px solid rgba(0, 0, 0, 0.16);border-radius:40px;box-sizing:border-box;max-height:calc(100% - 40px);display:flex}.alice.svelte-aorxoz::-webkit-scrollbar{display:none}.back-layer.svelte-aorxoz{position:fixed;height:200px;top:calc(100vh - 100px);left:0px;right:0px;z-index:var(--z-index);background:#ffffff}.close-button.svelte-aorxoz{width:100%;position:fixed;z-index:var(--z-index);opacity:0;top:0;left:0px;right:0px;bottom:0px}.alice_theme_dark.svelte-aorxoz{background:#161617;color:#ffffff;box-shadow:0px 0px 64px rgba(0, 0, 0, 0.5)}.alice_is_yabro.svelte-aorxoz{box-shadow:initial;border-radius:10px;flex-grow:1}")}function of(t){let n,i,o,r;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)("Закрыть"),(0,e.Ljt)(n,"class","close-button svelte-aorxoz"),(0,e.czc)(n,"--z-index",t[5]+1)},m(s,a){(0,e.$Tr)(s,n,a),(0,e.R3I)(n,i),o||(r=(0,e.oLt)(n,"click",t[10]),o=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,r()}}}function rf(t){let n,i,o,r;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)("Закрыть"),(0,e.Ljt)(n,"class","close-button svelte-aorxoz"),(0,e.czc)(n,"--z-index",t[5]+1)},m(s,a){(0,e.$Tr)(s,n,a),(0,e.R3I)(n,i),o||(r=(0,e.oLt)(n,"click",(function(){(0,e.sBU)(t[0])&&t[0].apply(this,arguments)})),o=!0)},p(e,n){t=e},d(t){t&&(0,e.ogt)(n),o=!1,r()}}}function sf(t){let n,i,o,r,s,a,l,c,u,d,p,h,g,m="up"===t[4]&&of(t);const f=t[9].default,v=(0,e.nuO)(f,t,t[8],null);let _="down"===t[4]&&rf(t);return{c(){m&&m.c(),n=(0,e.DhX)(),i=(0,e.bGB)("div"),o=new e.FWw(!1),r=(0,e.DhX)(),v&&v.c(),u=(0,e.DhX)(),_&&_.c(),d=(0,e.cSb)(),o.a=r,(0,e.Ljt)(i,"class",s=(0,e.H1I)(`alice alice_theme_${t[2]}`)+" svelte-aorxoz"),(0,e.Ljt)(i,"aria-modal",a=!0),(0,e.Ljt)(i,"aria-labelledby",t[1]),(0,e.czc)(i,"--z-index",t[5]+2),(0,e.czc)(i,"--position",t[6]?"relative":"absolute"),(0,e.VHj)(i,"alice_is_yabro",!1)},m(s,a){m&&m.m(s,a),(0,e.$Tr)(s,n,a),(0,e.$Tr)(s,i,a),o.m("\x3c!-- Приходи в гости Алисе: https://forms.yandex.ru/surveys/13479216.eebb469a721dca169cd355075a2874c456539eb3?utm_source=web_alice_quest --\x3e",i),(0,e.R3I)(i,r),v&&v.m(i,null),t[11](i),(0,e.$Tr)(s,u,a),_&&_.m(s,a),(0,e.$Tr)(s,d,a),p=!0,h||(g=[(0,e.TVh)(l=ef.call(null,i,t[0])),(0,e.TVh)(c=tf.call(null,i))],h=!0)},p(t,[o]){"up"===t[4]?m?m.p(t,o):(m=of(t),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),v&&v.p&&(!p||256&o)&&(0,e.kmG)(v,f,t,t[8],p?(0,e.u2N)(f,t[8],o,null):(0,e.VOJ)(t[8]),null),(!p||4&o&&s!==(s=(0,e.H1I)(`alice alice_theme_${t[2]}`)+" svelte-aorxoz"))&&(0,e.Ljt)(i,"class",s),(!p||2&o)&&(0,e.Ljt)(i,"aria-labelledby",t[1]),l&&(0,e.sBU)(l.update)&&1&o&&l.update.call(null,t[0]),(!p||4&o)&&(0,e.VHj)(i,"alice_is_yabro",!1),"down"===t[4]?_?_.p(t,o):(_=rf(t),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null)},i(t){p||((0,e.Ui)(v,t),p=!0)},o(t){(0,e.etI)(v,t),p=!1},d(o){o&&((0,e.ogt)(n),(0,e.ogt)(i),(0,e.ogt)(u),(0,e.ogt)(d)),m&&m.d(o),v&&v.d(o),t[11](null),_&&_.d(o),h=!1,(0,e.j7q)(g)}}}function af(n,i,o){let r,{$$slots:s={},$$scope:a}=i,{hideApp:l}=i,{ariaLabelledby:c}=i,{theme:u}=i,{isTablet:d=!1}=i;const{baseZIndex:p}=(0,t.fw)(ue.f1);let h;return n.$$set=e=>{"hideApp"in e&&o(0,l=e.hideApp),"ariaLabelledby"in e&&o(1,c=e.ariaLabelledby),"theme"in e&&o(2,u=e.theme),"isTablet"in e&&o(7,d=e.isTablet),"$$scope"in e&&o(8,a=e.$$scope)},n.$$.update=()=>{128&n.$$.dirty&&o(4,r=((e,t)=>t?"up":"down")(0,d))},[l,c,u,h,r,p,!1,d,a,s,()=>{l()},function(t){e.VnY[t?"unshift":"push"]((()=>{h=t,o(3,h)}))}]}class lf extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,af,sf,e.N8,{hideApp:0,ariaLabelledby:1,theme:2,isTablet:7},nf)}}const cf=lf;function uf(t){(0,e.qOq)(t,"svelte-zp2lpt",".alice-promo.svelte-zp2lpt.svelte-zp2lpt{padding-bottom:30px}.alice-promo__app-android.svelte-zp2lpt.svelte-zp2lpt{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-ios.svelte-zp2lpt.svelte-zp2lpt{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-links.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:row;margin:30px;margin-bottom:0}.alice-promo__app-imgs.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:column}.alice-promo__app-qr.svelte-zp2lpt.svelte-zp2lpt{width:128px;height:128px}.alice-promo__app-links-description.svelte-zp2lpt.svelte-zp2lpt{font-style:normal;font-weight:500;font-size:12px;line-height:120%;color:rgba(0, 0, 0, 0.45);padding-right:10px}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-links-description.svelte-zp2lpt{color:#ffffff}.alice-promo__app-header.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:row;margin:30px;margin-top:0}.alice-promo__app-icon.svelte-zp2lpt.svelte-zp2lpt{width:40px;height:40px;margin-right:8px}.alice-promo__app-description.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:column}.alice-promo__app-h1.svelte-zp2lpt.svelte-zp2lpt{font-style:normal;font-weight:500;font-size:18px;line-height:120%;color:#000000}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-h1.svelte-zp2lpt{color:#ffffff}.alice-promo__app-h2.svelte-zp2lpt.svelte-zp2lpt{font-style:normal;font-weight:400;font-size:13px;line-height:120%;color:rgba(0, 0, 0, 0.45)}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-h2.svelte-zp2lpt{color:#ffffff}.alice-promo_theme_dark.svelte-zp2lpt.svelte-zp2lpt{background:#161617}.alice-promo__install.svelte-zp2lpt.svelte-zp2lpt{width:232px;height:65px;background:#ffcc00;font-style:normal;font-weight:700;font-size:22px;line-height:26px;border-radius:12px;border-width:0;display:flex;justify-content:center;align-items:center;color:black;text-decoration:none}.alice-promo__main-url-layout.svelte-zp2lpt.svelte-zp2lpt{display:flex;justify-content:center;margin-top:22px;margin-bottom:22px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt{height:293px;width:135px;min-width:135px;border-radius:14.5px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt:first-child{margin-left:30px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt:last-child{margin-right:30px}")}function df(e,t,n){const i=e.slice();return i[7]=t[n].url,i}function pf(t){let n,i;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice-promo__image svelte-zp2lpt"),(0,e.Jn4)(n.src,i=t[7])||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt","Приложение")},m(t,i){(0,e.$Tr)(t,n,i)},p:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function hf(t){let n,i=(0,e.NXn)(t[5]),o=[];for(let e=0;e<i.length;e+=1)o[e]=pf(df(t,i,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=(0,e.cSb)()},m(t,i){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,i);(0,e.$Tr)(t,n,i)},p(t,r){if(32&r){let s;for(i=(0,e.NXn)(t[5]),s=0;s<i.length;s+=1){const e=df(t,i,s);o[s]?o[s].p(e,r):(o[s]=pf(e),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(o,t)}}}function gf(t){let n,i,o,r,s,a,l,c,u,d,p,h,g,m,f,v,_,b,y,x,w;return r=new qe({props:{isDesktop:!0,theme:t[0],buttonWidth:29,$$slots:{default:[hf]},$$scope:{ctx:t}}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),i.innerHTML='<img class="alice-promo__app-icon svelte-zp2lpt" src="https://yastatic.net/s3/home/alice_popup/ya.svg" alt="Приложение"/> <div class="alice-promo__app-description svelte-zp2lpt"><div class="alice-promo__app-h1 svelte-zp2lpt">Яндекс — с Алисой</div> <div class="alice-promo__app-h2 svelte-zp2lpt">Быстрый поиск и Алиса всегда рядом</div></div>',o=(0,e.DhX)(),(0,e.YCL)(r.$$.fragment),s=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.bGB)("div"),c=(0,e.bGB)("a"),u=(0,e.bGB)("img"),p=(0,e.DhX)(),h=(0,e.bGB)("a"),g=(0,e.bGB)("img"),f=(0,e.DhX)(),v=(0,e.bGB)("span"),v.textContent="или считайте QR-код камерой вашего телефона",_=(0,e.DhX)(),b=(0,e.bGB)("img"),(0,e.Ljt)(i,"class","alice-promo__app-header svelte-zp2lpt"),(0,e.Jn4)(u.src,d="https://yastatic.net/s3/home/alice_popup/google_play.svg")||(0,e.Ljt)(u,"src","https://yastatic.net/s3/home/alice_popup/google_play.svg"),(0,e.Ljt)(u,"alt","Приложение Android"),(0,e.Ljt)(c,"class","alice-promo__app-android svelte-zp2lpt"),(0,e.Ljt)(c,"href",t[2]),(0,e.Jn4)(g.src,m="https://yastatic.net/s3/home/alice_popup/app_store.svg")||(0,e.Ljt)(g,"src","https://yastatic.net/s3/home/alice_popup/app_store.svg"),(0,e.Ljt)(g,"alt","Приложение iPhone"),(0,e.Ljt)(h,"class","alice-promo__app-ios svelte-zp2lpt"),(0,e.Ljt)(h,"href",t[1]),(0,e.Ljt)(v,"class","alice-promo__app-links-description svelte-zp2lpt"),(0,e.Ljt)(l,"class","alice-promo__app-imgs svelte-zp2lpt"),(0,e.Ljt)(b,"class","alice-promo__app-qr svelte-zp2lpt"),(0,e.Jn4)(b.src,y=t[3])||(0,e.Ljt)(b,"src",y),(0,e.Ljt)(b,"alt","Приложение"),(0,e.Ljt)(a,"class","alice-promo__app-links svelte-zp2lpt"),(0,e.Ljt)(n,"class",x=(0,e.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-zp2lpt"),(0,e.czc)(n,"--z-index",t[4]+1)},m(t,d){(0,e.$Tr)(t,n,d),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.yef)(r,n,null),(0,e.R3I)(n,s),(0,e.R3I)(n,a),(0,e.R3I)(a,l),(0,e.R3I)(l,c),(0,e.R3I)(c,u),(0,e.R3I)(l,p),(0,e.R3I)(l,h),(0,e.R3I)(h,g),(0,e.R3I)(l,f),(0,e.R3I)(l,v),(0,e.R3I)(a,_),(0,e.R3I)(a,b),w=!0},p(t,[i]){const o={};1&i&&(o.theme=t[0]),1024&i&&(o.$$scope={dirty:i,ctx:t}),r.$set(o),(!w||1&i&&x!==(x=(0,e.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-zp2lpt"))&&(0,e.Ljt)(n,"class",x)},i(t){w||((0,e.Ui)(r.$$.fragment,t),w=!0)},o(t){(0,e.etI)(r.$$.fragment,t),w=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(r)}}}function mf(e,n,i){let{outputBus:o}=n,{theme:r}=n;const{promoUrlIos:s,promoUrlAndroid:a,promoQrLink:l,baseZIndex:c}=(0,t.fw)(ue.f1);return(0,t.H3)((()=>{o.emit("stat",{path:"promo",eventType:"show"})})),e.$$set=e=>{"outputBus"in e&&i(6,o=e.outputBus),"theme"in e&&i(0,r=e.theme)},[r,s,a,l,c,[{url:"https://yastatic.net/s3/home/alice_popup/promo_2/00.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/01.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/03.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/04.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/06.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/07.png"}],o]}class ff extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,mf,gf,e.N8,{outputBus:6,theme:0},uf)}}const vf=ff,_f="#7137FF",bf=e=>{function t(){document.documentElement.style.setProperty("--window-inner-height",`${window.innerHeight}px`)}window.addEventListener("resize",t);const n=window.scrollY;return document.documentElement.classList.add("is-locked"),t(),{destroy(){document.documentElement.classList.remove("is-locked"),document.documentElement.style.removeProperty("--window-inner-height"),window.removeEventListener("resize",t),window.scrollTo(0,n)}}};function yf(t){(0,e.qOq)(t,"svelte-ybf5ny",".fullscreen.svelte-ybf5ny.svelte-ybf5ny{display:flex;align-items:flex-start;z-index:var(--z-index);position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;flex-direction:column;background-color:#fff;overflow-y:scroll}.fullscreen_theme_dark.svelte-ybf5ny.svelte-ybf5ny{background:#161617;color:#ffffff}.fullscreen__container.svelte-ybf5ny.svelte-ybf5ny{position:absolute;left:0;top:0;bottom:0;right:0;display:flex;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%}.fullscreen__header.svelte-ybf5ny.svelte-ybf5ny{display:flex;align-items:center;flex:1 0;position:sticky;left:32px;top:32px;margin:32px}.fullscreen__header-desc.svelte-ybf5ny.svelte-ybf5ny{display:flex;flex-direction:column;color:#000}.fullscreen__header-desc-title.svelte-ybf5ny.svelte-ybf5ny{font-size:16px;font-style:normal;font-weight:700;line-height:16px;padding-bottom:2px}.fullscreen__header-desc-subtitle.svelte-ybf5ny.svelte-ybf5ny{font-size:12px;font-style:normal;font-weight:400;line-height:16px;opacity:0.4;width:84px}.fullscreen__header-image.svelte-ybf5ny.svelte-ybf5ny{margin-right:8px;width:45px;height:45px;border-radius:50%}.fullscreen__content.svelte-ybf5ny.svelte-ybf5ny{min-width:640px;width:640px;margin:auto;margin-bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:end;min-height:100%}.fullscreen__input-container.svelte-ybf5ny.svelte-ybf5ny{width:100%;position:relative;margin:32px 0;width:640px}.fullscreen__input-container_focused.svelte-ybf5ny.svelte-ybf5ny{order:1}.fullscreen__oknyx.svelte-ybf5ny.svelte-ybf5ny{position:absolute;right:-75px;bottom:-8px}.fullscreen__close.svelte-ybf5ny.svelte-ybf5ny{z-index:100;cursor:pointer;position:sticky;top:0;top:40px;right:40px;margin:40px;width:40px;height:40px;float:right}.fullscreen__close.svelte-ybf5ny.svelte-ybf5ny:hover{opacity:0.35}.gallery__arrow_right.svelte-ybf5ny.svelte-ybf5ny:active{opacity:0.45}.fullscreen__chat_container.svelte-ybf5ny.svelte-ybf5ny{width:100%;margin-top:20px}.fullscreen__bottom_container.svelte-ybf5ny.svelte-ybf5ny{position:sticky;bottom:0;background:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;padding-left:25px;padding-right:25px}.fullscreen_theme_dark.svelte-ybf5ny .fullscreen__bottom_container.svelte-ybf5ny{background:#161617}.fullscreen_theme_dark.svelte-ybf5ny .fullscreen__header-desc.svelte-ybf5ny{color:#fff}.fullscreen__mic-denied-notifier_container.svelte-ybf5ny.svelte-ybf5ny{margin-bottom:-25px;width:640px}.fullscreen__suggests_container.svelte-ybf5ny.svelte-ybf5ny{margin-left:-25px;margin-right:-25px}.fullscreen__content-left.svelte-ybf5ny.svelte-ybf5ny{flex-grow:2;flex-basis:10%}.fullscreen__content-rigth.svelte-ybf5ny.svelte-ybf5ny{flex-grow:2;flex-basis:10%}@media(min-width: 1000px){.fullscreen.svelte-ybf5ny.svelte-ybf5ny{align-items:center}.fullscreen__container.svelte-ybf5ny.svelte-ybf5ny{left:initial}}@media(min-width: 1640px){.fullscreen__content.svelte-ybf5ny.svelte-ybf5ny{width:840px}.fullscreen__input-container.svelte-ybf5ny.svelte-ybf5ny{width:840px}.fullscreen__mic-denied-notifier_container.svelte-ybf5ny.svelte-ybf5ny{width:840px}}")}function xf(t){let n,i,o,r,s,a,l,c,u,d,p,h,m,f,v,_,b,y,x,w,k,$,C,I,M,j,S,T=t[14].dialogTitle+"",E=t[14].dialogImageUrl&&wf(t);_=new Rg({props:{theme:t[0],outputBus:t[3],isMobile:!1,suggests:t[13]?t[11]:[],onSuggestClick:t[22],page:Mf,aliceState:t[6],markdown:t[9],useMarkdown:t[10],isSuggestGreetings:"welcome_message"===t[8]}});let L=("denied"===t[5]||"prompt"===t[5])&&t[12]&&kf(t);k=new ku({props:{onSubmit:t[19],theme:t[0],outputBus:t[3],onChange:t[20],buttonTheme:fu.PURPLE,isMobile:!1,isTablet:t[4],shouldFocusInput:t[2],page:Mf,lines:If}}),I=new fe({props:{onClick:t[21],color:_f,state:t[6],logo:g.z.ALICE}});let D=function(t){let n,i,o,r,s,a;return{c(){n=(0,e.bGB)("div"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("path"),(0,e.Ljt)(o,"fill-rule","evenodd"),(0,e.Ljt)(o,"clip-rule","evenodd"),(0,e.Ljt)(o,"d","M20 36a16 16 0 1 0 0-32 16 16 0 0 0 0 32Zm-7.22-21.33L18.11 20l-5.33 5.45 1.89 1.88L20 21.9l5.45 5.44 1.88-1.88L21.9 20l5.44-5.33-1.88-1.89L20 18.11l-5.33-5.33-1.89 1.89Z"),(0,e.Ljt)(o,"fill",r="dark"===t[0]?"#FFF":"#000"),(0,e.Ljt)(i,"width","40"),(0,e.Ljt)(i,"height","40"),(0,e.Ljt)(i,"fill","none"),(0,e.Ljt)(i,"xmlns","http://www.w3.org/2000/svg"),(0,e.Ljt)(n,"class","fullscreen__close svelte-ybf5ny")},m(r,l){(0,e.$Tr)(r,n,l),(0,e.R3I)(n,i),(0,e.R3I)(i,o),s||(a=(0,e.oLt)(n,"click",(0,e.AT7)((function(){(0,e.sBU)(t[1])&&t[1].apply(this,arguments)}))),s=!0)},p(n,i){t=n,1&i[0]&&r!==(r="dark"===t[0]?"#FFF":"#000")&&(0,e.Ljt)(o,"fill",r)},d(t){t&&(0,e.ogt)(n),s=!1,a()}}}(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),r=(0,e.bGB)("a"),E&&E.c(),a=(0,e.DhX)(),l=(0,e.bGB)("div"),c=(0,e.bGB)("div"),u=(0,e.fLW)(T),d=(0,e.DhX)(),p=(0,e.bGB)("div"),h=(0,e.fLW)(t[15]),m=(0,e.DhX)(),f=(0,e.bGB)("div"),v=(0,e.bGB)("div"),(0,e.YCL)(_.$$.fragment),b=(0,e.DhX)(),y=(0,e.bGB)("div"),L&&L.c(),x=(0,e.DhX)(),w=(0,e.bGB)("div"),(0,e.YCL)(k.$$.fragment),$=(0,e.DhX)(),C=(0,e.bGB)("div"),(0,e.YCL)(I.$$.fragment),M=(0,e.DhX)(),j=(0,e.bGB)("div"),D&&D.c(),(0,e.Ljt)(r,"class","fullscreen__header-link"),(0,e.Ljt)(r,"href",s=t[14].dialogUrl),(0,e.Ljt)(r,"target","_blank"),(0,e.Ljt)(r,"rel","noopener"),(0,e.Ljt)(c,"class","fullscreen__header-desc-title svelte-ybf5ny"),(0,e.Ljt)(p,"class","fullscreen__header-desc-subtitle svelte-ybf5ny"),(0,e.Ljt)(l,"class","fullscreen__header-desc svelte-ybf5ny"),(0,e.Ljt)(o,"class","fullscreen__header svelte-ybf5ny"),(0,e.Ljt)(i,"class","fullscreen__content-left svelte-ybf5ny"),(0,e.Ljt)(v,"class","fullscreen__chat_container svelte-ybf5ny"),(0,e.Ljt)(C,"class","fullscreen__oknyx svelte-ybf5ny"),(0,e.Ljt)(w,"class","fullscreen__input-container svelte-ybf5ny"),(0,e.VHj)(w,"fullscreen__input-container_focused",!0),(0,e.Ljt)(y,"class","fullscreen__bottom_container svelte-ybf5ny"),(0,e.Ljt)(f,"class","fullscreen__content svelte-ybf5ny"),(0,e.Ljt)(j,"class","fullscreen__content-rigth svelte-ybf5ny"),(0,e.Ljt)(n,"class","fullscreen__container svelte-ybf5ny")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,r),E&&E.m(r,null),(0,e.R3I)(o,a),(0,e.R3I)(o,l),(0,e.R3I)(l,c),(0,e.R3I)(c,u),(0,e.R3I)(l,d),(0,e.R3I)(l,p),(0,e.R3I)(p,h),(0,e.R3I)(n,m),(0,e.R3I)(n,f),(0,e.R3I)(f,v),(0,e.yef)(_,v,null),(0,e.R3I)(f,b),(0,e.R3I)(f,y),L&&L.m(y,null),(0,e.R3I)(y,x),(0,e.R3I)(y,w),(0,e.yef)(k,w,null),(0,e.R3I)(w,$),(0,e.R3I)(w,C),(0,e.yef)(I,C,null),(0,e.R3I)(n,M),(0,e.R3I)(n,j),D&&D.m(j,null),S=!0},p(t,n){t[14].dialogImageUrl?E?E.p(t,n):(E=wf(t),E.c(),E.m(r,null)):E&&(E.d(1),E=null),(!S||16384&n[0]&&s!==(s=t[14].dialogUrl))&&(0,e.Ljt)(r,"href",s),(!S||16384&n[0])&&T!==(T=t[14].dialogTitle+"")&&(0,e.rTO)(u,T),(!S||32768&n[0])&&(0,e.rTO)(h,t[15]);const i={};1&n[0]&&(i.theme=t[0]),8&n[0]&&(i.outputBus=t[3]),10240&n[0]&&(i.suggests=t[13]?t[11]:[]),64&n[0]&&(i.aliceState=t[6]),512&n[0]&&(i.markdown=t[9]),1024&n[0]&&(i.useMarkdown=t[10]),256&n[0]&&(i.isSuggestGreetings="welcome_message"===t[8]),_.$set(i),"denied"!==t[5]&&"prompt"!==t[5]||!t[12]?L&&((0,e.dvw)(),(0,e.etI)(L,1,1,(()=>{L=null})),(0,e.gbL)()):L?(L.p(t,n),4128&n[0]&&(0,e.Ui)(L,1)):(L=kf(t),L.c(),(0,e.Ui)(L,1),L.m(y,x));const o={};1&n[0]&&(o.theme=t[0]),8&n[0]&&(o.outputBus=t[3]),16&n[0]&&(o.isTablet=t[4]),4&n[0]&&(o.shouldFocusInput=t[2]),k.$set(o);const a={};64&n[0]&&(a.state=t[6]),I.$set(a),D.p(t,n)},i(t){S||((0,e.Ui)(_.$$.fragment,t),(0,e.Ui)(L),(0,e.Ui)(k.$$.fragment,t),(0,e.Ui)(I.$$.fragment,t),S=!0)},o(t){(0,e.etI)(_.$$.fragment,t),(0,e.etI)(L),(0,e.etI)(k.$$.fragment,t),(0,e.etI)(I.$$.fragment,t),S=!1},d(t){t&&(0,e.ogt)(n),E&&E.d(),(0,e.vpE)(_),L&&L.d(),(0,e.vpE)(k),(0,e.vpE)(I),D&&D.d()}}}function wf(t){let n,i,o;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","fullscreen__header-image svelte-ybf5ny"),(0,e.Jn4)(n.src,i=t[14].dialogImageUrl)||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt",o="logo")},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){16384&o[0]&&!(0,e.Jn4)(n.src,i=t[14].dialogImageUrl)&&(0,e.Ljt)(n,"src",i)},d(t){t&&(0,e.ogt)(n)}}}function kf(t){let n,i,o;return i=new _m({props:{theme:t[0],outputBus:t[3],onClose:t[38],page:Mf}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","fullscreen__mic-denied-notifier_container svelte-ybf5ny")},m(t,r){(0,e.$Tr)(t,n,r),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};1&t[0]&&(n.theme=e[0]),8&t[0]&&(n.outputBus=e[3]),4104&t[0]&&(n.onClose=e[38]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function $f(t){let n,i,o,r,s,a,l,c,u=t[16]&&xf(t);return{c(){n=(0,e.bGB)("div"),u&&u.c(),(0,e.Ljt)(n,"class",i=(0,e.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-ybf5ny"),(0,e.Ljt)(n,"style",o=t[17]?`--z-index: ${t[17]+2};`:"")},m(i,o){(0,e.$Tr)(i,n,o),u&&u.m(n,null),t[39](n),a=!0,l||(c=[(0,e.TVh)(r=bf.call(null,n)),(0,e.TVh)(s=ef.call(null,n,t[1])),(0,e.oLt)(n,"scroll",(function(){(0,e.sBU)(t[60])&&t[60].apply(this,arguments)}))],l=!0)},p(o,r){(t=o)[16]?u?(u.p(t,r),65536&r[0]&&(0,e.Ui)(u,1)):(u=xf(t),u.c(),(0,e.Ui)(u,1),u.m(n,null)):u&&((0,e.dvw)(),(0,e.etI)(u,1,1,(()=>{u=null})),(0,e.gbL)()),(!a||1&r[0]&&i!==(i=(0,e.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-ybf5ny"))&&(0,e.Ljt)(n,"class",i),s&&(0,e.sBU)(s.update)&&2&r[0]&&s.update.call(null,t[1])},i(t){a||((0,e.Ui)(u),a=!0)},o(t){(0,e.etI)(u),a=!1},d(i){i&&(0,e.ogt)(n),u&&u.d(),t[39](null),l=!1,(0,e.j7q)(c)}}}function Cf(t){let n,i;return n=new qg({props:{scrollableElement:t[16],$$slots:{default:[$f,({onScroll:e})=>({60:e}),({onScroll:e})=>[0,e?536870912:0]]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};65536&t[0]&&(i.scrollableElement=e[16]),130943&t[0]|1610612736&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}const If=10,Mf="fullscreen";function jf(n,i,o){let r,s,a,l,c=e.ZTd;n.$$.on_destroy.push((()=>c()));let{theme:u}=i,{isMobile:d=!1}=i,{onClose:p}=i,{shouldFocusInput:h=!1}=i,{outputBus:m}=i,{overrideOpenUriDirective:f}=i,{isTablet:v=!1}=i,{permission:_}=i,{startPhrase:b}=i,{requestMicPermission:y}=i,{shouldOpenYaGpt:x}=i,{yaGptOpenPhrase:w}=i,{dialogOpenedWithPhrase:k=(x?w:"")}=i,{deeplink:$}=i,{onImmediateClose:C}=i,{shouldImmediateClose:I=!1}=i;const{baseZIndex:M,allChatsStore:j,aliceKit:S}=(0,t.fw)(ue.f1);(0,e.FIv)(n,j,(e=>o(37,l=e)));let T,E,L,D,z=g.U.SUSPENDED,O=x||b?"not_started":"skill_opened",A=!1,N=[],R=!1,B=!0,P=!1,H=!0,U=!0,V=!1,G={dialogTitle:"",dialogImageUrl:"",dialogUrl:"",logo:""},q="",F="";const{startVoiceInput:Z,sendVinsRequest:Y,selectSuggest:W,cancel:X,aliceBus:K}=S;(null==$?void 0:$.id)&&!lm.MV.includes(null==$?void 0:$.id)&&(O="started",H=!1),(0,t.H3)((()=>{r&&k&&Q(k,!1,!0),K.on("directive",J),K.on("error",ee),K.on("listeningend",oe),K.on("status",te),K.on("recognition",ne),K.on("vins",ie),S.start(),o(6,z=S.getStatus()),$?Nu($,j):(x||b)&&re(w),m.emit("stat",{path:`${Mf}`,eventType:"show"})})),(0,t.ev)((()=>{K.off("directive",J),K.off("error",ee),K.off("status",te),K.off("listeningend",oe),K.off("recognition",ne),K.off("vins",ie),r.closeChat()}));const Q=(e,t,n)=>{if("end"===O)return;const i=[{id:"0",type:"text",text:e.trim()}];t?r.updateLastMessage({bubbles:i},"replace"):r.addMessage({bubbles:i,isUserAuthor:!0,isPhraseOnDialogOpen:n,id:(0,km.O)(),suggests:[]}),o(13,B=!1),o(8,O="started"),U=!1},J=(e,t,n)=>{var i,s,a,c;switch(e){case"type":case"type_silent":"onHandle"===t&&Q(n.text);break;case"print_text_in_message_view":"onHandle"===t&&(n.text&&((e,t,n)=>{if("end"===O)return;const i=[{id:String(0),type:"text",text:e.trim()}];n?r.updateLastMessage({bubbles:i},"replace"):r.addMessage({requestId:F,bubbles:i,isWelcomeMessage:H,id:(0,km.O)(),suggests:[]}),H=!1})(n.text,0,!n.isNewMessage),o(33,E="end"===n.status?void 0:n.status),o(13,B="end"===n.status));break;case"open_dialog_directive":o(8,O="skill_opened");const{dialog_id:e}=n;lm.MV.includes(e)?o(15,q="YandexGPT 2"):lm.gu.includes(e)&&Bp(d,m);let u=`${Au.Wz}.${e}`;if(lm.MV.includes(e)&&(u="alice.defaultChat"),!l.allChats.hasOwnProperty(e)){const t={type:"ls",localStorageKey:u,maxMessagesInLS:50,isDialog:!0};j.createChat(t,{id:e})}j.setActiveChatId(e);break;case"update_dialog_info":"onHandle"===t&&o(14,G={dialogTitle:null!==(i=n.title)&&void 0!==i?i:"",dialogImageUrl:null!==(s=n.image_url)&&void 0!==s?s:"",dialogUrl:null!==(a=n.url)&&void 0!==a?a:"",logo:null!==(c=n.style.oknyx_logo)&&void 0!==c?c:""});break;case"end_dialog_session":"onHandle"===t&&(null==p||p());break;case"open_uri":if("onHandle"===t){if(m.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:n.uri}}),f)return f({url:n.uri});window.location.href=n.uri}}},ee=e=>m.emit("errorThrown",e),te=e=>o(6,z=e),ne=e=>{var t;const n=null===(t=e.recognition)||void 0===t?void 0:t.text;n&&(Q(n,V),V=!0)},ie=e=>{var t;if("not_started"===O)return;E||o(13,B=!0);const n=e.response.response||{},{cards:i,suggest:s,directives:l,templates:c,palette:u}=n;o(11,N=null!==(t=null==s?void 0:s.items)&&void 0!==t?t:[]);const{dialogId:d}=e;o(10,A=Boolean(d&&lm.lA.includes(d))),F=e.response.header.request_id;const p=(0,Dh.CT)(a.messages);if((null==p?void 0:p.isUserAuthor)&&!p.requestId&&r.updateLastMessage({requestId:F},"merge"),(null==l?void 0:l.find((e=>"end_dialog_session"===e.name)))&&(o(8,O="end"),H&&U&&I&&C))return void C();const h=[];i.length&&("skill_opened"===O&&o(8,O=k?"started":"welcome_message"),i.forEach((e=>{switch(e.type){case"simple_text":h.push({id:(0,km.O)(),type:"text",text:e.text});break;case"rich_json_card":const t=JSON.parse(e.string_body);h.push({id:(0,km.O)(),type:"richJson",richJson:t,hideBorders:e.hide_borders});break;case"div2_card":h.push({id:(0,km.O)(),type:"divJson",divJson:{card:e.body.states?e.body:e.body.card,templates:c||e.body.templates,palette:u}})}})),h.length&&r.addMessage({requestId:F,bubbles:h,isWelcomeMessage:H,id:(0,km.O)(),suggests:[]}),H=!1)},oe=()=>{V=!1},re=(e="")=>Y({name:"@@mm_semantic_frame",type:"server_action",payload:{typed_semantic_frame:{external_skill_fixed_activate_semantic_frame:{fixed_skill_id:{string_value:"b7c42cab-db61-46ba-871a-b10a6ecf3e0d"},activation_command:{string_value:e}}},analytics:{product_scenario:"dialogovo",origin:"Scenario",purpose:"skill_activate"}}},{voiceSession:!1});return n.$$set=e=>{"theme"in e&&o(0,u=e.theme),"isMobile"in e&&o(23,d=e.isMobile),"onClose"in e&&o(1,p=e.onClose),"shouldFocusInput"in e&&o(2,h=e.shouldFocusInput),"outputBus"in e&&o(3,m=e.outputBus),"overrideOpenUriDirective"in e&&o(24,f=e.overrideOpenUriDirective),"isTablet"in e&&o(4,v=e.isTablet),"permission"in e&&o(5,_=e.permission),"startPhrase"in e&&o(25,b=e.startPhrase),"requestMicPermission"in e&&o(26,y=e.requestMicPermission),"shouldOpenYaGpt"in e&&o(27,x=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&o(28,w=e.yaGptOpenPhrase),"dialogOpenedWithPhrase"in e&&o(29,k=e.dialogOpenedWithPhrase),"deeplink"in e&&o(30,$=e.deeplink),"onImmediateClose"in e&&o(31,C=e.onImmediateClose),"shouldImmediateClose"in e&&o(32,I=e.shouldImmediateClose)},n.$$.update=()=>{64&n.$$.dirty[1]&&(o(7,r=l.currentChat),c(),c=(0,e.LdU)(r,(e=>o(44,a=e)))),32&n.$$.dirty[0]&&o(36,s="granted"===_),32&n.$$.dirty[1]&&K.emit("changeMicPermission",s),96&n.$$.dirty[0]|16&n.$$.dirty[1]&&(("prompt"===L||"unknown"===L)&&z===g.U.SUSPENDED&&S.checkPermissionAndStartVoiceInput(),o(35,L=_)),128&n.$$.dirty[0]|4&n.$$.dirty[1]&&r.setOutputStatus(E),8&n.$$.dirty[0]|8&n.$$.dirty[1]&&(P||(dd(m).then((e=>{o(9,T=e)}),(()=>{m.emit("errorThrown",Error("failed to load markdown bundle"))})),o(34,P=!0)))},[u,p,h,m,v,_,z,r,O,T,A,N,R,B,G,q,D,M,j,e=>{X(),Q(e),Y({type:"text_input",text:e},{voiceSession:!1}),m.emit("stat",{path:`${Mf}.keyboard_question`,eventType:"click",customParams:{value:e}})},()=>{z===g.U.LISTENING&&X()},()=>{switch(z){case g.U.LISTENING:X(),m.emit("stat",{path:`${Mf}.oknyx_while_listening`,eventType:"click"});break;case g.U.SUSPENDED:if("nomic"===_)return;if("unknown"===_&&y(),!s)return void o(12,R=!0);Z(),m.emit("stat",{path:`${Mf}.oknyx_while_suspended`,eventType:"click"});break;case g.U.THINKING:default:X()}},(e,t)=>{m.emit("stat",{path:`${Mf}.suggest.${t}`,eventType:"click",customParams:{title:e.title}}),W(e)},d,f,b,y,x,w,k,$,C,I,E,P,L,s,l,()=>{o(12,R=!1),m.emit("stat",{path:"fullscreen.denied_notifier_closed",eventType:"click"})},function(t){e.VnY[t?"unshift":"push"]((()=>{D=t,o(16,D)}))}]}class Sf extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,jf,Cf,e.N8,{theme:0,isMobile:23,onClose:1,shouldFocusInput:2,outputBus:3,overrideOpenUriDirective:24,isTablet:4,permission:5,startPhrase:25,requestMicPermission:26,shouldOpenYaGpt:27,yaGptOpenPhrase:28,dialogOpenedWithPhrase:29,deeplink:30,onImmediateClose:31,shouldImmediateClose:32},yf,[-1,-1])}}const Tf=Sf,Ef=(0,Du.h)((async function(){let e=!1;return(await navigator.mediaDevices.enumerateDevices()).forEach((t=>{"audioinput"===t.kind&&(e=!0)})),e})),Lf=(0,Du.h)((async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}})).getAudioTracks().forEach((e=>{e.stop()})),"granted"}catch(e){return"denied"}})),Df=async()=>await Ef()?Promise.race([Lf(),(600,new Promise((e=>{setTimeout(e,600)}))).then((()=>"prompt"))]):"nomic",zf="/alisa_davay_pridumaem",Of=e=>{if(["https://ya.ru","https://yandex.ru"].includes(window.location.origin))return{setLetsImagineScreenUrl:()=>{window.history.pushState(history.state,"",`${window.location.origin}${zf}`)},setPreviousUrl:()=>{window.history.back()}};e.emit("stat",{path:"fullscreen_redirection_fail",eventType:"tech",customParams:{origin:window.location.origin}})};function Af(t){(0,e.qOq)(t,"svelte-107sisw",".alice-microphone-request__paranja.svelte-107sisw{position:fixed;background:rgba(251, 251, 251, 0.6);top:0;bottom:0;left:0;right:0;z-index:var(--z-index)}.alice-microphone-request__paranja_theme_dark.svelte-107sisw{opacity:0.5;background-color:#161617}html.is-locked, html.is-locked body{height:calc(var(--window-inner-height) - 1px);overflow:hidden;box-sizing:border-box}")}function Nf(t){let n,i,o,r;const s=[Bf,Rf],a=[];function l(e,t){return e[12]?0:1}return n=l(t),i=a[n]=s[n](t),{c(){i.c(),o=(0,e.cSb)()},m(t,i){a[n].m(t,i),(0,e.$Tr)(t,o,i),r=!0},p(t,r){let c=n;n=l(t),n===c?a[n].p(t,r):((0,e.dvw)(),(0,e.etI)(a[c],1,1,(()=>{a[c]=null})),(0,e.gbL)(),i=a[n],i?i.p(t,r):(i=a[n]=s[n](t),i.c()),(0,e.Ui)(i,1),i.m(o.parentNode,o))},i(t){r||((0,e.Ui)(i),r=!0)},o(t){(0,e.etI)(i),r=!1},d(t){t&&(0,e.ogt)(o),a[n].d(t)}}}function Rf(t){let n,i;return n=new cf({props:{ariaLabelledby:Zf,hideApp:t[26],theme:t[3],isTablet:t[4],$$slots:{default:[Vf]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};8&t[0]&&(i.theme=e[3]),16&t[0]&&(i.isTablet=e[4]),190462&t[0]|64&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Bf(t){let n,i;return n=new l({props:{target:"body",$$slots:{default:[Gf]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};99262&t[0]|64&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Pf(t){let n,i;return n=new vf({props:{outputBus:t[1],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t[0]&&(i.outputBus=e[1]),8&t[0]&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Hf(t){let n,i,o=t[13]&&Pf(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),(0,e.Ljt)(n,"slot","promo")},m(t,r){(0,e.$Tr)(t,n,r),o&&o.m(n,null),i=!0},p(t,i){t[13]?o?(o.p(t,i),8192&i[0]&&(0,e.Ui)(o,1)):(o=Pf(t),o.c(),(0,e.Ui)(o,1),o.m(n,null)):o&&((0,e.dvw)(),(0,e.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){t&&(0,e.ogt)(n),o&&o.d()}}}function Uf(t){let n,i;return n=new Jm({props:{setIsLetsImagineDialog:t[22],shouldPromoShow:t[13],onPromoShowChange:t[20],outputBus:t[1],theme:t[3],overrideOpenUriDirective:t[2],onHorizontalMoveChange:t[19],shouldShowShortcuts:t[14],setShortcutsVisibility:t[21],permission:t[15],shouldTrackVoiceRecordingStarted:t[17],shouldTrackAliceMainFullyShown:!0,shouldFocusInput:!t[4],hasKeyboardInput:!0,startPhrase:t[5],preventListenOnStart:t[6],requestMicPermission:t[25],isTablet:t[4],openFullscreen:t[23],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9],hideApp:t[26],closeOnDialogDispose:t[10],$$slots:{promo:[Hf]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};8192&t[0]&&(i.shouldPromoShow=e[13]),2&t[0]&&(i.outputBus=e[1]),8&t[0]&&(i.theme=e[3]),4&t[0]&&(i.overrideOpenUriDirective=e[2]),16384&t[0]&&(i.shouldShowShortcuts=e[14]),32768&t[0]&&(i.permission=e[15]),131072&t[0]&&(i.shouldTrackVoiceRecordingStarted=e[17]),16&t[0]&&(i.shouldFocusInput=!e[4]),32&t[0]&&(i.startPhrase=e[5]),64&t[0]&&(i.preventListenOnStart=e[6]),16&t[0]&&(i.isTablet=e[4]),128&t[0]&&(i.shouldOpenYaGpt=e[7]),256&t[0]&&(i.yaGptOpenPhrase=e[8]),512&t[0]&&(i.deeplink=e[9]),1024&t[0]&&(i.closeOnDialogDispose=e[10]),8202&t[0]|64&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Vf(t){let n,i,o,r,s,a,l,c,u;return c=new Jg({props:{theme:t[3],$$slots:{default:[Uf]},$$scope:{ctx:t}}}),{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)("Алиса"),s=(0,e.DhX)(),a=(0,e.bGB)("style"),a.textContent="#alice-dialog-title {\n                    opacity: 0;\n                    height: 0;\n                }",l=(0,e.DhX)(),(0,e.YCL)(c.$$.fragment),(0,e.Ljt)(n,"tabindex","-1"),(0,e.Ljt)(n,"id",Zf),n.inert=o=!0,(0,e.Ljt)(n,"aria-hidden",r=!0)},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),(0,e.$Tr)(t,s,o),(0,e.$Tr)(t,a,o),(0,e.$Tr)(t,l,o),(0,e.yef)(c,t,o),u=!0},p(e,t){const n={};8&t[0]&&(n.theme=e[3]),190462&t[0]|64&t[1]&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(t){u||((0,e.Ui)(c.$$.fragment,t),u=!0)},o(t){(0,e.etI)(c.$$.fragment,t),u=!1},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(s),(0,e.ogt)(a),(0,e.ogt)(l)),(0,e.vpE)(c,t)}}}function Gf(t){let n,i;return n=new Tf({props:{theme:t[3],onClose:t[24],shouldFocusInput:!t[4],overrideOpenUriDirective:t[2],outputBus:t[1],isTablet:t[4],permission:t[15],startPhrase:t[5],requestMicPermission:t[25],dialogOpenedWithPhrase:t[16],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};8&t[0]&&(i.theme=e[3]),16&t[0]&&(i.shouldFocusInput=!e[4]),4&t[0]&&(i.overrideOpenUriDirective=e[2]),2&t[0]&&(i.outputBus=e[1]),16&t[0]&&(i.isTablet=e[4]),32768&t[0]&&(i.permission=e[15]),32&t[0]&&(i.startPhrase=e[5]),65536&t[0]&&(i.dialogOpenedWithPhrase=e[16]),128&t[0]&&(i.shouldOpenYaGpt=e[7]),256&t[0]&&(i.yaGptOpenPhrase=e[8]),512&t[0]&&(i.deeplink=e[9]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function qf(t){let n,i;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)(`alice-microphone-request__paranja alice-microphone-request__paranja_theme_${t[3]}`)+" svelte-107sisw"),(0,e.czc)(n,"--z-index",t[18])},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){8&o[0]&&i!==(i=(0,e.H1I)(`alice-microphone-request__paranja alice-microphone-request__paranja_theme_${t[3]}`)+" svelte-107sisw")&&(0,e.Ljt)(n,"class",i)},d(t){t&&(0,e.ogt)(n)}}}function Ff(t){let n,i,o,r,s=!t[0]&&Nf(t),a=!t[0]&&"prompt"===t[15]&&qf(t),l=!1;return{c(){s&&s.c(),n=(0,e.DhX)(),a&&a.c(),i=(0,e.DhX)(),l&&l.c(),o=(0,e.cSb)()},m(t,c){s&&s.m(t,c),(0,e.$Tr)(t,n,c),a&&a.m(t,c),(0,e.$Tr)(t,i,c),l&&l.m(t,c),(0,e.$Tr)(t,o,c),r=!0},p(t,o){t[0]?s&&((0,e.dvw)(),(0,e.etI)(s,1,1,(()=>{s=null})),(0,e.gbL)()):s?(s.p(t,o),1&o[0]&&(0,e.Ui)(s,1)):(s=Nf(t),s.c(),(0,e.Ui)(s,1),s.m(n.parentNode,n)),t[0]||"prompt"!==t[15]?a&&(a.d(1),a=null):a?a.p(t,o):(a=qf(t),a.c(),a.m(i.parentNode,i)),l&&((0,e.dvw)(),(0,e.etI)(l,1,1,(()=>{l=null})),(0,e.gbL)())},i(t){r||((0,e.Ui)(s),(0,e.Ui)(l),r=!0)},o(t){(0,e.etI)(s),(0,e.etI)(l),r=!1},d(t){t&&((0,e.ogt)(n),(0,e.ogt)(i),(0,e.ogt)(o)),s&&s.d(t),a&&a.d(t),l&&l.d(t)}}}let Zf="alice-dialog-title";function Yf(e,n,i){let o,r,s,{hidden:a}=n,{outputBus:l}=n,{overrideOpenUriDirective:c}=n,{theme:u}=n,{isTablet:d=!1}=n,{startPhrase:p}=n,{preventListenOnStart:h=!1}=n,{elementFocusOnClose:g}=n,{shouldOpenYaGpt:m}=n,{yaGptOpenPhrase:f}=n,{deeplink:v}=n,{closeOnDialogDispose:_}=n,{userData:b}=n;const{baseZIndex:y,isAliceFullscreenRedirectExp:x,aliceKit:w,allChatsStore:k}=(0,t.fw)(ue.f1);let $,C,I=!1,M=!0,j="unknown",S=!1,T=!1;const E=e=>{i(14,M=e)},L=(0,Du.h)((()=>{l.emit("firstPaint")}));return x&&(C=Of(l)),(0,t.gx)((()=>{"prompt"===j&&i(17,o=!1),L()})),(0,t.ev)((()=>{w.cancel()})),e.$$set=e=>{"hidden"in e&&i(0,a=e.hidden),"outputBus"in e&&i(1,l=e.outputBus),"overrideOpenUriDirective"in e&&i(2,c=e.overrideOpenUriDirective),"theme"in e&&i(3,u=e.theme),"isTablet"in e&&i(4,d=e.isTablet),"startPhrase"in e&&i(5,p=e.startPhrase),"preventListenOnStart"in e&&i(6,h=e.preventListenOnStart),"elementFocusOnClose"in e&&i(27,g=e.elementFocusOnClose),"shouldOpenYaGpt"in e&&i(7,m=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&i(8,f=e.yaGptOpenPhrase),"deeplink"in e&&i(9,v=e.deeplink),"closeOnDialogDispose"in e&&i(10,_=e.closeOnDialogDispose),"userData"in e&&i(11,b=e.userData)},e.$$.update=()=>{672&e.$$.dirty[0]&&i(31,r=p||m||"skill"===(null==v?void 0:v.type)&&(null==v?void 0:v.id)),268435456&e.$$.dirty[0]|1&e.$$.dirty[1]&&i(12,s=(S||r)&&!0),1610616833&e.$$.dirty[0]&&C&&s&&(!a&&document.location.pathname!==zf&&T?C.setLetsImagineScreenUrl():a&&document.location.pathname===zf&&C.setPreviousUrl()),134217731&e.$$.dirty[0]&&a&&(l.emit("popupHidden"),l.emit("stat",{path:"curtain_close",eventType:"click"}),i(13,I=!1),i(14,M=!0),null==g||g.focus(),w.cancel(),w.setDialogId(null),w.setPrevRequestId(void 0))},i(17,o=!0),[a,l,c,u,d,p,h,m,f,v,_,b,s,I,M,j,$,o,y,()=>{},e=>{i(13,I=e)},E,e=>{i(30,T=e)},e=>{i(28,S=!0),i(16,$=e)},()=>{l.emit("stat",{path:"fullscreen.close",eventType:"click"}),w.cancel(),k.setActiveChatId(""),E(!0),i(28,S=!1),i(16,$=void 0),r&&i(0,a=!0)},()=>{Df().then((e=>{i(15,j=e),"prompt"===e&&(l.emit("stat",{path:"mic_permission_prompt",eventType:"show"}),Lf().then((function(e){i(15,j=e),"granted"===e?l.emit("stat",{path:"mic_permission_granted",eventType:"click"}):l.emit("stat",{path:"mic_permission_denied",eventType:"click"})})))}))},()=>{i(0,a=!0)},g,S,C,T,r]}class Wf extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Yf,Ff,e.N8,{hidden:0,outputBus:1,overrideOpenUriDirective:2,theme:3,isTablet:4,startPhrase:5,preventListenOnStart:6,elementFocusOnClose:27,shouldOpenYaGpt:7,yaGptOpenPhrase:8,deeplink:9,closeOnDialogDispose:10,userData:11},Af,[-1,-1])}}const Xf=Wf;class Kf extends zu.ku{constructor(e={}){super("open_dialog"),this.options=e}handleDirective(e,{isUserEvent:t}={}){var n;const{getDelay:i,beforeHandle:o,onHandle:r}=this.options,s=t?0:null!==(n=null==i?void 0:i(e))&&void 0!==n?n:1200;this.cancel(),null==o||o(e),s&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{const{voiceSession:t}=zu.ZP.state;null==r||r(e),zu.ZP.setDialogId(e.payload.dialog_id);const n=e.payload.directives.find((e=>"new_dialog_session"===e.name));n&&zu.ZP.executeDirectives([n],{request:{voiceSession:t}}),this.cancel()}),s)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}class Qf extends zu.ku{constructor(e={}){super("end_dialog_session"),this.options=e}handleDirective(e,{isUserEvent:t}={}){var n;const{getDelay:i,beforeHandle:o,onHandle:r}=this.options,s=t?0:null!==(n=null==i?void 0:i(e))&&void 0!==n?n:1200;this.cancel(),null==o||o(e),s&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{zu.ZP.setDialogId(null),null==r||r(e),this.cancel()}),s)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}var Jf=s(8489);class ev{constructor(e){this.outputQueue=[],this.prevPayload=null,this.prevSentChunk=null,this.currentText="",this.addNextChunks=()=>{const e=this.outputQueue.shift();if(!e)return;let t;"new"===e.mode||"replace"===e.mode?this.currentText=e.textChunk:this.currentText+=e.textChunk,t=e.isEnd?"end":this.outputQueue.length?"writing":"thinking",this.send({text:this.currentText,messageViewId:e.messageViewId,status:t,isNewMessage:"new"===e.mode}),e.isEnd&&this.clean(),this.outputQueue.length&&setTimeout(this.addNextChunks,this.outputQueue[0].time)},this.send=e=>{this.onReceiveHandler(e),this.prevSentChunk=e},this.clean=()=>{this.outputQueue=[],this.prevPayload=null,this.currentText="",this.prevSentChunk=null},this.onHandle=({payload:e})=>{var t;const{text:n,message_view_id:i,should_rewrite:o,symbols_per_second:r}=e,s=!this.outputQueue.length;o&&(this.outputQueue=this.outputQueue.filter((e=>e.messageViewId!==i)));const a=Boolean(!this.prevPayload||this.prevPayload.message_view_id!==i),l=Boolean(o&&(null===(t=this.prevSentChunk)||void 0===t?void 0:t.messageViewId)===i),c=(0,km.x)(n);0===c.length&&c.push("");const u=r?n.length/c.length*1e3/r:0,d=c.map(((t,n,o)=>{let r;return r=0===n&&l?"replace":0===n&&a?"new":"regular",{textChunk:t,time:u,mode:r,isFirstChunk:0===n,isEnd:e.is_end&&n===o.length-1,messageViewId:i}}));this.outputQueue.push(...d),this.prevPayload=e,s&&this.outputQueue.length&&this.addNextChunks()},this.onCancel=()=>{this.prevPayload&&(this.send({messageViewId:null,status:"end",isNewMessage:!1}),this.clean())},this.onReceiveHandler=e.onHandle}}const tv=new Jf.v,nv=(0,ue.JC)(Xf,(({originDomain:e,uniproxyUrl:t,vinsUrl:n,appId:i,location:o,oggDecoderWorkerPath:r,yandexuid:s,os:a,isSafari:l,isFullscreenExp:c,experiments:u,supportedFeatures:d,unsupportedFeatures:p,outputBus:h,aliceButterflyStores:m})=>{let f;tv.on("changeMicPermission",(e=>f=e));const v=e=>tv.emit("error",e);(0,zu.kJ)(v);const _=(e=>e.padStart(32,"0"))(s),b="ios"===a?"iphone":a,y=new zu.rb({name:"type",handleDirective:(e,t)=>{var n;e.payload.text&&(V({type:"suggested_input",text:e.payload.text},{voiceSession:null===(n=null==t?void 0:t.request)||void 0===n?void 0:n.voiceSession}),tv.emit("directive","type","onHandle",e.payload))}}),x=new zu.rb({name:"type_silent",handleDirective:e=>{e.payload.text&&tv.emit("directive","type_silent","onHandle",e.payload)}}),w=new zu.QI({delay:2e3,skip:e=>tv.emit("directive","open_uri","skip",e.payload),onHandle:(e,t)=>tv.emit("directive","open_uri","onHandle",e.payload,t),beforeHandle:e=>tv.emit("directive","open_uri","beforeHandle",e.payload)}),k=new zu.rb({name:"fill_cloud_ui",handleDirective:e=>tv.emit("directive","fill_cloud_ui","onHandle",e.payload)}),$=new zu.rb({name:"show_promo",handleDirective:e=>tv.emit("directive","show_promo","onHandle",e.payload)}),C=new zu.rb({name:"show_view",handleDirective:e=>tv.emit("directive","show_view","onHandle",e.payload)}),I=new zu.rb({name:"update_dialog_info",handleDirective:e=>tv.emit("directive","update_dialog_info","onHandle",e.payload)}),M=new Qf({getDelay:()=>3e3,onHandle:e=>tv.emit("directive","end_dialog_session","onHandle",e.payload),beforeHandle:e=>tv.emit("directive","end_dialog_session","beforeHandle",e.payload)}),j=new Kf({getDelay:e=>lm.lA.includes(e.payload.dialog_id)&&c?0:2e3,beforeHandle:e=>tv.emit("directive","open_dialog_directive","beforeHandle",e.payload),onHandle:e=>tv.emit("directive","open_dialog_directive","onHandle",e.payload)}),S=new ev({onHandle:e=>tv.emit("directive","print_text_in_message_view","onHandle",e)}),T=new zu.ox({onHandle:e=>S.onHandle(e),onCancel:S.onCancel}),E=new zu.rb({name:"show_alice_pro_banner",handleDirective(e){tv.emit("directive","show_alice_pro_banner","onHandle",e.payload)}}),D=Boolean(!1),z=D&&(0,zu.pk)(i,b),[O,A]=[1e3,1e4],N=z&&zu.pK.isAvailable()?[new zu.pK({name:"hibernate",delay:A}),new zu.pK({name:"power_off",delay:A}),new zu.pK({name:"restart_pc",delay:A}),new zu.pK({name:"navigate_browser",delay:O}),new zu.pK({name:"open_soft",delay:O})]:[],R=D?[new zu.rb({name:"paste_text_in_field",handleDirective:({payload:e})=>{var t,n,i;null===(i=null===(n=null===(t=window.yandex)||void 0===t?void 0:t.overlayView)||void 0===n?void 0:n.autofillTextGenerated)||void 0===i||i.call(n,e.value)}})]:[],B=new zu.rb({name:"close_alice",handleDirective:()=>{D?setTimeout((()=>{var e,t;return null===(t=null===(e=window.yandex)||void 0===e?void 0:e.messenger)||void 0===t?void 0:t.hideView()}),0):tv.emit("directive","close_alice","onHandle")}}),P=(()=>{let e;return()=>{const t=Date.now(),n=e?t-e:void 0;return e=t,n}})(),H=e=>{const t=P();zu.ZP.status!==g.U.SUSPENDED?h.emit("errorThrown",new Error(`startVoiceInput call on status: ${zu.ZP.status}`),"warn"):t&&t<300&&h.emit("errorThrown",new Error("startVoiceInput call with tiny timeDiff"),"warn"),zu.ZP.startVoiceInput(e),tv.emit("listeningrequest")},U=e=>{f&&!document.hidden&&zu.ZP.status===g.U.SUSPENDED&&H(e)},V=(e,t,n)=>zu.ZP.sendVinsRequest(e,t,n);zu.ZP.on("status",(e=>{(e=>{tv.emit("status",e)})(e),e===g.U.SUSPENDED&&zu.ZP.state.shouldListen&&U()})),zu.ZP.on("cancel",(()=>tv.emit("cancel"))),zu.ZP.on("warning",(e=>h.emit("stat",{eventType:"tech",path:"alicekit_warning",customParams:{name:e.name,message:e.message}}))),zu.ZP.on("speechstart",(e=>tv.emit("speechstart",e))),zu.ZP.on("speechend",(e=>tv.emit("speechend",e))),zu.ZP.on("speecherror",(e=>v(e.error))),zu.ZP.on("vins",(e=>tv.emit("vins",e))),zu.ZP.on("vinsstream",(e=>tv.emit("vinsstream",e))),zu.ZP.on("vinserror",(e=>tv.emit("error",e.error))),zu.ZP.on("listeningstart",(e=>tv.emit("listeningstart",e))),zu.ZP.on("listeningend",(e=>tv.emit("listeningend",e))),zu.ZP.on("listeningerror",(e=>v(e.error))),zu.ZP.on("recognition",(e=>{tv.emit("recognition",e),e.recognition.finished&&e.recognition.text&&(h.emit("stat",{eventType:"tech",path:"recognition",customParams:{title:e.recognition.text}}),h.emit("stat",{eventType:"show",path:"request.voice",customParams:{title:e.recognition.text}}))}));const G=(0,Du.h)((()=>{var s,c,h,g;m.setButterflyUUID(_);const f=m.getButterflyStoresData();zu.ZP.init(Object.assign(Object.assign(Object.assign({apiKey:"effd5a3f-fd42-4a18-83a1-61766a6d0924",appId:i,appVersion:"1.0.288-HOME-97085.v0-home-static/alice-web/68",uuid:_,originDomain:e,uniproxyUrl:f.uniProxyUrl||t,vinsUrl:f.vinsUrl||n,location:o,platform:b,isWebKit:"ios"===a||l,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},r&&{decoders:{"audio/ogg;codecs=opus":{workerPath:r}}}),{directiveHandlers:[y,x,w,k,$,C,j,I,M,B,T,E,...N,...R],experiments:(0,Dh.V4)(u,f.experiments),supported_features:(0,Dh.V4)(d,f.supportedFeatures),unsupported_features:(0,Dh.V4)(p,f.unsupportedFeatures)}),f.testIds.length&&{megamind_cookies:JSON.stringify({uaas_tests:f.testIds})})),D&&(null===(c=null===(s=window.yandex)||void 0===s?void 0:s.messenger)||void 0===c||c.onVinsTextRequest.addListener(((e,t)=>{(null==t?void 0:t.length)?zu.ZP.executeDirectives(t):e&&zu.ZP.executeDirectives([{name:"type",type:"client_action",payload:{text:e}}])})),null===(g=null===(h=window.yandex)||void 0===h?void 0:h.messenger)||void 0===g||g.setWebAppInitialized())})),q=(0,Du.h)((e=>U(e)));return{selectSuggest:e=>{var t,n;const{voiceSession:i}=zu.ZP.state;if(zu.ZP.cancel(),!(null===(t=e.directives)||void 0===t?void 0:t.length)&&!e.title)return void h.emit("stat",{eventType:"tech",path:"empty_suggest"});h.emit("stat",{eventType:"show",path:"request.suggest",customParams:{title:e.title}});const o=(null===(n=e.directives)||void 0===n?void 0:n.length)?e.directives:[{type:"client_action",name:"type",payload:{text:e.title}}];zu.ZP.executeDirectives(o,{isUserEvent:!0,request:{voiceSession:i}})},startVoiceInput:H,startVoiceInputOnce:q,checkPermissionAndStartVoiceInput:U,sendVinsRequest:V,getGreetings:zu.$E,sendFeedback:zu.fA,synthesize:e=>zu.ZP.synthesize(e),cancel:zu.ZP.cancel,destroy:zu.ZP.destroy,setDialogId:zu.ZP.setDialogId,setPrevRequestId:zu.ZP.setPrevRequestId,updateRequestConfig:zu.ZP.updateRequestConfig,ttsStop:zu.ZP.ttsStop,start:G,aliceBus:tv,getStatus:()=>zu.ZP.status,getState:()=>zu.ZP.state,getInfo:()=>zu.ZP.info,onInit:(e,t=!0)=>{var n;return t&&(null===(n=zu.ZP.info)||void 0===n?void 0:n.isInit)?(e(),L.Z):zu.ZP.once("init",e)},getWelcome:zu.lP,getChatList:zu.Ag,getChatHistory:zu.$i,removeChat:zu.O6,removeChatMessages:zu.CX,createChatWithMessages:zu.Oj}}),{experiments:lm.Yj,supportedFeatures:lm.ze,unsupportedFeatures:[],isLib:!0}),iv=nv})(),window.AliceForWeb=a})();