window.Ya&&Ya.Rum&&Ya.Rum.time&&Ya.Rum.time("2095"),function(){var t,e,n,i={150:function(t){t.exports=function(t){if(!t)return"";var e,n,i="";for(e in t)t.hasOwnProperty(e)&&(n=t[e],/^_temp/.test(e)&&"string"==typeof n?i+=" "+n:(n||0===n)&&(!0===n?i+=" "+e.toLowerCase():(n=n.toString(),/"/.test(n)&&(n=n.replace(/"/g,"&quot;")),i+=" "+e.toLowerCase()+'="'+n+'"')));return i}},9735:function(t){function e(t){return"boolean"!=typeof t&&null!=t?Array.isArray(t)?t.join(""):t:""}t.exports=function(t){return t.map(e).join("")},t.exports.oneElem=e},6895:function(){BEM.decl("i-metrika",{},{add:function(t){var e=(t=t||{}).id;if(!e)throw new Error("i-metrika: Counter id wasn't passed");var n=$.Deferred();try{window["yaCounter"+e]?n.resolve(window["yaCounter"+e]):(window["yaCounter"+e]=new window.Ya.Metrika(t),$(document).one("yacounter"+e+"inited",(function(){n.resolve(window["yaCounter"+e])})))}catch(i){n.reject()}return n.promise()}})},1847:function(t,e,n){"use strict";n.d(e,{Xn:function(){return r}});var i=n(9996),o=n(44);var r=(0,i.Z)((function(t,e){return(0,o.Yu)("common.new-tab-links")}))},4130:function(t,e,n){"use strict";n.d(e,{G:function(){return m}});var i=n(1714),o=n(8086),r=n(234),s=n(150),a=n.n(s),c=n(9735),u=n.n(c),l=n(7843);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n,i,o="yes"===(null===(n=t.mods)||void 0===n?void 0:n["has-close"])?"<button "+a()({class:"simple-popup__close","aria-label":"Закрыть"})+">"+u().oneElem(t.closeText)+"</button>":"",r=(null===(i=t.mods)||void 0===i?void 0:i["close-position"])||"after";return"<div "+a()(Object.assign({class:(0,l.jY)("simple-popup",{mods:t.mods,mix:"i-mini-bem"+(t.mix?" "+t.mix:"")}),"data-bem":(0,l.Ms)(d(d({},t.js||{}),{},{"simple-popup":{}}))},t.attrs))+">"+(u().oneElem("before"===r?o:"")+u().oneElem("<div class='simple-popup__content'>"+u().oneElem(t.content)+"</div>")+u().oneElem("after"===r?o:""))+"</div>"}function m(t,e){if(t){var n=null,s=function(){return n||(n=e()),n},a=null,c=function(){return a||(a=Promise.resolve(e().content).catch((function(t){throw(0,o.H)({block:"dropdown3-binder"},t),t})))},u=null,l=function(){return u||(u=c().then((function(e){return function(t,e,n){t.classList.add("dropdown3");var o=MBEM.construct((0,i.M)(f,{mods:e.popupMods,mix:e.popupMix||""}));o.appendChild(n),e.scope?e.scope.appendChild(o):t.appendChild(o),MBEM.initAll(o,"i-mini-bem");var s=MBEM.getInitedBlock(o,"simple-popup");return s.on("show",(function t(){s.un("show",t),(0,r.Dn)(s.domElem)})),s.on("show",(function(){t.setAttribute("aria-expanded","true")})).on("hide",(function(){t.setAttribute("aria-expanded","false")})),e.popupCallback&&e.popupCallback(s),s}(t,s(),e)})),u)};Promise.resolve().then((function(){t.addEventListener("mouseover",(function e(){t.removeEventListener("mouseover",e),c()})),t.addEventListener("click",(function(e){if(!(e.target&&e.target instanceof Element&&e.target.closest(".simple-popup"))){var n=Date.now();l().then((function(e){if(e.isShown())e.hide();else{var n=s(),i=n.popupParams||{direction:"bottom-right",xOffset:8,yOffset:0,zIndexGroupLevel:0};e.show({owner:n.anchor||t,direction:i.direction||"bottom-right",xOffset:i.xOffset,yOffset:i.yOffset,zIndexGroupLevel:i.zIndexGroupLevel})}})).then((function(){var t=s().statName;t&&(0,r.DF)("tech",t+".popup.timing",{customParams:{time:Date.now()-n}})})),e.preventDefault()}}))}))}}},4112:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});n(4112);var i=n(7843),o=n(8300),r=n(1847);function s(t,e,n){var s="a",a=t.attrs||{},c=t.mods||{},u=t.mix||"",l="";return a.class=(0,i.jY)("home-link2",{mix:u,mods:c}),t.href?a.href=t.href:s=t.tag||"span",t.title&&(a.title=t.title),t.role&&(a.role=t.role),t.tabindex&&(a.tabindex=t.tabindex),t.target&&(a.target=t.target),!a.target&&a.href&&n(r.Xn,e)&&(a.target="_blank"),"_blank"===a.target&&void 0===a.rel&&(a.rel="noopener"),l="<"+s,l+=(0,o.u)(a),t.stat&&(l+=t.stat),t.js&&(l+=' data-bem="'+(0,i.Ms)(t.js)+'"'),l+=">",t.inlineIcon&&(l+=t.inlineIcon),t.content&&(l+=t.content),l+="</"+s+">"}},8589:function(){window.home=window.home||{}},6211:function(){MBEM.getInitedBlock=function(t,e){var n=MBEM.getBlock(t,e);if(!n){var i=MBEM.getNodeParams(t);if(!(i=i&&i[e]))return;n=MBEM.createBlock({node:t,block:e,params:i})}return n}},4386:function(){MBEM.initAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i-bem";MBEM.cls.contains(t,e)&&MBEM.initNode(t),MBEM.arrayFrom(t.querySelectorAll(".".concat(e))).forEach((function(t){MBEM.initNode(t)}))}},1230:function(){!function(){"use strict";var t;MBEM.construct=function(e){var n;if((t=t||document.createElement("div")).innerHTML=e,t.childNodes.length>1)for(n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);else n=t.firstChild,t.removeChild(n);return n}}()},2649:function(){MBEM.ready=function(t){var e=!1,n=function(){e||(e=!0,t())};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(n,0):(document.addEventListener("DOMContentLoaded",n,!1),document.addEventListener("load",n,!1))}},7922:function(){var t;t=function(t){return"onfocusin"in t},MBEM.decl("i-mini-visibilitychange",{__constructor:function(){this._hiddenProp="hidden",this._changeDocumentHidden=this._changeDocumentHidden.bind(this),this._normalize=this._normalize.bind(this),this._hiddenProp in document?document.addEventListener("visibilitychange",this._changeDocumentHidden):(this._hiddenProp="mozHidden")in document?document.addEventListener("mozvisibilitychange",this._normalize):(this._hiddenProp="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this._normalize):(this._hiddenProp="msHidden")in document?document.addEventListener("msvisibilitychange",this._normalize):t(document)?document.onfocusin=document.onfocusout=this._normalize:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this._normalize,MBEM.channel("sys").on("unmount",this._unmount.bind(this))},_changeDocumentHidden:function(){this._change(document.hidden)},_normalize:function(t){var e,n=t.type,i={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0};e=function(t){return t in i}(n)?i[n]:document[this._hiddenProp],document.hidden=e,this._change(e)},_change:function(t){MBEM.channel("sys").trigger("visibilitychange",{hidden:t}),MBEM.channel("sys").trigger(t?"hidden":"visible")},_unmount:function(){this._hiddenProp in document?document.removeEventListener("visibilitychange",this._changeDocumentHidden):(this._hiddenProp="mozHidden")in document?document.removeEventListener("mozvisibilitychange",this._normalize):(this._hiddenProp="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",this._normalize):(this._hiddenProp="msHidden")in document?document.removeEventListener("msvisibilitychange",this._normalize):t(document)?document.onfocusin=document.onfocusout=function(){}:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}},{waitForVisible:function(t){document.hidden?MBEM.channel("sys").on("visible",(function e(){MBEM.channel("sys").un("visible",e),t()})):t()},unmount:function(){MBEM.channel("sys").trigger("unmount")}}),MBEM.createBlock({block:"i-mini-visibilitychange"})},2665:function(){window.ya=window.ya||{},ya.history=window.history&&history.pushState?{navigate:function(t){(t=t||{}).url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){window.addEventListener("popstate",(function(e){t.call(this,e.originalEvent)}))}}:null},6822:function(){BEM.DOM.decl({block:"popup2",modName:"target"},{_calcOffsets:function(){var t=this.__base.apply(this,arguments);return this.params.mainOffset!==this.getDefaultParams().mainOffset&&(t.main=this.params.mainOffset),t}})},1359:function(){BEM.DOM.decl("popup2",{onSetMod:{visible:{yes:function(){this.__base.apply(this,arguments),this._bindFocusEvents()},"":function(){this.__base.apply(this,arguments),this._unbindFocusEvents(),this._returnFocus()}}},setParams:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e])},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this._getFocusable(this.domElem);this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_getFocusable:function(t){var e=$.identify(),n="a[href], link, ";return $.data(t,"popup-getFocusable-id",e),BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=!0;return!(parseInt($(this).prop("tabindex"),10)<0)&&($(this).parentsUntil('*[data-popup-getFocusable-id="'+e+'"]').each((function(){if("none"===$(this).css("display"))return t=!1})),t)}))},_returnFocus:function(){try{var t=document.activeElement;if(!$(t).closest(this.domElem).length)return}catch(e){}(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())}},{})},3049:function(){MBEM.decl({block:"scrollbar",modName:"scroll-direction",modVal:"column"},{_scrollSizeRatioProp:function(){return"height"},_scrollRatioProp:function(){return"top"},_getContentSize:function(){return this._scrollable.scrollHeight},_getParentSize:function(){return this._scrollable.offsetHeight},_getScroll:function(){return this._scrollable.scrollTop},_getScreenValue:function(t){return t.screenY},_scrollTopOrLeft:function(t){this._scrollable.scrollTop=t}})},7475:function(){MBEM.decl("simple-popup",{__constructor:function(){if(this.bindTo("close","click",this.hide),this.bindTo("transitionend",this._onTransitionEnd),this._windowResize=this._reposition,this.hasMod("overlay","yes")){var t,e;this._overlay=document.createElement("div"),this._overlay.className="simple-popup__overlay";var n=this.getMod("theme");n&&(this._overlay.className+=" simple-popup__overlay_theme_".concat(n)),null===(t=this.domElem)||void 0===t||null===(e=t.parentNode)||void 0===e||e.insertBefore(this._overlay,this.domElem)}},show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._prevOptions=e,this._owner=e.owner||null,this._overlay&&(this._overlay.style.zIndex=String(1e3*(e.zIndexGroupLevel||1)+1)),this.domElem.style.zIndex=String(1e3*(e.zIndexGroupLevel||1)+2),this.delMod("hidden"),this._reposition(),e.direction&&this.setMod("direction",e.direction),this._showTime=Date.now(),this.bindTo(window,"resize",this._windowResize),this._timeout=window.setTimeout((function(){t._timeout=0,t.delMod("hiding"),t.setMod("shown",!0),t._overlay&&t.setMod(t._overlay,"shown",!0),t.trigger("show"),t.hasMod("autoclosable","yes")&&t.bindTo(document.body,"click",t._docClickHandler),t.hasMod("hide-on-scroll","yes")&&t.bindTo(window,"scroll",t._windowScrollHandler)}),50),this.hasMod("delay-close","yes")&&(this._closeDelaytimeout=window.setTimeout((function(){t.delMod("delay-close")}),1500))},_cleanup:function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._closeDelaytimeout&&(clearTimeout(this._closeDelaytimeout),this._closeDelaytimeout=0),this.unbindFrom(document.body,"click",this._docClickHandler),this.unbindFrom(window,"resize",this._windowResize),this.unbindFrom(window,"scroll",this._windowScrollHandler)},hide:function(){this.hasMod("shown")&&(this.delMod("shown"),this.setMod("hiding",!0),this._overlay&&this.delMod(this._overlay,"shown"),this.trigger("hide"),this._cleanup())},isShown:function(){return this.hasMod("shown")},toggle:function(){this.isShown()?this.hide():this.show(this._prevOptions)},unmount:function(){var t,e;(this._cleanup(),this._overlay)&&(null===(e=this._overlay.parentNode)||void 0===e||e.removeChild(this._overlay));null===(t=this.domElem.parentNode)||void 0===t||t.removeChild(this.domElem),this.domElem=null},_docClickHandler:function(t){var e;!(this._showTime&&Date.now()-this._showTime>100&&t.target&&t.target instanceof Node)||this.domElem.contains(t.target)||null!==(e=this._owner)&&void 0!==e&&e.contains(t.target)||this.hide()},_windowScrollHandler:function(){this.hide()},_reposition:function(){var t,e=null===(t=this._owner)||void 0===t?void 0:t.getBoundingClientRect(),n=this.domElem.getBoundingClientRect(),i=this._prevOptions;e&&("bottom-right"===i.direction?(this.domElem.style.top="".concat(window.scrollY+e.bottom+(i.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+e.right-n.width+(i.xOffset||0),"px")):"top-left"===i.direction&&(this.domElem.style.top="".concat(window.scrollY+e.top-n.height+(i.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+e.left+(i.xOffset||0),"px")))},_onTransitionEnd:function(t){t.target===this.domElem&&"visibility"===t.propertyName&&this.hasMod("hiding")&&this.setMod("hidden",!0)}})},4852:function(t,e,n){window.Ya&&Ya.Rum&&(n(5122),n(4232),n(7524)),window.Ya&&Ya.Rum&&Ya.Rum.enabled&&(n(9506),Ya.Rum.debug&&Ya.Rum.debug())},8962:function(){var t;(t=window.Ya&&Ya.Rum)&&t.enabled&&(t.getLCPAdditionalParams=function(t){var e={},n=t.element;if(n){e["-className"]=encodeURIComponent(n.className),e["-tagName"]=n.tagName.toLowerCase();var i=n.getBoundingClientRect();e["-width"]=i.width,e["-height"]=i.height}return t.size&&(e["-size"]=t.size),e})},2574:function(t,e,n){"use strict";var i=window&&window.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};var o=n(6071);e.am=o.appendQueryString,o.stringifyUrlParams;var r,s=n(5593),a="application/json; charset=utf-8",c={Accept:a},u=function(){};function l(t,e,n,o){void 0===e&&(e={});var r=i({},"json"===e.format?c:{},e.headers),s=e.body,u="";return Object.keys(r).some((function(t){return"content-type"===t.toLowerCase()}))?u=String(s||""):(r["content-type"]=a,"string"!=typeof s&&(u=JSON.stringify(s))),h(t,i({},e,{method:o,headers:r}),n,u)}function h(t,e,n,i){var a=n.successCallback,c=void 0===a?u:a,l=n.failureCallback,h=void 0===l?u:l,d=e.headers,p=void 0===d?{}:d,f=e.queryParams,m=void 0===f?{}:f,_=e.timeout,v=void 0===_?3e4:_,g=e.credentials,b=void 0===g?"include":g,y=e.method,w=void 0===y?"GET":y,E=function(t,n){var i=t.response;if("json"===e.format)try{i=JSON.parse(i)}catch(o){return void h(r.JSON_PARSE_ERROR,t)}n?h(n,t,i):c(i,t)},M=new XMLHttpRequest;return M.open(w,o.appendQueryString(t,m)),M.withCredentials=s.shouldSendCredentials(t,b),M.timeout=v,Object.keys(p).forEach((function(t){return M.setRequestHeader(t,p[t])})),M.onload=function(){M.status>=200&&M.status<300?E(M):E(M,r.ERROR_STATUS_CODE)},M.onerror=function(){h(r.REQUEST_FAILED,M)},M.ontimeout=function(){h(r.TIMEOUT,M)},M.send(i),M}!function(t){t.TIMEOUT="TIMEOUT",t.REQUEST_FAILED="REQUEST_FAILED",t.JSON_PARSE_ERROR="JSON_PARSE_ERROR",t.ERROR_STATUS_CODE="ERROR_STATUS_CODE"}(r=e.iM||(e.iM={}))},5593:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9147);e.shouldSendCredentials=function(t,e){return!(!e||"omit"===e)&&("include"===e||i.getOrigin(t)===i.getOrigin(window.location))}},6071:function(t,e){"use strict";function n(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(String(t[e]))})).join("&")}Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyUrlParams=n,e.appendQueryString=function(t,e){var i=n(e);return 0===i.length?t:t.indexOf("?")>-1?t+"&"+i:t+"?"+i}},9147:function(t,e){"use strict";function n(t,e){if("function"!=typeof URL){var n=document.createElement("a");return n.href=t,{hostname:n.hostname,port:n.port,protocol:n.protocol,origin:n.origin}}try{return new URL(t,e)}catch(i){}}Object.defineProperty(e,"__esModule",{value:!0}),e.parseUrl=n,e.getOrigin=function(t){var e="string"==typeof t?n(t):t;if(!e)return"";if(e.origin)return e.origin;var i=e.port?":"+e.port:"";return e.protocol+"//"+e.hostname+i},e.getHostname=function(t,e){var i=n(t,e);return i?i.hostname:""}},9506:function(){window.BEM&&BEM.channel("i-bem").onFirst("start-init",(function(){Ya.Rum.getSetting("sendBeforeBemInited")&&Ya.Rum.sendTimeMark("2418")})).onFirst("init",(function(){Ya.Rum.sendTimeMark("2295")}))},5122:function(){!function(t,e){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendHeroElement=t.onReady=t.onQuietWindow=function(){});t.getVarsList=function(){var e=t._vars;return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")}))},t.setVars=function(e){Object.keys(e).forEach((function(n){t._vars[n]=e[n]})),P(),O()};var n,i,o="690.1033",r="690.2096.207",s="690.2096.2877",a="690.2096.2892",c="690.2096.2044",u="690.2096.361",l="690.2096.4004",h=3,d=3e3,p={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},f={visible:1,hidden:2,prerender:3},m={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},_={"first-paint":2793,"first-contentful-paint":2794},v=Object.keys(_).length,g=t.getTime,b=window.PerformanceObserver,y=window.performance||{},w=y.timing||{},E=y.navigation||{},M=navigator.connection,k={},I={},C=t._deltaMarks,T=document.createElement("link"),S=document.createElement("a"),B="function"==typeof y.getEntriesByType,x=w.navigationStart;function P(){n=t.getVarsList(),t.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function O(){i=n.concat(["143.2129="+x])}function D(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):t()}function R(){t.getSetting("disableOnLoadTasks")||(removeEventListener("load",R),function(){var e=t.getSetting("periodicStatsIntervalMs");e||null===e||(e=15e3);e&&(N=setInterval(z,e));addEventListener("beforeunload",z)}(),function(){if(!b)return;K(y.getEntriesByType("navigation")),K(y.getEntriesByType("resource"));try{new b((function(t){K(t.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(e){}t._periodicTasks.push(X)}(),function(){if(!b)return;try{new b((function(t,e){var n=t.getEntries()[0];if(n){var i=n.processingStart,o={duration:n.duration,js:n.processingEnd-i,name:n.name};n.target&&(o.target=$(n.target)),V("first-input",i-n.startTime,o),e.disconnect()}})).observe({type:"first-input",buffered:!0})}catch(t){}}(),function(){if(!B)return;var t=y.getEntriesByType("navigation")[0];if(t){var e=[];mt(e,t),ht(e);var i=y.getEntriesByName("yndxNavigationSource")[0];i&&e.push("2091.186="+i.value),vt(a,n.concat(e))}}(),function(){if(!b)return;var e=t.getSetting("clsWindowGap")?t.getSetting("clsWindowGap"):1/0,n=t.getSetting("clsWindowSize")?t.getSetting("clsWindowSize"):1/0,i=new b((function(t){var i=t.getEntries();null==tt&&(tt=0);for(var o=0;o<i.length;o++){var r=i[o];r.hadRecentInput||(J&&r.startTime-Q[Q.length-1].startTime<e&&r.startTime-Q[0].startTime<n?(J+=r.value,Q.push(r)):(nt(),J=r.value,Q=[r]))}nt()}));try{i.observe({type:"layout-shift",buffered:!0})}catch(o){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof i.takeRecords&&i.takeRecords(),i.disconnect()}catch(o){}it()}})),addEventListener("beforeunload",it)}(),function(){if(!b||!t.getSetting("forcePaintTimeSending")&&t.isVisibilityChanged())return;var e=new b((function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];ot=i.renderTime||i.loadTime,rt=i}st||(U("largest-loading-elem-paint",ot),st=!0)}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(n){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(n){}at()}})),addEventListener("beforeunload",at)}())}function A(){var e=w.domContentLoadedEventStart,i=w.domContentLoadedEventEnd;if(0!==e||0!==i){var r=0===w.responseStart?x:w.responseStart,s=0===w.domainLookupStart?x:w.domainLookupStart,a=n.concat(["2129="+x,"1036="+(s-x),"1037="+(w.domainLookupEnd-w.domainLookupStart),"1038="+(w.connectEnd-w.connectStart),w.secureConnectionStart&&"1383="+(w.connectEnd-w.secureConnectionStart),"1039="+(w.responseStart-w.connectEnd),"1040="+(w.responseEnd-r),"1040.906="+(w.responseEnd-s),"1310.2084="+(w.domLoading-r),"1310.2085="+(w.domInteractive-r),"1310.1309="+(i-e),"1310.1007="+(e-r),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(p).forEach((function(t){t in w&&w[t]&&a.push(p[t]+"="+_t(w[t],x))})),t.vsStart?(a.push("1484="+(f[t.vsStart]||2771)),t.vsChanged&&a.push("1484.719=1")):a.push("1484="+f.visible),E&&(E.redirectCount&&a.push("1384.1385="+E.redirectCount),1!==E.type&&2!==E.type||a.push("770.76="+E.type)),ht(a),vt(o,a)}else setTimeout(A,50)}P(),O(),t.ajaxStart=0,t.ajaxComplete=0,D((function(){if(!x)return;setTimeout((function(){t.sendTimeMark=U,t.sendResTiming=Y,t.timeEnd=H;for(var e=t._defRes;e.length;){var n=e.shift();Y(n[0],n[1])}for(var i=t._defTimes;i.length;){var o=i.shift();U(o[0],o[1],!1,o[2])}Object.keys(C).forEach((function(t){V(t)})),A(),j(),t.getSetting("sendAutoElementTiming")&&ct(),ut(),"complete"===document.readyState?R():addEventListener("load",R)}),0)})),t._getCommonVars=function(){return n};var N,L={},F=0;function j(){if(B&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){for(var e=y.getEntriesByType("paint"),n=0;n<e.length;n++){var i=e[n],o=_[i.name];o&&!L[i.name]&&(L[i.name]=!0,F++,U("1926."+o,i.startTime))}if(F<v)try{new b((function(t,e){j(),e&&e.disconnect()})).observe({entryTypes:["paint"]})}catch(r){}}}function U(n,i,o,s){i===e&&(i=g()),o!==e&&!0!==o||t.mark(n,i);var a=ft(n);if(a.push("207="+_t(i)),q(a,s)){vt(r,a),k[n]=k[n]||[],k[n].push(i);var c=t._markListeners[n];c&&c.length&&c.forEach((function(t){t(i)}))}}function q(t,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var i=t.reduce((function(t,e,n){"string"==typeof e&&(t[e.split("=")[0]]=n);return t}),{});Object.keys(n).forEach((function(o){if("function"!=typeof n[o]){var r=i[o],s=o+"="+n[o];r===e?t.push(s):t[r]=s}}))}return!0}function H(t,e){var n=C[t];n&&0!==n.length&&(n.push(g(),e),V(t))}function V(n,i,o,r){var a,c,u,l=C[n];if(void 0!==i?a=(c=r&&r.originalEndTime?r.originalEndTime:t.getTime())-i:l&&(a=l[0],c=l[1],u=l[2]),a!==e&&c!==e){var h=ft(n);h.push("207.2154="+_t(a),"207.1428="+_t(c),"2877="+_t(c-a)),q(h,o)&&q(h,u)&&(vt(s,h),delete C[n])}}function Y(e,n){dt(n,(function(i){if(i){var o=ft(e);t.getSetting("sendUrlInResTiming")&&o.push("13="+encodeURIComponent(n)),mt(o,i[i.length-1]),vt(c,o)}}))}function z(){var e=!1;t._periodicTasks.forEach((function(t){t()&&(e=!0)})),e||clearInterval(N)}t.getTimeMarks=function(){return k},t._periodicTasks=[];var W=0;function K(t){if(t&&t.length)for(var e=I,n=0;n<t.length;n++){var i=G(t[n]);if(i){var o=i.domain+"-"+i.extension,r=e[o]=e[o]||{count:0,size:0};r.count++,r.size+=i.size}}}function G(t){var e=t.transferSize;if(null!=e){S.href=t.name;var n=S.pathname;if(0!==n.indexOf("/clck")){var i=n.lastIndexOf("."),o="";return-1!==i&&n.lastIndexOf("/")<i&&n.length-i<=5&&(o=n.slice(i+1)),{size:e,domain:S.hostname,extension:o}}}}function X(){var e=t.getSetting("maxTrafficCounters")||250;if(W>=e)return!1;for(var i=Object.keys(I),o="",r=0;r<i.length;r++){var s=i[r],a=I[s];o+=encodeURIComponent(s)+"!"+a.count+"!"+a.size+";"}if(o.length){W++;var c=n.concat(["d="+o,"t="+_t(g())]);vt(u,c)}return I={},W<e}function $(t){if(!t)return"";var n=(t.tagName||"").toLowerCase(),i=t.className&&t.className.baseVal!==e?t.className.baseVal:t.className;return n+(i=i?(" "+i).replace(/\s+/g,"."):"")}var Z,Q,J,tt=(Z="layout-shift",Boolean(b&&b.supportedEntryTypes&&-1!==b.supportedEntryTypes.indexOf(Z))?0:null),et=null;function nt(){J>tt&&(tt=J,et=Q)}function it(){if(null!=tt){var i=["s="+Math.round(1e6*tt)/1e6];if(t.getSetting("logClsTarget")){var o=function(t){var e=null;if(!t)return null;var n=null;return(e=t.reduce((function(t,e){return t&&t.value>e.value?t:e})))&&e.sources&&e.sources.length&&(n=e.sources.find((function(t){return t.node&&1===t.node.nodeType}))||e.sources[0]),n&&$(n.node)}(et);i.push("target="+o)}vt(l,n.concat(i)),tt=null,J=e,Q=e}}var ot=null,rt=null,st=!1;function at(){if(null!=ot){var e=t.getLCPAdditionalParams(rt);U("largest-contentful-paint",ot,!1,e),ot=null,rt=null}}var ct=b?function(){if(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())try{new b((function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];U("element-timing."+i.identifier,i.startTime)}})).observe({type:"element",buffered:!0})}catch(e){}}:function(){};function ut(e,n,i){if(t._tti){var o=g();lt((function(r){var s={2796.2797:pt(t._tti.events||[],n),689.2322:_t(o)};i&&Object.keys(i).forEach((function(t){s[t]=i[t]})),U(e||"2795",r,!0,s),t._tti.fired=!0}),n)}}function lt(e,n){t._tti&&(n||(n=g()),function i(){var o,r=n,s=g(),a=t._tti.events||[],c=a.length;0!==c&&(o=a[c-1],r=Math.max(r,Math.floor(o.startTime+o.duration))),s-r>=d?e(r):setTimeout(i,1e3)}())}function ht(t){M&&t.push("2437="+(m[M.type]||2771),M.downlinkMax!==e&&"2439="+M.downlinkMax,M.effectiveType&&"2870="+M.effectiveType,M.rtt!==e&&"rtt="+M.rtt,M.downlink!==e&&"dwl="+M.downlink)}function dt(t,e){if(!B)return e(null);T.href=t;var n=T.href,i=0,o=100;setTimeout((function t(){var r=y.getEntriesByName(n);if(r.length)return e(r);i++<h?(setTimeout(t,o),o+=o):e(null)}),0)}function pt(t,e){return e=e||0,(t=t||[]).filter((function(t){return t.startTime-e>=-50})).map((function(t){var e=t.name?t.name.split("-").map((function(t){return t[0]})).join(""):"u",n=Math.floor(t.startTime);return e+"-"+n+"-"+Math.floor(n+t.duration)})).join(".")}function ft(e){return i.concat(["1701="+e,t.ajaxStart&&"1201.2154="+_t(t.ajaxStart),t.ajaxComplete&&"1201.2052="+_t(t.ajaxComplete)])}function mt(t,e){Object.keys(p).forEach((function(n){if(n in e){var i=e[n];(i||0===i)&&t.push(p[n]+"="+_t(i))}}))}function _t(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function vt(e,n){var i=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+i);var o=n.filter(Boolean).join(",");t.send(null,e,o)}t.sendTTI=ut,t.sendHeroElement=function(t){U("2876",t)},t._subpages={},t.makeSubPage=function(e,n){var i=t._subpages[e];t._subpages[e]=void 0===i?i=0:++i;var o=!1;return{689.2322:_t(void 0!==n?n:g()),2924:e,2925:i,isCanceled:function(){return o},cancel:function(){o=!0}}},t._getLongtasksStringValue=pt,t.getResourceTimings=dt,t.pushConnectionTypeTo=ht,t.pushTimingTo=mt,t.normalize=_t,t.sendCounter=vt,t.sendDelta=V,t.sendTrafficData=X,t.finalizeLayoutShiftScore=it,t.finalizeLargestContentfulPaint=at,t.onReady=D,t.onQuietWindow=lt,t.getSelector=$}(Ya.Rum)},7524:function(){!function(){function t(){removeEventListener("load",t);var e=Ya.Rum;if(e.sendTimeMark("1724"),e.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),i=0,o=n.length;i<o;i++){var r=n[i],s=r.src;if(!s){var a=getComputedStyle(r).backgroundImage;if(a){var c=a.match(/^url\(["']?(.*?)["']?\)$/);c&&(s=c[1])}}s&&e.sendResTiming(r.getAttribute("data-rCid"),s)}}Ya.Rum.enabled&&!Ya.Rum._onloadCounterInited&&(Ya.Rum._onloadCounterInited=!0,"complete"===document.readyState?t():addEventListener("load",t))}()},4232:function(){!function(t){var e=0;var n=[];function i(t){for(var e=0,n=0;n<t.length;++n)e+=t[n]*t[n];return Math.sqrt(e/t.length)}var o,r,s,a=[];t.enabled&&(t.getSetting("longTaskMetric")&&t._tti&&t._periodicTasks.push((function(){if(!t._tti.fired)return!0;var n=t.getSetting("maxLongTaskCounters")||10;if(++e>n)return!1;if(t._tti.eventsAfterTTI.length){var i=t._getCommonVars().slice();i.push("2796.2797="+t._getLongtasksStringValue(t._tti.eventsAfterTTI)),i.push("689.2322="+t.normalize(t.getTime())),t.sendCounter("690.2096.2796",i),t._tti.eventsAfterTTI=[]}return!0})),t.getSetting("scrollMetric")&&(s=!1,addEventListener("scroll",(function(){var e=t.getTime();s?n.push(e-o):s=!0,o=e,clearTimeout(r),r=setTimeout((function(){s=!1}),500)})),t._periodicTasks.push((function(){if(n.length){var e=t._getCommonVars().concat(["d="+i(n)]);t.sendCounter("690.2096.768",e),n=[]}return!0}))),t.getSetting("scrollLatencyMetric")&&function(){try{if(!window.PerformanceScrollUpdateLatency)return!1;new PerformanceObserver((function(t){t.getEntries().forEach((function(t){a.push(t.duration)}))})).observe({entryTypes:["scrollUpdateLatency"]})}catch(t){return!1}return!0}()&&t._periodicTasks.push((function(){if(a.length){var e=t._getCommonVars().concat(["d="+i(a)]);t.sendCounter("690.2096.768.2373",e),a=[]}return!0})))}(Ya.Rum)},9285:function(){BEM.DOM.decl("popup2",{attachToScope:function(t){return t&&(this._scope=t),this._scope.append(this.domElem),this._isAttachedToScope=!0,this}})},767:function(){
/*
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
"inert"in HTMLElement.prototype||(Object.defineProperty(HTMLElement.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(t){t?this.setAttribute("inert",""):this.removeAttribute("inert")}}),window.addEventListener("load",(function(){function t(t){for(;t&&t!==document.documentElement;){if(t.hasAttribute("inert"))return t;t=t.parentElement}return null}!function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.body.appendChild(e)}("/*[inert]*/*[inert]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}");var e=function(t){return null};function n(t){var e=t.path;return e&&e[0]||t.target}window.ShadowRoot&&(e=function(t){for(;t&&t!==document.documentElement;){if(t instanceof window.ShadowRoot)return t;t=t.parentNode}return null});var i=0;document.addEventListener("keydown",(function(t){i=9===t.keyCode?t.shiftKey?-1:1:0})),document.addEventListener("mousedown",(function(t){i=0}));var o=null;function r(t){t.path[t.path.length-1]!==window&&(s(n(t)),t.preventDefault(),t.stopPropagation())}function s(e){var n=t(e);if(n){if(document.hasFocus()&&0!==i){var r=function(){return(o||document).activeElement},s=r();if(function(t){var e=null;try{e=new KeyboardEvent("keydown",{keyCode:9,which:9,key:"Tab",code:"Tab",keyIdentifier:"U+0009",shiftKey:!!t,bubbles:!0})}catch(n){try{(e=document.createEvent("KeyboardEvent")).initKeyboardEvent("keydown",!0,!0,window,"Tab",0,t?"Shift":"",!1,"en")}catch(n){}}if(e){try{Object.defineProperty(e,"keyCode",{value:9})}catch(n){}document.dispatchEvent(e)}}(i<0),s!=r())return;var a={acceptNode:function(t){return!t||!t.focus||t.tabIndex<0?NodeFilter.FILTER_SKIP:n.contains(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},c=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT,a);c.currentNode=n;for(var u,l=(-1===Math.sign(i)?c.previousNode:c.nextNode).bind(c);u=l();)if(u.focus(),r()!==s)return}e.blur()}}document.body.addEventListener("focus",(function(t){var i=n(t);!function(t){if(t!=o){if(o){if(!(o instanceof window.ShadowRoot))throw new Error("not shadow root: "+o);o.removeEventListener("focusin",r,!0)}t&&t.addEventListener("focusin",r,!0),o=t}}(i==t.target?null:e(i)),s(i)}),!0),document.addEventListener("click",(function(e){t(n(e))&&(e.preventDefault(),e.stopPropagation())}),!0)})))},7809:function(){
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,r=s(o),a=this._rootContainsTarget(o),c=i.entry,u=t&&a&&this._computeTargetAndRootIntersection(o,e),l=i.entry=new n({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:r,rootBounds:e,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var i,o,r,a,u,l,h,d,p=s(e),f=c(e),m=!1;!m;){var _=null,v=1==f.nodeType?window.getComputedStyle(f):{};if("none"==v.display)return;if(f==this.root||f==t?(m=!0,_=n):f!=t.body&&f!=t.documentElement&&"visible"!=v.overflow&&(_=s(f)),_&&(i=_,o=p,r=void 0,a=void 0,u=void 0,l=void 0,h=void 0,d=void 0,r=Math.max(i.top,o.top),a=Math.min(i.bottom,o.bottom),u=Math.max(i.left,o.left),l=Math.min(i.right,o.right),d=a-r,!(p=(h=l-u)>=0&&d>=0&&{top:r,bottom:a,left:u,right:l,width:h,height:d})))break;f=c(f)}return p}},i.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||a(t,this.root)},i.prototype._rootContainsTarget=function(e){return a(this.root||t,e)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,i,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},5e3:function(){!function(t,e,n){var i=e(window),o=e(document),r={},s={},a={},c={},u={},l=t.blocks,h=t.INTERNAL,d=h.NAME_PATTERN,p=h.MOD_DELIM,f=h.ELEM_DELIM,m=RegExp("[^"+p+"]"+p+"("+d+")(?:"+p+"("+d+"))?$"),_=h.buildModPostfix,v=h.buildClass,g=Array.prototype.slice,b=Array.prototype.reverse;function y(t,i,o,a,c){"boolean"==typeof o&&(c=a,a=o,o=n);var u=i[0];if(u.dataset===n||"react"!==u.dataset.lego){var h=(o=w(o||M(u)[t],u,t)).uniqId;if(s[h])return s[h]._init();r[h]=r[h]?r[h].add(i):i;var d=u.parentNode;d&&11!==d.nodeType||e.unique(r[h]);var p=l[t]||T.decl(t,{},{live:!0});if(!(p._liveInitable=Boolean(p._processLive()))||a||!1===o.live){a&&i.addClass("i-bem");var f=new p(r[h],o,Boolean(a));return delete r[h],c&&c.apply(f,g.call(arguments,4)),f}}}function w(t,n,i,o){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(o||e.identify()));var r=e.identify(n),s=a[r]||(a[r]={});return s[i]||(s[i]=t),t}function E(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function M(t){var n=e.identify(t);return a[n]||(a[n]=k(t))}function k(t){var e=t.getAttribute("data-bem");return e?JSON.parse(e):{}}function I(t){delete a[e.identify(t)]}function C(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var T=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var o=this;o.domElem=t,o._eventNameCache={},o._elemCache={},o._blockInsideCache={},s[o._uniqId=n.uniqId||e.identify(o)]=o,o._needSpecialUnbind=!1,o.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:v(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,o,r){if(!this.domElem)return r?null:[];o||(o=i,i=n);var s=i?"string"==typeof i?this.findElem(i):i:this.domElem,a="string"==typeof o,c=a?o:o.block||o.blockName,u="."+(a?c:v(c,o.modName,o.modVal))+(r?":first":""),l=s.filter(u);if(t&&(l=l.add(s[t](u))),r)return l[0]?y(c,l.eq(0),!0):null;var h=[],d={};return e.each(l,(function(t,n){var i=y(c,e(n),!0);d[i._uniqId]||(d[i._uniqId]=!0,h.push(i))})),h},bindToDomElem:function(t,i,o,r){e.isFunction(o)&&(r=o,o=n);var s=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),r.apply(s,arguments)};return r?t.bind(s._buildEventName(i),o,(a.guid=r.guid=r.guid||e.guid++,a)):e.each(i,(function(e,n){s.bindToDomElem(t,e,o,n)})),s},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(o,t,e,n)},bindToWin:function(t,o,r){return e.isFunction(o)&&(r=o,o=n),this._needSpecialUnbind=!0,this.bindToDomElem(i,t,o,r)},bindTo:function(t,n,i,o){switch(arguments.length){case 3:e.isFunction(i)&&(o=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(o=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,o)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(o,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(i,t,e)},unbindFrom:function(t,n,i){var o=arguments.length;return 1===o?(n=t,t=this.domElem):2===o&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map((function(t){return e._buildOneEventName(t)})).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map((function(t,e){return 0===e?t+i:i+"_"+t})).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,o=c[i.__self._buildCtxEventName(t.type)],r={};o&&i.domElem.each((function(){for(var s=this,a=o.counter;s&&a;){var c=e.identify(s,!0);if(c){if(r[c])break;var u=o.ctxs[c];u&&(e.each(u,(function(e,o){o.fn.call(o.ctx||i,t,n)})),a--),r[c]=!0}s=s.parentNode}}))},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,o=[].slice.call(arguments,e?1:0),r=this._extractMods(o,e?t:n);return e||(o.length?o.forEach((function(t){i[t]=r[t]})):i=r),r},setMod:function(t,n,i){if(t&&void 0!==i&&t.length>1){var o=this;return t.each((function(){var r=e(this);r.__bemElemName=t.__bemElemName,o.setMod(r,n,i)})),o}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?d:t.join("|"))+")",e,"g"))||[]).forEach((function(t){var e=t.match(m);n[e[1]]=e[2]||!0,++o})),o<t.length&&t.forEach((function(t){t in n||(n[t]="")})),n},_afterSetMod:function(t,n,i,o,r){if(this._isDestructing)return this.__base.apply(this,arguments);var s=this.__self,a=s._buildModClassPrefix(t,r),c=s._buildModValRE(t,r,"g"),u=""===n||!1===n;(o||this.domElem).each((function(){var t=e(this),o=t.attr("class"),r=a;!0!==n&&(r+=p+n),(!0===i?c.test(o):(" "+o).indexOf(" "+a+p)>-1)?t.attr("class",o.replace(c,u?"":"$1"+r)):u||t.addClass(r)})),r&&this.dropElemCache(r,t,i).dropElemCache(r,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var o=this.__self.getName(),r=_(n,i),s=[],a=e.map((function(t){return s.push("."+v(o,t,n,i)),t+r})),c=1===a.length,u=E(t,s.join(","));return t===this.domElem&&s.forEach((function(t,n){(this._elemCache[a[n]]=c?u:u.filter(t)).__bemElemName=e[n]}),this),u},_elem:function(t,e,n){return this._elemCache[t+_(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var o=e([]);return t.split(" ").forEach((function(t){o=o.add(this._elem(t,n,i))}),this),o},dropElemCache:function(t,e,n){if(t){var i=_(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach((function(t){delete this._elemCache[t+i]}),this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),k(t[0])[v(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each((function(){return!(e=t.parents().andSelf().index(this)>-1)})),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each((function(t,n){var i=M(n);e.each(i,(function(t,e){var i=s[e.uniqId];i?i._isDestructing||C(i,n):delete r[e.uniqId]})),I(n)})),t||n.domElem.remove(),n.__base(),delete s[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:o,win:i,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var n=this.getName(),i=this.live;this.live=function(){return this.getName()===n?e:i.apply(this,arguments)}}return e},init:function(t,n,i){!t||e.isFunction(t)?(i=n,n=t,t=o):"string"==typeof t&&(t=e(t));var r=e.identify();return E(t,".i-bem").each((function(){!function(t,n){var i=t[0];e.each(M(i),(function(o,r){w(r,i,o,n);var a=s[r.uniqId];a?a.domElem.index(i)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,r)):y(o,t,r)}))}(e(this),r)})),n&&this.afterCurrentEvent((function(){n.call(i||this,t)})),this._runAfterCurrentEventFns(),t},destruct:function(t,i,o){"boolean"!=typeof t&&(o=i,i=t,t=n),i&&(b.call(E(i,".i-bem",o)).each((function(t,n){var i=M(this);e.each(i,(function(t,e){if(e.uniqId){var i=s[e.uniqId];i?C(i,n):delete r[e.uniqId]}})),I(this)})),t||(o?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach((function(e){s._liveClassBind(t,e,i,r)}));else{var a=u[n],c=e.identify(i);a||(a=u[n]={},o.bind(n,s._liveClassTrigger.bind(s))),c in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:c,fn:s._buildLiveEventFn(i,r)}),a.uniqIds[c]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var o=u[n];if(o)if(i){if(o=o[t]){var r=e.identify(i);if(r in o.uniqIds){var s=o.uniqIds[r],a=o.fns.length-1;for(o.fns.splice(s,1);s<a;)o.uniqIds[o.fns[s++].uniqId]=s-1;delete o.uniqIds[r]}}}else delete o[t];return this},_liveClassTrigger:function(t){var n=u[t.type];if(n){var i=t.target,o=Object.keys(n);do{for(var r,s=" "+i.className+" ",a=0;r=o[a++];)if(-1!==s.indexOf(" "+r+" ")){for(var c=!1,l=n[r].fns,h=0;h<l.length;h++)!1===l[h].fn.apply(e(i),arguments)&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;o.splice(--a,1)}}while(o.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(o){var r=[i._name,((o.data||(o.data={})).domElem=e(this)).closest(i.buildSelector()),!0],s=y.apply(null,n?r.concat([t,o]):r);if(s&&!n&&t)return t.apply(s,arguments)}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,o,r){i&&!e.isFunction(i)||(o=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var s=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach((function(e){s._liveClassBind(v(s._name,e,t.modName,t.modVal),i,o,r)})),s):s._liveClassBind(v(s._name,t.elem,t.modName,t.modVal),i,o,r)},liveUnbindFrom:function(t,i,o){i&&!e.isFunction(i)||(o=i,i=t,t=n);var r=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach((function(t){r._liveClassUnbind(v(r._name,t),i,o)})),r):r._liveClassUnbind(v(r._name,t),i,o)},_liveInitOnBlockEvent:function(t,e,n,i){var o=this._name;return l[e].on(t,(function(t){if(t.block.domElem){var e=arguments,r=t.block[i](o);n&&r.forEach((function(t){n.apply(t,e)}))}})),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,o){return t.jquery?this._liveCtxBind(t,e,n,i,o):this.__base(t,e,n,i,o)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,o){return this._liveCtxBind(t,e,n,i,o)},_liveCtxBind:function(t,i,o,r,s){var a=this;if("object"==typeof i&&(e.isFunction(o)||e.isFunction(r))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(o)&&(s=r,r=o,o=n),i.indexOf(" ")>-1)i.split(" ").forEach((function(e){a._liveCtxBind(t,e,o,r,s)}));else{var u=a._buildCtxEventName(i),l=c[u]||(c[u]={counter:0,ctxs:{}});t.each((function(){var t=e.identify(this),n=l.ctxs[t];n||(n=l.ctxs[t]={},++l.counter),n[e.identify(r)+(s?e.identify(s):"")]={fn:r,data:o,ctx:s}}))}else e.each(i,(function(e,n){a._liveCtxBind(t,e,n,o)}));return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,o){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var r=c[n=this._buildCtxEventName(n)];return r&&(t.each((function(){var t,n=e.identify(this,!0);n&&(t=r.ctxs[n])&&(i&&delete t[e.identify(i)+(o?e.identify(o):"")],i&&!e.isEmptyObject(t)||(r.counter--,delete r.ctxs[n]))})),r.counter||delete c[n]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:k,_buildModClassPrefix:function(t,e){return this._name+(e?f+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+p+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+p+"("+d+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+f+"("+d+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+v(this._name,t,e,n)},getBlockByUniqId:function(t){return s[t]},getWindowSize:function(){return{width:i.width(),height:i.height()}}});e((function(){t.DOM.scope=e("body")}))}(BEM,jQuery)},3959:function(){!function(t,e,n){var i,o="_";function r(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function s(t,e,n){null!=e&&!1!==e&&(n.push(o,t),!0!==e&&n.push(o,e))}function a(t,e,n,i){i.push(t),s(e,n,i)}function c(t,e,n,o,r){a(t,i,i,r),r.push("__",e),s(n,o,r)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:o,ELEM_DELIM:"__",buildModPostfix:function(t,e,n){var i=n||[];return s(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,o,s){if(r(n)?r(o)||(s=o,o=n,n=e,e=i):void 0!==n?(s=n,n=i):e&&"string"!=typeof e&&(s=e,e=i),!e&&void 0===n&&!s)return t;var u=s||[];return e?c(t,e,n,o,u):a(t,n,o,u),s?u:u.join("")},buildClasses:function(t,i,o,r){i&&"string"!=typeof i&&(r=o,o=i,i=n);var s=r||[];return i?c(t,i,n,n,s):a(t,n,n,s),o&&e.each(o,(function(e,n){n&&(s.push(" "),i?c(t,i,e,n,s):a(t,e,n,s))})),r?s:s.join("")}}}(BEM,jQuery)},9666:function(){!function(t,e){var n=[],i=t.inherit,o=t.isFunction,r=Function.prototype.call.bind(Object.prototype.hasOwnProperty),s={},a={};function c(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function u(t,e,n){var i,s,a;if(o(t))e[c(n,"*","*")]=t;else for(i in t)if(r(t,i))if(a=t[i],o(a))e[c(n,i,"*")]=a;else for(s in a)r(a,s)&&(e[c(n,i,s)]=a[s])}function l(t){var e;if(t.onSetMod&&(u(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)r(t.onElemSetMod,e)&&u(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}window.BEM=i(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,!1!==n?i._init():i.afterCurrentEvent((function(){i._init()}))},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var o=arguments.length,r=!1;1==o?(i="",n=t,t=e,r=!0):2==o&&("string"==typeof t?(i=n,n=t,t=e):(i="",r=!0));var s=this.getMod(t,n)===i;return r?!s:s},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce((function(t,e){return e in n&&(t[e]=n[e]),t}),{}):n},setMod:function(n,i,o){void 0===o&&("string"==typeof n?(o=void 0===i||i,i=n,n=e):o=!0);var r=this;if(!n||n[0]){!1===o||null===o?o="":!0!==o&&(o=o.toString());var s=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[s])return r;var a,c=n?r._getElemMod(i,n,a=r.__self._extractElemNameFrom(n)):r.getMod(i);if(c===o)return r;this._processingMods[s]=!0;var u=!0,l=[i,o,c];n&&l.unshift(n),[["*","*"],[i,"*"],[i,o]].forEach((function(t){u=!1!==r._callModFn(a,t[0],t[1],l)&&u})),!n&&u&&(r._modCache[i]=o),u&&r._afterSetMod(i,o,c,n,a),delete this._processingMods[s]}return r},_afterSetMod:function(t,e,n,i,o){var r={modName:t,modVal:e,oldModVal:n};i&&(r.elem=i),this.trigger({modName:t,modVal:"*",elem:o},r).trigger({modName:t,modVal:e,elem:o},r)},toggleMod:function(t,n,i,o,r){"string"==typeof t&&(r=o,o=i,i=n,n=t,t=e),void 0===o?o="":"boolean"==typeof o&&(r=o,o="");var s=this.getMod(t,n);return(s==i||s==o)&&this.setMod(t,n,"boolean"==typeof r?r?i:o:this.hasMod(t,n,i)?o:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,n,i,o){var r=c(t,n,i);return this[r]?this[r].apply(this,o):e},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(window.BEM,{_name:"i-bem",blocks:s,decl:function(n,r,a){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),l(r||(r={}));var c,u,h=s[n.baseBlock||n.block]||this;if(n.modName){var d=(c=n.modName,(u=n.modVal)?Array.isArray(u)?function(t){for(var e=0,n=u.length;e<n;)if(t.hasMod(c,u[e++]))return!0;return!1}:function(t){return t.hasMod(c,u)}:function(t){return t.hasMod(c)});t.each(r,(function(t,n){o(n)&&(r[t]=function(){var i;if(d(this))i=n;else{var o=h.prototype[t];o&&o!==r[t]&&(i=this.__base)}return i?i.apply(this,arguments):e})}))}if(a&&"boolean"==typeof a.live){var p=a.live;a.live=function(){return p}}var f,m=h;return n.baseMix&&(m=[m],n.baseMix.forEach((function(t){m.push(s[t])}))),n.block==h._name?(f=i.self(m,r,a))._processLive(!0):((f=s[n.block]=i(m,r,a))._name=n.block,delete f._liveInitable),f},declMix:function(t,e,n){return l(e||(e={})),t=s[t]=i(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new s[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==n.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=n.length;t&&n.splice(0,t).forEach((function(t){t.fn.call(t.ctx||this)}),this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);n<i;)delete t[arguments[n++]];return this},channel:function(n,i){if("boolean"==typeof n&&(i=n,n=e),n||(n="default"),!i)return a[n]||(a[n]=new t.observable);a[n]&&(a[n].un(),delete a[n])}}))}(jQuery)},8764:function(){!function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return Boolean(t.getCookie("yandex_login"))}}(window.Lego)},4401:function(){!function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego)},2289:function(){!function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()&&e.getCookie("yandex_login")||"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each((function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),o=i.name||"",r=e.block[o];r&&!n.data(o)&&(r.call(n,i),n.data(o,!0).addClass(o+"_js_inited"))}))}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready((function(){e.blockInit()}))))}(jQuery,window.Lego)},8260:function(){!function(t,e){var n="function"==typeof window.navigator.sendBeacon;t||(t=window.Lego={}),!t.params&&(t.params={}),t.c=function(t,e,i){var o,r=function(t){return t.replace(/^(?:https?:)?\/\//,"")}((i=i||{}).host||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),s=function(t,e,n,i){return(e=e.replace("'","%27")).indexOf("/dtype=")>-1?e:location.protocol+"//"+r+"/"+n+"/dtype="+t+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+(i?"/*"+(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e)):"/*data="+encodeURIComponent("url="+encodeURIComponent(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e))))},a=function(){return s(t,i.useLinkHref&&Object(e).href?e.href:location.href,"jclck")},c=function(){a();var t,e,i=!1;n&&(i=navigator.sendBeacon(a()," ")),i||(t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],(e=document.createElement("script")).setAttribute("src",a()),t.insertBefore(e,t.firstChild))};if(e)if(!0===i.noRedirect||e.className.indexOf("link_pseudo_yes")>-1||e.href&&0===e.href.indexOf("mailto:"))c();else if(e.href)o=e.href,e.href=s(t,o,"redir"),setTimeout((function(){e.href=o}),500);else if(e.form)e.type.match(/submit|button|image/)?(o=e.form.action,e.form.action=s(t,o,"redir",!0),setTimeout((function(){e.form.action=o}),500)):c();else{if(!e.action)throw"counter.js: not link and not form!";e.action=s(t,e.action,"redir",!0)}else c()},t.cp=function(e,n,i,o,r,s){"string"==typeof o||(s=r,r=o,o=undefined),t.c("stred/pid="+e+"/cid="+n+(i?"/path="+i+(o?"/vars="+o:""):""),r,s)}}(window.Lego)},4468:function(){BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)}})},8353:function(){
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var s=jQuery.trim(o[r]);if(s.substring(0,t.length+1)==t+"="){i=decodeURIComponent(s.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,c="; expires="+a.toUTCString());var u=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,u,l,h].join("")}},997:function(){
/**
 * Plugin for decoding URI-escaped strings in CP1251 encoding
 *
 * Copyright (c) 2011-2012 Roman Rozhdestvenskiy (sbmaxx@gmail.com)
 */
!function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function n(t,n){var i="";try{i=t(n)}catch(o){try{i=t(function(t){return t.replace(/%.{2}/g,(function(t){return e[t]||t}))}(n))}catch(r){i=n}}return i}t.extend({decodeURI:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURI,t)})),decodeURIComponent:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURIComponent,t)}))})}(jQuery)},532:function(){!function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery)},436:function(){!function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var o="uniqueID"in t?"uniqueID":n;return e||o in t?t[o]:t[o]=i()}}(jQuery)},7026:function(){
/**
 * @module inherit
 * @version 2.2.3
 * @author Filatov Dmitry <dfilatov@yandex-team.ru>
 * @description This module provides some syntax sugar for "class" declarations, constructors, mixins,
 *              "super" calls and static members.
 * License: https://github.com/dfilatov/inherit/blob/2.2.3/LICENSE.md
 */
!function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,n=function(){},i=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys,r=t.extend,s=Array.isArray,a=t.isFunction,c=!0,u={toString:""};for(var l in u)u.hasOwnProperty(l)&&(c=!1);var h=c?["toString","valueOf"]:null;function d(n,i,r){for(var s,u,l=function(t){var e=o(t);if(c)for(var n,i=0;n=h[i++];)t.hasOwnProperty(n)&&e.push(n);return e}(r),d=0,p=l.length;d<p;)"__self"!==(s=l[d++])&&(u=r[s],a(u)&&(!e||u.toString().indexOf(".__base")>-1)?i[s]=function(e,o){var r=function t(){var e=this.__base;this.__base=t.__base;var n=o.apply(this,arguments);return this.__base=e,n};return r.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),r}(s,u):i[s]=u)}function p(e,n){for(var i,o=1;i=e[o++];)n?a(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=a(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}t.inherit=function(){var t=arguments,e=s(t[0]),o=e||a(t[0]),c=o?e?p(t[0]):t[0]:n,u=t[o?1:0]||{},l=t[o?2:1],h=u.__constructor||o&&c.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return c.apply(this,arguments)}:function(){};if(!o)return h.prototype=u,h.prototype.__self=h.prototype.constructor=h,r(h,l);r(h,c),h.__parent=c;var f=c.prototype,m=h.prototype=i(f);return m.__self=m.constructor=h,u&&d(f,m,u),l&&d(c,h,l),h},t.inheritSelf=function(){var t=arguments,e=s(t[0])?p(t[0],t[0][0]):t[0],n=t[1],i=t[2],o=e.prototype;return n&&d(o,o,n),i&&d(e,e,i),e},t.inherit.self=t.inheritSelf}(jQuery)},9793:function(){
/**
 * Observable plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 * @requires $.identify
 * @requires $.inherit
 */
!function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,o,r,s,a){if("string"==typeof i){t.isFunction(o)&&(s=r,r=o,o=void 0);for(var c,u=n(r,s),l=this[e]||(this[e]={}),h=i.split(" "),d=0;i=h[d++];)if(!(u in(c=l[i=this.buildEventName(i)]||(l[i]={ids:{},list:{}})).ids)){var p=c.list,f={fn:r,data:o,ctx:s,special:a};p.last?(p.last.next=f,f.prev=p.last):p.first=f,c.ids[u]=p.last=f}}else{var m=this;t.each(i,(function(t,e){m.on(t,e,o,a)}))}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,o,r){if("string"==typeof i||void 0===i){var s=this[e];if(s)if(i){for(var a,c=i.split(" "),u=0;i=c[u++];)if(a=s[i=this.buildEventName(i)])if(o){var l=n(o,r),h=a.ids;if(l in h){var d=a.list,p=h[l],f=p.prev,m=p.next;f?f.next=m:p===d.first&&(d.first=m),m?m.prev=f:p===d.last&&(d.last=f),delete h[l]}}else delete this[e][i]}else delete this[e]}else{var _=this;r=o,t.each(i,(function(t,e){_.un(t,e,r)}))}return this},trigger:function(n,i){var o=this[e],r="string"==typeof n,s=r?n:n.type,a=this.buildEventName(s);if(r||(n.type=a,n.target||(n.target=this)),o&&(o=o[a])){var c,u=o.list.first;for(u&&r&&((n=t.Event(a)).target=this);u;)n.data=u.data,void 0!==(c=u.fn.call(u.ctx||this,n,i))&&(n.result=c,!1===c&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&this.un(s,u.fn,u.ctx),u=u.next}return this}};t.observable=t.inherit(i,i)}(jQuery)},7062:function(){!function(t){var e=t(window),n=o(),i=r();function o(){return window.innerHeight|0+e.outerHeight()}function r(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=o(),s=r();if(i===s&&n===e)return!1;n=e,i=s}}(jQuery)},6493:function(){!function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,o={},r={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?o.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?o.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?o.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),r.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),r.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?o.bada=i[1]:(i=e.match(/MSIE\s9/))?o.wp="7.5":o.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some((function(n){return t[n]&&(e=n)})),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),n=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:n}}}},{ios:o.ios,iphone:r.iphone,ipad:r.ipad,android:o.android,bada:o.bada,wp:o.wp,other:o.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent)},6006:function(){BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some((function(e){return this[e]===t}),this)}})},961:function(){!function(t,e){if(!e.event.special.pointerclick){var n,i=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,o="touchAction"in document.documentElement.style,r=900,s=[],a=[],c=null,u=null,l=o?function(t){return function t(e){return!(!e||e===document.documentElement)&&("manipulation"===getComputedStyle(e)["touch-action"]||t(e.parentElement))}(t)}:function(){return!1};i?(n={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return h.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e,n,i=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==i&&"pointerup"!==i||!l(t.target)))if("pointerdown"===i)u=t;else if("pointermove"===i&&u&&(u.target!==t.target||(e=u,n=t,Math.abs(e.clientX-n.clientX)>10||Math.abs(e.clientY-n.clientY)>10)))u=null;else if("pointerleave"===i||"pointercancel"===i)u=null;else if("pointerup"===i){if(function(t){if(!t.isPrimary)return;s.push(t),setTimeout(Array.prototype.shift.bind(s),r)}(t),!u)return;if(!(t.timeStamp-u.timeStamp>250))return c||(c=setTimeout((function(){c=u=null}))),h.apply(this,arguments);u=null}}},["mousedown","click"].forEach((function(e){t.addEventListener(e,(function(t){!function(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(t._sourcePoint)return;for(var o=0;o<s.length;o++){var c=s[o],u=c.target===t.target;if(!c[i]&&((u||!(Math.abs(e-c.clientX)>25||Math.abs(n-c.clientY)>25))&&(u||document.elementFromPoint(c.clientX,c.clientY)!==c.target))){t._sourcePoint=c,c[i]=t;break}}a.push(t),setTimeout(Array.prototype.shift.bind(a),r)}(t),function(t){var e=function(t){for(var e=0;e<a.length;e++)if(a[e]===t)return a[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())}),!0)}))):n={click:function(t){return h.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(n)},teardown:function(){e(this).off(n)}}}function h(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}}(window,jQuery)},5207:function(){!function(t,e,n){var i={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(i),r=o.map((function(t){return i[t]})),s=o.length,a=!1,c=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(g){}function u(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var u,l=0;l<s;l++)n[u=o[l]]=e[u]||t[u]||i[u]||r[l];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||a||(n.buttons=c[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}var l=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach((function(n,i){t.call(e,n,i,this)}),this)}},h={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach((function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))}),this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach((function(e){this.addEvent(t,e)}),this)},unlisten:function(t,e){e.forEach((function(e){this.removeEvent(t,e)}),this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=function(t,e){var i=n.Event(t),o=e.preventDefault,r=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){o(),r()},i}(t,e);return i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return n.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};h.boundHandler=h.eventHandler.bind(h);var d,p,f={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,r=0,s=n.length;r<s&&(e=n[r]);r++){var a=Math.abs(i-e.x),c=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return u(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(l.has(this.POINTER_ID)&&this.cancel(t),l.set(this.POINTER_ID,t),h.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||h.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=l.get(this.POINTER_ID);e&&e.button===t.button&&(h.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||h.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||h.leaveOut(this.prepareEvent(t))},cancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){l.delete(this.POINTER_ID)}},m={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===l.size||1===l.size&&l.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,o=t.identifier+2;return u(i,n.extend({},t,{pointerId:o,target:h.captureInfo[o]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(null!==(e=i.getAttribute("touch-action")))break;i=i.parentNode}while(i!==document);var o=this.touchActionToScrollType(e);if("none"===o)n=!1;else if("XY"===o||void 0===o)n=!0;else{var r=t.originalEvent.changedTouches[0],s=o,a="Y"===o?"X":"Y";n=Math.abs(r["client"+s]-this.firstXY[s])>=Math.abs(r["client"+a]-this.firstXY[a])}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(l.size>=e.length){var n=[];l.forEach((function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){l.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),h.over(t),h.enter(t),h.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=l.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;h.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(h.leaveOut(n),h.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(h.up(t),h.out(t),h.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){h.cancel(t),h.out(t),h.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){l.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=f.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},prepareEvent:function(t){var e=u(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){l.delete(t)},MSPointerDown:function(t){l.set(t.originalEvent.pointerId,t),h.down(this.prepareEvent(t))},MSPointerMove:function(t){h.move(this.prepareEvent(t))},MSPointerUp:function(t){h.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){h.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){h.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){h.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){h.fireEvent("lostpointercapture",this.prepareEvent(t))}},v=function(t){if(!l.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(d=function(t,e){t.setPointerCapture(e)},p=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(d=function(t,e){v(e),t.msSetPointerCapture(e)},p=function(t,e){v(e),t.msReleasePointerCapture(e)}):(d=function(t,e){v(e),h.setCapture(e,t)},p=function(t,e){v(e),h.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){d(this[0],t)},releasePointerCapture:function(t){p(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach((function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=o.concat(e[n].props||[])})):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?h.registerSource("ms",_):(h.registerSource("mouse",f),void 0!==t.ontouchstart&&h.registerSource("touch",m)),h.register(document)))}(window,document,jQuery)},7302:function(){!function(){var t=$(window),e=$(document.documentElement),n=0,i=!1;function o(){e.hasClass("pointerfocus")&&(i=!0,setTimeout((function(){i=!1})))}document.documentMode<=11?e.on("focusin",(function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||o()})):t.on("blur",(function(){t.one("focus",o)})),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",i).toggleClass("utilityfocus",!i)},keydown:function(){clearTimeout(n),i=!1},"pointerdown pointerup click":function(t){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),600)}})}()},1952:function(){var t;t=Array.prototype.slice,Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})},224:function(){BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent((function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)})),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}})},2018:function(){BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(t,e){var n=!1;return Object.keys(e).forEach((function(i){var o=e[i];t[i]!==o&&(t[i]=o,n=!0)})),n}},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,n=this._scope;return n.is(BEM.DOM.scope)||(e=n.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map((function(i){var o={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(o.top=t.top+t.height+n.main,o.height=e.bottom-o.top-n.viewport):this._checkMainDirection(i,"top")?(o.height=t.top-e.top-n.main-n.viewport,o.top=t.top-o.height-n.main):(this._checkSecondaryDirection(i,"center")?(o.height=e.bottom-e.top-2*n.viewport,o.top=t.top+(t.height-o.height)/2):this._checkSecondaryDirection(i,"bottom")?(o.height=t.top+t.height-e.top-n.secondary-n.viewport,o.top=t.top+t.height-o.height-n.secondary):this._checkSecondaryDirection(i,"top")&&(o.top=t.top+n.secondary,o.height=e.bottom-o.top-n.viewport),this._checkMainDirection(i,"left")?(o.width=t.left-e.left-n.main-n.viewport,o.left=t.left-o.width-n.main):(o.left=t.left+t.width+n.main,o.width=e.right-o.left-n.viewport)),this._checkSecondaryDirection(i,"right")?(o.width=t.left+t.width-e.left-n.secondary-n.viewport,o.left=t.left+t.width-o.width-n.secondary):this._checkSecondaryDirection(i,"left")?(o.left=t.left+n.secondary,o.width=e.right-o.left-n.viewport):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(o.width=e.right-e.left-2*n.viewport,o.left=t.left+t.width/2-o.width/2),o}),this)},_calcBestDrawingParams:function(){for(var t,e,n,i,o,r,s=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),u=this.params.directions,l=u.length,h=0;h<l&&(t=u[h],e=this._calcPos(t,a,s),n=this._calcViewportFactor(e,c,s),(0===h||n>r||!r&&this.hasMod("direction",t))&&(i=t,r=n,o=e),!(r>this.__self.VIEWPORT_ACCURACY_FACTOR));h++);return{direction:i,left:o.left,top:o.top,tail:this._calcTailPos(i,a,s,o)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),i=t.width();return{top:e,left:n,bottom:e+t.height(),right:n+i}},_calcPos:function(t,e,n){var i={},o=this._calcOffsets();return this._checkMainDirection(t,"bottom")?i.top=e.top+e.height+o.main:this._checkMainDirection(t,"top")?i.top=e.top-n.height-o.main:this._checkMainDirection(t,"left")?i.left=e.left-n.width-o.main:this._checkMainDirection(t,"right")&&(i.left=e.left+e.width+o.main),this._checkSecondaryDirection(t,"right")?i.left=e.left+e.width-n.width-o.secondary:this._checkSecondaryDirection(t,"left")?i.left=e.left+o.secondary:this._checkSecondaryDirection(t,"bottom")?i.top=e.top+e.height-n.height-o.secondary:this._checkSecondaryDirection(t,"top")?i.top=e.top+o.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(i.top=e.top+e.height/2-n.height/2)),i},_calcTailPos:function(t,e,n,i){var o={},r=this._calcTailDimension()/2,s=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?o.top=-r:this._checkMainDirection(t,"top")?o.top=Math.floor(n.innerHeight-r):this._checkMainDirection(t,"left")?o.left=Math.floor(n.innerWidth-r):this._checkMainDirection(t,"right")&&(o.left=-r),this._checkSecondaryDirection(t,"right")?o.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-r-s:this._checkSecondaryDirection(t,"left")?o.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-r+s:this._checkSecondaryDirection(t,"bottom")?o.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-r-s:this._checkSecondaryDirection(t,"top")?o.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-r+s:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?o.left=Math.ceil(n.innerWidth/2)-r+s:o.top=Math.ceil(n.innerHeight/2)-r+s),{top:o.top,left:o.left,width:a,height:a}},_calcViewportFactor:function(t,e,n){var i=this.params.viewportOffset,o=Math.max(t.left,e.left+i),r=Math.min(t.left+n.width,e.right-i),s=Math.max(t.top,e.top+i),a=Math.min(t.top+n.height,e.bottom-i);return o<r&&s<a?(r-o)*(a-s)/n.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]})},9002:function(){BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}})},3122:function(){BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3})},8300:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});var i={};function o(t){if(!t)return"";var e,n="";for(e in t)if(t.hasOwnProperty(e)){var o=t[e];if(o||0===o)if(o===i)n+=" "+e;else{var r=String(o);r.indexOf('"')>-1&&(r=r.replace(/"/g,"&quot;")),n+=" "+e+'="'+r+'"'}}return n}},7843:function(t,e,n){"use strict";n.d(e,{Ms:function(){return o},jY:function(){return s}});var i=n(9511);function o(t){return(0,i.k6)(JSON.stringify(t))}function r(t,e){var n,i=[];for(n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&i.push(t+"_"+n+"_"+String(e[n]));return i.join(" ")}function s(t,e){var n=e.mods,i=t,o=n?r(t,n):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),i+=" "+e.mix.map((function(e){if("string"==typeof e)return e;var n=e.block||t,i=e.mods;return e.elem&&(n+="__"+e.elem,i=e.elemMods),i&&(n+=" "+r(n,i)),n})).join(" ")):i+=" "+e.mix),o&&(i+=" "+o),i}},9511:function(t,e,n){"use strict";function i(t){var e=String(t);return e.indexOf("&")>-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")>-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")>-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf('"')>-1&&(e=e.replace(/"/g,"&quot;")),e}n.d(e,{k6:function(){return i}})},7806:function(t,e,n){"use strict";function i(t){return"string"==typeof t?t:"number"==typeof t||"boolean"==typeof t?String(t):""}n.d(e,{W:function(){return i}})},3146:function(t,e,n){"use strict";n.d(e,{U:function(){return r}});var i=n(8086),o={};function r(t){for(var e=t.split("."),n=o,r=0;r<e.length;++r){if(!n||!n[e[r]])return(0,i.H)({message:"undefined translation "+t,block:"l10n"}),"";n=n[e[r]]}return n}},8086:function(t,e,n){"use strict";n.d(e,{H:function(){return a}});var i=n(4934);var o=null;function r(){return Boolean(window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError)}function s(t,e){var n={},r=e||{};return t.message&&(n.message=t.message),t.block&&(n.block=t.block),t.method&&(n.method=t.method),n.level=t.level||"error",(t.sourceType||r.sourceType)&&(n.type=t.sourceType||r.sourceType),t.source&&(n.source=t.source),t.sourceMethod&&(n.sourceMethod=t.sourceMethod),t.coordinates_gp&&(n.coordinates_gp=t.coordinates_gp),(t.meta||r.meta)&&(n.additional=(0,i.Z)(t.meta||{},r.meta||{})),(t.url||r.url)&&(n.additional=n.additional||{},n.additional.url=t.url||r.url),(t.page||r.page)&&(n.page=t.page||r.page),o&&(n=o(n)),n}console;var a=function(t,e){if(e)if("object"==typeof e){if(e.logged)return;e.logged=!0}else e=new Error(e);r()&&Ya.Rum.logError(s(t,e),e)}},234:function(t,e,n){"use strict";n.d(e,{ek:function(){return k},yj:function(){return R},Dn:function(){return D},DF:function(){return x}});var i,o,r=n(44);var s=!1,a=[];function c(){document[i]&&u()}function u(){a.forEach((function(t){t.fn.call(t.ctx,!0),t.awaitsCall=!1})),a=[],window.removeEventListener("beforeunload",u,!1),window.removeEventListener("unload",u,!1),window.removeEventListener(o,c,!1)}function l(t,e,n){var r;!s&&"addEventListener"in window&&(s=!0,window.addEventListener("beforeunload",u,!1),window.addEventListener("unload",u,!1),window.addEventListener("spas-unmount-main",u,!1),void 0!==document.hidden?(r="hidden",o="visibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",o="webkitvisibilitychange"),r&&o&&(i=r,window.addEventListener(o,c,!1)));var l={fn:t,ctx:n,awaitsCall:!1},h=function(t,e,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var r=arguments;i=i||this,n&&!o&&t.apply(i,r),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,r),o=null}),e)}}((function(){l.awaitsCall&&(l.awaitsCall=!1,a=a.filter((function(t){return t!==l})),t.call(n,!1))}),e,!1,n);return function(){l.awaitsCall||(l.awaitsCall=!0,a.push(l)),h()}}var h=n(8086);function d(t){if(!("getAttribute"in t)&&"length"in t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}return[t]}var p,f=JSON.parse('{"i8":"2024-04-04-526"}'),m=(0,r.Yu)("statlog.config",{}),_=m.clckDemonHost+"counter";"undefined"!=typeof document&&"querySelectorAll"in document||(m.enabled=!1);var v={},g=/([^.(]+)(?:\(([^)]*)\))?\.?/g,b=/^([^=]+)=(.+)$/,y=!1,w={show:!0},E="data-statlog",M=String(Date.now())+Math.random().toString(36).substring(3);function k(){var t=(0,r.Yu)("redir-stats.data")||"",e="",n="";window.Ya&&Ya.Rum&&Ya.Rum.getTime&&(e+="/timefs="+Math.floor(Ya.Rum.getTime()));var i=(0,r.Yu)("timing.vars");return i&&(i[1964]?n="/mexp=0":i[1965]&&(n="/mexp=1")),t+e+n+"/iid="+M}function I(t,e,n){var i;if("XDomainRequest"in window)i=new XDomainRequest;else{if(!("XMLHttpRequest"in window))return;i=new XMLHttpRequest}i.open("post",n||_,!0),i.withCredentials=!0;try{i.setRequestHeader("Accept","text/plain, */*; q=0.01"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}catch(o){}e&&("onreadystatechange"in i?i.onreadystatechange=function(){4===i.readyState&&e()}:i.onload=i.onerror=e),i.send(t)}function C(t){return"/dtype=clck/table=morda"+(m.tld?"/tld="+m.tld:"")+"/statver="+f.i8+(m.ip?"/ip="+m.ip:"")+"/antiadb=".concat((0,r.Yu)("adb.data.adb")||0)+k()+"/session_id="+m.showId+"/events="+encodeURIComponent(JSON.stringify(t.map((function(t){return{event:t.type,url:t.url,"parent-path":m.statRoot,blocks:t.array}})))).replace(/\*/g,"%2A")+"/*"}function T(t){if(p){var e=C(p);!function(t){if(m.useBeacon&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon)return navigator.sendBeacon(_,t)}(e)?I(e,t):t&&t(),p=null}}L();var S;function B(t,e){var n=e,i=[];t.replace(g,(function(t,e,n){return i.push({key:e,params:n?n.split(";"):[]}),""}));for(var o=function(){var e,o=i[r].params,s=i[r].key;if(n.some((function(t){if(t.ctag===s)return e=t,!0})),e||(e={ctag:s},n.push(e)),o.length)for(var a=0;a<o.length;++a){var c=o[a].match(b);if(c)try{e[c[1]]=decodeURIComponent(c[2])}catch(u){(0,h.H)({block:"home__stat",message:"Cannot decode counter",method:"convertPathToData",meta:{counter:t,decodingUri:c[2]}})}}r+1<i.length&&(n=e.children=e.children||[])},r=0;r<i.length;++r)o();return e}var x=function(t,e,n){var i,o,r=!1;if(n&&"clean"===n.mode&&function(t){t&&p&&p.length&&0===(p=p.filter((function(e){return e.type!==t}))).length&&(p=null)}(t),n&&n.customParams&&(e+=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}(n.customParams)),m.enabled&&t&&e){if(p||(p=[]),"show"===t){if(e in v)return;v[e]=!0}t in w&&(o=function(t){if(!(t in w)||!p)throw new Error(t+" is not mergeable type");for(var e=0;e<p.length;++e)if(p[e].type===t)return p[e]}(t)),B(e,(o=o||(p[p.length]={type:t,url:n&&n.url,array:[]})).array),n&&n.callback?(T(i=function(){r||(r=!0,n.callback())}),void 0!==n.callbackTimeout&&setTimeout(i,n.callbackTimeout)):(S||(S=l((function(){y=!1,T()}),25)),y||(y=!0,S()))}else n&&n.callback&&setTimeout(n.callback,0)},P=function(t,e){if(!m.enabled||!e)return!0;var n,i,o=t.href;if(m.useBeacon&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&(i=C([{type:"click",url:o,array:B(e,[])}]),navigator.sendBeacon(_,i)))return!0;if("_blank"===t.target)return I(i=C([{type:"click",url:o,array:B(e,[])}])),!0;if(!t.getAttribute("data-statlog-timeout")&&-1===o.indexOf("/lid="+m.statRoot)){if(n=t.getAttribute("data-statlog-url"))t.href=n;else{var s=function(t){var e=[],n="";return{counter:t.replace(/\(([^)]+)\)/g,(function(t,n){return e.push(n.replace(/;/g,",")),""})),vars:n=n.length?"/vars="+e.join(","):""}}(e);t.href=m.redirHost+"redir/dtype=clck/table=morda"+(m.tld?"/tld="+m.tld:"")+"/statver="+f.i8+(m.ip?"/ip="+m.ip:"")+"/antiadb=".concat((0,r.Yu)("adb.data.adb")||0)+k()+"/lid="+m.statRoot+"."+s.counter+"/sid="+m.showId+s.vars+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(o.match(/^http/)?o:location.protocol+"//"+location.host+(o.match("^/")?o:"/"+o)))}t.setAttribute("data-statlog-orig-href",o),t.setAttribute("data-statlog-timeout",String(setTimeout((function(){t.href=o,t.removeAttribute("data-statlog-timeout"),t.removeAttribute("data-statlog-orig-href")}),500)))}return!0};function O(t,e){var n=[],i=[];return d(t).forEach((function(t){n=n.concat(d(t.querySelectorAll("["+E+"], [data-stat-select]"))),(t.getAttribute(E)||t.getAttribute("data-stat-select"))&&n.push(t)})),n.forEach((function(t){var n=t.getAttribute(E)||t.getAttribute("data-stat-select"),o=t.getAttribute("data-statlog-showed")||n&&n in v,r=Boolean(t.getAttribute("data-statlog-precise"));n&&!o&&(!r||e&&e.precise)&&(e&&!1===e.visibilityCheck||function(t){return t&&(0!==t.offsetWidth||0!==t.offsetHeight)}(t))&&i.push(e&&e.convertCounters&&e.convertCounters(n)||n)})),i}function D(t,e){m.enabled&&O(t,e).forEach((function(t){x("show",t)}))}function R(){return m.enabled&&m.statRoot||""}function A(t){var e,n=t.target||t.srcElement;if((t.which||t.button)<2){for(;n&&1===n.nodeType&&!(e=n.getAttribute(E));)n=n.parentNode;if(e&&n)"0"!==n.getAttribute("data-statlog-redir")&&n.href?n.href&&"click"===t.type&&!t.defaultPrevented&&!1!==t.returnValue&&(P(n,e)||("preventDefault"in t?t.preventDefault():t.returnValue=!1)):"mousedown"===t.type&&x("click",e)}}function N(t,e){"addEventListener"in document?(document.addEventListener(t,e,!1),window.addEventListener("spas-unmount-main",(function(){document.removeEventListener(t,e,!1)}))):document.attachEvent("on"+t,e)}function L(){m.enabled&&(N("mousedown",A),N("click",A))}},4934:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=Object.prototype.toString;function o(t,e){if(!e)return t;for(var n in e)if("__proto__"!==n&&e.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?(t[n]=Array.isArray(t[n])?t[n]:[],o(t[n],r)):"[object Date]"===i.call(r)||"object"!=typeof r||null===r?t[n]=r:(t[n]="[object Object]"===i.call(t[n])?t[n]:{},o(t[n],r))}return t}},44:function(t,e,n){"use strict";function i(t,e,n){if("undefined"==typeof home||!t)return n;var i,o,r,s=e.split("."),a=s.length;if(a>1){for(i=t||{},o=0;o<a;o++)if(void 0===(i=i[s[o]]))return void 0===i?n:i;return void 0===i?n:i}return void 0===(r=t[e])?n:r}function o(t,e){return i("undefined"!=typeof home&&home.export||void 0,t,e)}n.d(e,{Yu:function(){return o}}),"undefined"!=typeof home&&(home.dataCallbacks=home.dataCallbacks||[])},1714:function(t,e,n){"use strict";n.d(e,{M:function(){return w}});var i=n(44),o=n(3146),r=n(234);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}function a(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,n=[{key:"getAttr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?(n.customParams&&(t+=a(n.customParams)),(t=String(t)).indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;")),' data-statlog="'+t+'"'+(!1!==n.isRedirect?"":' data-statlog-redir="0"')+(n.precise?' data-statlog-precise="1"':"")):""}},{key:"logShow",value:function(t,e){return t?(e&&(t+=a(e)),(0,r.DF)("show",t),t):""}},{key:"getClientCounter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return(t=n?(t||"")+a(n):t)?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':""):""}},{key:"getAdaptiveCounter",value:function(t,e){return t?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':"")+' data-statlog-autoshow="1"':""}}],n&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u=n(4934);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}for(var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e,n){home.export[n]||(home.export[n]={}),home.export[n][t]?(0,u.Z)(home.export[n][t],e):home.export[n][t]=e}},{key:"has",value:function(t,e){return Boolean(home.getData&&home.getData(e+"."+t))}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(8086),p={stub:!0},f=function(){var t=_[m];p[t]=function(e){if(!0===(0,i.Yu)("csp.report")){var n=new Error("req.csp."+t+" was called on clientside");(0,d.H)({block:"csp",meta:{url:e}},n)}}},m=0,_=["allowDefault","allowStyle","allowPlugin","allowObject","allowMedia","allowImg","allowFont","allowConnect","allowScript","allowChild","allowForm","allowFrameAncestors"];m<_.length;m++)f();var v={l10n:o.U,stat:new c,settingsJs:new h,csp:p,cls:{full:function(t){return t},part:function(t){return t},contains:function(t){return!1}},isClient:1},g={},b="__execViewUniq",y=1;function w(t,e,n){for(var o in n=n||{},v)n.hasOwnProperty(o)||(n[o]=v[o]);var r="object"==typeof window&&(0,i.Yu)("common.req")||{};for(var s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s]);return function t(e,i){var o;if("function"==typeof e)if(e.isCached){e[b]||(e[b]=y++);var r=e[b];r in g?o=g[r]:(o=e(n,t),g[r]=o)}else o=e(i,n,t);return void 0===o&&(o=""),o}(t,e)}},9996:function(t,e,n){"use strict";function i(t){return t.isCached=!0,t}n.d(e,{Z:function(){return i}})},6828:function(){window.Ya&&Ya.Rum&&Ya.Rum.time&&Ya.Rum.time("2095"),function(){var t={3542:function(){!function(){var t="XDomainRequest"in window?XDomainRequest:XMLHttpRequest,e={};function n(t){var n=0;return e[t]&&(n=Date.now()-e[t]),e[t]=null,n}MBEM.ajax=function(i,o){o=o||{};var r=new t,s=MBEM.debugEnabled;return function(t){e[t]=Date.now()}(i),r.open("get",i,!0),r.withCredentials=!0,r.onreadystatechange=function(){if(4===r.readyState)if(o.alwaysCallback&&o.alwaysCallback(r.status),200===r.status)try{o.successCallback&&o.successCallback.call(o.ctx,JSON.parse(r.responseText),{url:i,duration:n(i)})}catch(t){MBEM.consoleError(s?t:"Incorrect suggestions JSON")}else o.errorCallback&&o.errorCallback(r.status,r.statusText,r.responseText)},o.timeout&&(r.timeout=o.timeout),r.send(),function(){r.abort()}}}()},669:function(){!function(){var t="__uniqMBEM"+MBEM.id(5),e=MBEM.blocks={};MBEM.prototype=Object.create(MBEM.Observable.prototype),MBEM.prototype.getDefaultParams=function(){return{}};var n=MBEM._propListeners="__uniqMBEMListeners"+MBEM.id(5);MBEM.prototype.bindTo=function(t,e,i){return"function"==typeof e&&(i=e,e=t,t=this.domElem),"string"==typeof t?t=this.elem(t):Array.isArray(t)||(t=[t]),e.split(" ").forEach((function(e){t.forEach((function(t){var o=i.bind(this);o.origHandler=i,t[n]||(t[n]={}),t[n][e]||(t[n][e]=[]),t[n][e].push(o),t.addEventListener(e,o)}),this)}),this),this},MBEM.prototype.elem=function(t,e,n){var i=[],o=t.split(" ").map((function(t){var o=this.__self.className(t,e,n);return MBEM.cls.contains(this.domElem,o)&&i.push(this.domElem),"."+o}),this).join(",");return i.concat(MBEM.arrayFrom(this.domElem.querySelectorAll(o)))};var i=function(){};MBEM.override=function(t,e){return"function"==typeof e&&e.toString().indexOf("__base")>-1?(t=t||i,function(){var n=this.__base;this.__base=t;var i=e.apply(this,arguments);return this.__base=n,i}):e},MBEM.staticProto={},MBEM.staticProto.className=function(t,e,n){var i=this._name;return t&&(i+="__"+t),void 0!==e&&!1!==n&&(i+="_"+e+(!0!==n&&void 0!==n?"_"+n:"")),i},MBEM.decl=function(t,n,i){n=n||{};var o,r,s,a,c,u=!1;for(var l in"object"==typeof t&&t.baseBlock?(u=!0,c=t.baseBlock,t=t.block):c=t,c in e?(r=e[c].prototype,o=s=e[c]):(u=!0,r=MBEM.prototype,s=MBEM.staticProto),u&&(r=Object.create(r),(o=function(t){this.__internalConstructor(t),this.__constructor(t),this.__afterConstructor(t)}).prototype=r,o.prototype.constructor=o,o.prototype.__self=o,o._name=t,e[t]=o),n)n.hasOwnProperty(l)&&(r[l]=MBEM.override(r[l],n[l]));for(a in s)i&&i.hasOwnProperty(a)||o[a]||(o[a]=s[a]);if(i)for(a in i)i.hasOwnProperty(a)&&(o[a]=MBEM.override(s[a],i[a]));return o},MBEM.getBlock=function(e,n){return e[t]&&e[t][n]},MBEM.consoleError=function(){if(window.console&&window.console.error)try{window.console.error.apply(window.console,arguments)}catch(t){}},MBEM.prototype.__internalConstructor=function(e){e=e||{},this.domElem=e.node,this.params=MBEM.extend(this.getDefaultParams(),e.params||{}),e.node&&((e.node[t]||(e.node[t]={}))[this.__self._name]=this)},MBEM.prototype.__constructor=function(){},MBEM.prototype.__afterConstructor=function(){},MBEM.initBlockFromNode=function(t,e,n){var i;return(i=MBEM.getBlock(t,e))?i:(n||(n=MBEM.getNodeParams(t)[e]),MBEM._createBlockFromNode({node:t,block:e,params:n}))},MBEM.createBlock=function(t){if(e[t.block])return new e[t.block](t);MBEM.consoleError("Block is not declared",t.block)},MBEM._createBlockFromNode=MBEM.createBlock,MBEM.getNodeParams=function(t){var e;try{e=JSON.parse(t.getAttribute("data-bem"))||{}}catch(n){return void MBEM.consoleError("Incorrect params",t)}return e}}()},7199:function(){MBEM.initBlock=function(t,e){var n,i=e.params;return(n=MBEM.getBlock(e.node,t))?n:(i||(i=MBEM.getNodeParams(e.node)[t]),MBEM.createBlock({node:e.node,params:i,mods:e.mods,block:t}))}},513:function(){MBEM.initNode=function(t){var e=MBEM.getNodeParams(t);if(e)for(var n in e)e.hasOwnProperty(n)&&MBEM.initBlockFromNode(t,n,e[n])}},539:function(){!function(){MBEM.staticProto._processLive=function(t){if(t=t||!1,"live"in this&&void 0===this._liveInitable!==t){var e=!1!==this.live(),n=this._name,i=this.live;this.live=function(){return this._name===n?e:i.apply(this,arguments)},this._liveInitable=e}};var t=MBEM.decl;MBEM.decl=function(e,n,i){if(i&&void 0!==i.live&&"boolean"==typeof i.live){var o=i.live;i.live=function(){return o}}var r=!(("object"==typeof e&&e.block?e.block:e)in MBEM.blocks),s=t(e,n,i);return r?s._liveInitable=void 0:void 0!==s._liveInitable&&i.live&&s._processLive(!0),s};var e=MBEM._createBlockFromNode;MBEM._createBlockFromNode=function(t){var n=MBEM.blocks[t.block];if(n)return void 0===n._liveInitable&&("function"==typeof n.live?n._processLive():n._liveInitable=!1),!n._liveInitable||t.params&&!1===t.params.live?e(t):void 0;MBEM.consoleError("Block is not declared",t.block)};var n=MBEM._liveDocHandlers={},i=MBEM._liveDocHandler=function(t){n[t.type].forEach((function(e){for(var n=t.target;n&&n!==document.documentElement;){if(MBEM.cls.contains(n,e.className)){var i=MBEM.closest(n,e.blockName);if(i){var o=MBEM.getNodeParams(i);if(!(o=o&&o[e.blockName]))return;var r=MBEM.getBlock(i,e.blockName);r||(r=MBEM.createBlock({node:i,block:e.blockName,params:o})),e.callback&&e.callback.call(r,t);break}}n=n.parentNode}}))},o=function(t,e,o,r,s){r.split(" ").forEach((function(t){n[t]||(n[t]=[],document.addEventListener(t,i,!1)),n[t].push({blockName:this._name,callback:s,className:this.className(e,o&&o.modName,o&&o.modVal)})}),t)};MBEM.staticProto.liveBindTo=function(t,e,n){return e&&"function"!=typeof e||(n=e,e=t,t=void 0),"string"==typeof t&&(t={elem:t}),t?t.elem.split(" ").forEach((function(i){o(this,i,t,e,n)}),this):o(this,void 0,void 0,e,n),this}}()},4364:function(){MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){if(this.__base.apply(this,arguments),t&&t.mods&&t.node){for(var e in this.__modsClassName="",t.mods)if(t.mods.hasOwnProperty(e)&&t.mods[e]){var n=this.__self.className("",e,t.mods[e]);this.__modsClassName+=n+" ",MBEM.cls.add(t.node,n)}this.__modsClassName=this.__modsClassName.trim()}})),MBEM.prototype.getModsClassName=function(){return this.__modsClassName}},8945:function(){var t,e;t=MBEM.blocks,e=MBEM.decl,MBEM.decl=function(n,i,o){if(i=i||{},"object"==typeof n&&n.modName){var r;for(var s in r=n.block in t?t[n.block].prototype:MBEM.prototype,i)i.hasOwnProperty(s)&&"function"==typeof i[s]&&function(){var t=n,e=r[s],o=i[s];i[s]=function(){return this._simpleCheckMod(t.modName,t.modVal)?o.apply(this,arguments):e&&this.__base?e.apply(this,arguments):void 0}}();n=n.block}return e(n,i,o)},MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){this._modCache=t&&t.mods||this._extractInitMods(t),this.__base.apply(this,arguments)})),MBEM.prototype._extractInitMods=function(t){var e={};if(!t||!t.node)return e;for(var n,i,o=MBEM.cls.list(t.node.getAttribute("class")||""),r=this.__self._name+"_",s=0;s<o.length;++s)0===o[s].indexOf(r)&&((i=(n=o[s].substring(r.length)).indexOf("_"))>-1?e[n.substring(0,i)]=n.substring(i+1):e[n]=!0);return e},MBEM.prototype._simpleCheckMod=function(t,e){return void 0===e?Boolean(this._modCache[t]):this._modCache[t]===e}},547:function(){var t,e;t={},e=MBEM.decl,MBEM.decl=function(n,i,o){if("object"==typeof n&&n.modUniqueKey){var r=t[n.block];if(r||(r=t[n.block]={}),r[n.modUniqueKey])return;r[n.modUniqueKey]=1}return e(n,i,o)}},2586:function(){var t;t=MBEM.decl,MBEM.decl=function(e,n,i){return"onSetMod"in(n=n||{})&&function(t,e){var n,i,o;if("function"==typeof t)e[MBEM._buildModFnName("","*","*")]=t;else for(n in t)if(t.hasOwnProperty(n)){if("function"==typeof(o=t[n])){e[MBEM._buildModFnName("",n,"*")]=o;continue}for(i in o)o.hasOwnProperty(i)&&(e[MBEM._buildModFnName("",n,i)]=o[i])}}(n.onSetMod,n),t(e,n,i)},MBEM.prototype.__afterConstructor=MBEM.override(MBEM.prototype.__afterConstructor,(function(){this.__base.apply(this,arguments),this.setMod("js","inited")})),MBEM.prototype._extractElemName=function(t){if(!t)return"";var e=(t.getAttribute("class")||"").match(new RegExp("(?:\\s|^)"+this.__self._name+"__([a-zA-Z0-9-]+)(?:\\s|$)"));return e&&e[1]?e[1]:""},MBEM.prototype.getMod=function(t,e){e||(e=t,t=this.domElem);var n=!t;return t=t||this.domElem,Array.isArray(t)&&(t=t[0]),n?e in this._modCache?this._modCache[e]:this._modCache[e]=this._extractModVal(t,e):this._extractModVal(t,e)},MBEM.prototype._extractModVal=function(t,e){if(!t)return"";for(var n,i=MBEM.cls.list(t.getAttribute("class")||""),o=this._extractElemName(t),r=this.__self.className(o,e),s="",a=0;a<i.length;++a)if(0===i[a].indexOf(r))return"_"===(n=i[a].substring(r.length)).charAt(0)?s=n.substr(1):""===n&&(s=!0),s;return""},MBEM.prototype.hasMod=function(t,e,n){var i=arguments.length,o=!1;1===i?(n="",e=t,t=void 0,o=!0):2===i&&("string"==typeof t?(n=e,e=t,t=void 0):(n="",o=!0));var r=this.getMod(t,e)===n;return o?!r:r},MBEM._buildModFnName=function(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")},MBEM.prototype.setMod=function(t,e,n){void 0===n&&("string"==typeof t?(n=void 0===e||e,e=t,t=void 0):n=!0),t||(t=this.domElem),Array.isArray(t)&&(t=t[0]);var i=this.getMod(t,e);if(i===n)return this;var o=this._extractElemName(t),r=e+(o?"_"+o:"");if(this._processingMods||(this._processingMods={}),this._processingMods[r])return this;this._processingMods[r]=!0;var s=!0,a=[e,n,i];if(t===this.domElem&&[["*","*"],[e,"*"],[e,n]].forEach((function(t){var e=this[MBEM._buildModFnName(o,t[0],t[1])];e&&(s=!1!==e.apply(this,a)&&s)}),this),s&&(this._modCache[e]=n,this.domElem)){var c=MBEM.cls.list(t.getAttribute("class")||""),u=this.__self.className(o,e);c.forEach((function(e){0===e.indexOf(u)&&MBEM.cls.remove(t,e)})),""!==n&&MBEM.cls.add(t,this.__self.className(o,e,n))}return delete this._processingMods[r],this},MBEM.prototype.delMod=function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},MBEM.prototype.toggleMod=function(t,e,n,i,o){"string"==typeof t&&(o=i,i=n,n=e,e=t,t=void 0),void 0===i?i="":"boolean"==typeof i&&(o=i,i="");var r=this.getMod(t,e);return r!==n&&r!==i||this.setMod(t,e,"boolean"==typeof o?o?n:i:this.hasMod(t,e,n)?i:n),this}},5881:function(){var t;t=MBEM._propListeners,MBEM.prototype.unbindFrom=function(e,n,i){var o=arguments.length;return 1===o?(n=e,e=this.domElem):2===o&&"function"==typeof n?(i=n,n=e,e=this.domElem):"string"==typeof e&&(e=this.elem(e)),Array.isArray(e)||(e=[e]),n.split(" ").forEach((function(n){e.forEach((function(e){e[t]&&e[t][n]&&(e[t][n]=e[t][n].filter((function(t){return!(!i||t.origHandler===i)||(e.removeEventListener(n,t,!1),!1)})))}))})),this}},685:function(){var t;t={},MBEM.channel=function(e){if(void 0!==e&&t[e])return t[e];var n=new MBEM.Observable;return void 0!==e&&(t[e]=n),n}},5454:function(){window.MBEM=window.MBEM||{}},2696:function(){!function(){var t=function(t){this.type=t,this.propagationStopped=!1};t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=function(){};e.prototype.on=function(t,e,n){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&this.on(i,t[i],e);return this}var o=this._handlerStorage||(this._handlerStorage={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},e.prototype.un=function(t,e){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&this.un(n,t[n]);return this}for(var i=this._handlerStorage||(this._handlerStorage={}),o=i[t]||(i[t]=[]),r=0;r<o.length;++r)if(o[r].fn===e)return o.splice(r,1),this;return this},e.prototype.trigger=function(e,n){for(var i,o=new t(e),r=this._handlerStorage||(this._handlerStorage={}),s=(r[e]||(r[e]=[])).slice(),a=0;a<s.length;++a){var c=s[a];if(!1===(i=c.fn.call(c.ctx||this,o,n))&&o.stopPropagation(),o.propagationStopped)break}return i},MBEM.Observable=e}()},4376:function(){MBEM.arrayFrom=function(t){return Array.prototype.slice.call(t)}},6116:function(){MBEM.closest=function(t,e){for(;t&&t!==document;){if(MBEM.cls.contains(t,e))return t;t=t.parentNode}}},8495:function(){var t;t=/\s+/,MBEM.cls={list:function(e){return e.split(t).filter(Boolean)},contains:function(t,e){return MBEM.cls.list(t.getAttribute("class")||"").indexOf(e)>-1},add:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||"");return-1===n.indexOf(e)&&n.push(e),t.setAttribute("class",n.join(" ")),this},remove:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||""),i=n.indexOf(e);return i>-1&&n.splice(i,1),t.setAttribute("class",n.join(" ")),this},toggle:function(t,e,n){return void 0===n&&(n=!MBEM.cls.contains(t,e)),MBEM.cls[n?"add":"remove"](t,e)}}},8937:function(){MBEM.debounce=function(t,e){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,t.apply(i,o)}),e)}}},273:function(){MBEM.encodeUriComponent=function(t){try{return encodeURIComponent(t)}catch(e){t=t.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,"").replace(/([^\ud800-\udbff]|^)[\udc00-\udfff]/g,(function(t){return t.slice(0,-1)}));try{return encodeURIComponent(t)}catch(n){throw new URIError("Невозможно зашифровать строку: "+t)}}}},7020:function(){MBEM.encode=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},9002:function(){MBEM.eventProxy=function(t,e){return function(){return e[t].apply(e,arguments)}}},6384:function(){MBEM.extend=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var o in i)if(i.hasOwnProperty(o)){var r=i[o];r instanceof Element||r instanceof Array||r instanceof Date||"object"!=typeof r||null===r?t[o]=r:(t[o]=t[o]||{},MBEM.extend(t[o],r))}}return t}},9544:function(){MBEM.hl=function(t,e){var n=e.reduce((function(e,n){var i=n[0],o=n[1];return i!==e.lastIndex&&(e.text+=MBEM.encode(t.slice(e.lastIndex,i))),e.text+="<b>"+MBEM.encode(t.slice(i,o))+"</b>",e.lastIndex=o,e}),{text:"",lastIndex:0});return n.text+MBEM.encode(t.slice(n.lastIndex))}},3308:function(){MBEM.id=function(t){return t=t||8,Math.random().toString().slice(2,Math.min(t)+2)}},2707:function(){MBEM.insertAfter=function(t,e){"function"==typeof e.insertAdjacentElement?e.insertAdjacentElement("afterend",t):e.parentNode.insertBefore(t,e.nextSibling)}},418:function(){MBEM.offset=function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),n=document.documentElement.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left}}},5136:function(){MBEM.resolveUrl=function(t,e){return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)?t:"/"===t.substr(0,1)?document.location.origin+t:(e?"https":"http")+"://"+t}},211:function(){MBEM.reverseHl=function(t,e,n,i){var o=e.length||!n,r=o&&i&&e.length;return o&&(e=function(t,e){for(var n=[],i=0;i<=e.length;i++){var o=e[i-1]?e[i-1][1]:0,r=e[i]?e[i][0]:t.length;r>o&&n.push([o,r])}return n}(t,e)),r&&(e=function(t,e){for(var n=[],i=Array.apply(null,{length:t.length}).map((function(){return!1})),o=0;o<e.length;o++)for(var r=e[o][0];r<e[o][1];r++)i[r]=!0;for(var s=0,a=0;a<=t.length;a++)if(!t[a]||" "===t[a]){for(var c=s,u=!1,l=!1,h=null;s<a;){if(i[s])u=!0,null===h&&(h=s);else if(u){l=!0;break}s++}l?n.push([c,a]):null!==h&&n.push([h,a]),s=a+1}return n}(t,e)),MBEM.hl(t,e)}},5369:function(){var t;MBEM.sendBeacon=(t="sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&-1===(navigator.userAgent||"").indexOf("UCBrowser"),function(e,n){return t&&navigator.sendBeacon(e,n)})},6237:function(){MBEM.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:(new Date).getTime(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var u=(new Date).getTime();a||!1!==n.leading||(a=u);var l=e-(u-a);return i=this,o=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=u,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(c,l)),r}}},4175:function(){MBEM.transitionendEvent=function(){var t=document.createElement("el"),e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}},8248:function(){MBEM.appendUrlParams=function(t,e){return t+(t.indexOf("?")>-1?"&":"?")+Object.keys(e).map((function(t){return t+"="+MBEM.encodeUriComponent(e[t])})).join("&")}},2323:function(){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=MBEM.arrayFrom(arguments).slice(1);return function(){var i=MBEM.arrayFrom(arguments);return e.apply(t,n.concat(i))}})},7344:function(){Date.now||(Date.now=function(){return(new Date).getTime()})},233:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._suggestId=MBEM.id(),this._suggestListId="suggest-list-"+this._suggestId,this._input.setAttribute("role","combobox")},_createPopup:function(){if(!this.__base.apply(this,arguments))return!1;this._popupContent.id=this._suggestListId;var t=this._input.getAttribute("aria-controls");return this._input.setAttribute("aria-controls",(t?t+" ":"")+this._suggestListId),this._popup},_buildItem:function(t,e){var n=this.__base.apply(this,arguments);return n.linkAttrs&&this.params.a11y&&this.params.a11y.nav&&(n.content.a11yDescription='<span class="mini-suggest__a11y_description">'+MBEM.encode(this.params.a11y.nav)+"</span>"),n.attrs.id="suggest-item-"+this._suggestId+"-"+e,n},_buildItemContent:function(t,e){return(e.content.a11yDescription||"")+this.__base.apply(this,arguments)}})},9770:function(){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("item-arrow",this._handleArrowClick,this)},_handleArrowClick:function(t,e){this.__base.apply(this,arguments),this._changePathState("mouse")&&(this._path.index=e.itemIndex+1),this._addAction(this._counterActions.arrow,{index:e.itemIndex+1,log:this._getItemLog(e.dataItem,["arrow"])}),++this._ratio.actionsCount}})},8430:function(){MBEM.decl({block:"mini-suggest",modName:"clickless-counter",modVal:"yes"},{_bindHandlers:function(){function t(){this._addAction("page_"+document.visibilityState,{log:[this._val]})}function e(){this._sendClicklessCounters()}this.__base.apply(this,arguments),this.params.counter&&(this.bindTo(window,"visibilitychange",t),this.bindTo(window,"pagehide",e),this._listenersToUnmount.push((function(){this.unbindFrom(window,"visibilitychange",t),this.unbindFrom(window,"pagehide",e)})))},_getClicklessCounterParamsList:function(){return[this.params.counter.clicklessParams,{text:this._val,suggest_reqid:this._reqID,total_input_time:this._getTotalInputTime()},this._getPath({state:"no_click",submit:"none"}),this._getTpah()]},_sendClicklessCounters:function(){this._firstOpenTime&&this._sendCounters(!0,this._getClicklessCounterParamsList())}})},2346:function(){MBEM.decl({block:"mini-suggest",modName:"direct-disclaimer",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("disclaimer-toggled",this._handleDisclaimerAction.bind(this))},_handleDisclaimerAction:function(t,e){this._addAction(e.isOpen?this._counterActions.adInfoOpen:this._counterActions.adInfoClosed,{index:e.itemIndex,log:this._getItemLog(e.dataItem,["info"])})}})},2647:function(){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("adb",this._handleAdb,this)},_handleAdb:function(t,e){++this._adb.adr,e&&e.hidden&&(++this._adb.adh,this._adbe()&&++this._adb.adhb)},_clearCounters:function(){this.__base.apply(this,arguments),this._adb={adr:0,adh:0,adhb:0}},_getParamsList:function(){var t=this.__base.apply(this,arguments);return t.push(this._adb),t},_adbe:function(){return this.params.direct.adb||this.params.direct.checkAdb&&this.params.direct.checkAdb()}})},4793:function(){MBEM.decl({block:"mini-suggest",modName:"new-format",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this._counterActions={adInfoClosed:"closed",adInfoOpen:"open",arrow:"insert",word:"insert",search:"search",nav:"nav",submit:"submit"}},_getItemLogAction:function(t){return this.__self.itemTypeIsNavigable(t.type)?this._counterActions.nav:this._counterActions.search},_getItemLog:function(t,e){var n=t[5]&&t[5].log;return n?n.map((function(t){return t||"none"})).concat(e||["none"]):this.__base.apply(this,arguments)},_getSubItemLog:function(t,e,n){return e&&e.log?e.log:"source"===t?["url"]:t?[t+("number"==typeof n?n+1:"")]:[]},_addAction:function(t){if(t===this._counterActions.submit){var e=this._tpah[this._tpah.length-1];if(e&&e.name===this._counterActions.search)return}return this.__base.apply(this,arguments)},_getItemType:function(t){return t[5]&&t[5].log?t[5].log.join("."):this.__base.apply(this,arguments)}})},9724:function(){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this._prevDataItems=[],this.params.counter&&this.on("re-request",this._handleReRequest,this).on("re-response",this._handleReResponse,this).on("re-popup-update",this._handleRePopupUpdate,this)},_handleReResponse:function(t,e){this._prevDataItems=this._dataItems,++this._reResponses.drsp,e.items.length||++this._reResponses.dersp,!e.relevant&&e.items.length&&++this._reResponses.dlrsp},_handleReRequest:function(){++this._reResponses.drqs},_handleRePopupUpdate:function(){++this._reResponses.drndr,this._countNewItemsTypesFromReRequest()},_countNewItemsTypesFromReRequest:function(){for(var t={},e=Math.max(this._prevDataItems.length,this._dataItems.length),n=0;n<e;n++){var i=this._prevDataItems[n]&&this._getItemType(this._prevDataItems[n]),o=this._getItemType(this._dataItems[n]);i&&(t[i]=(t[i]||0)-1),o&&(t[o]=(t[o]||0)+1)}for(var r in t)t[r]>0&&this._incTypeCount(r,t[r])},_clearCounters:function(){this.__base.apply(this,arguments),this._reResponses={drqs:0,drsp:0,dlrsp:0,dersp:0,drndr:0}},_getParamsList:function(){var t=this.__base.apply(this,arguments);return t.push(this._reResponses),t}})},3369:function(){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),n="object"==typeof t[5]&&null!==t[5]?t[5].counter:t[5];return n&&(e.attrs["data-suggest-counter"]=(this.params.clickHost||"")+MBEM.encode(n)),e},_handleItemClick:function(t,e){if(this.__self.itemTypeIsNavigable(e.type)){var n=e.node.getAttribute("data-suggest-counter");n&&((new Image).src=n,this._addMetrikaCookie(this._getItemHref(e.node),e.val))}this.__base.apply(this,arguments)},_getItemHref:function(t){return"A"!==t.tagName&&(t=t.querySelector(".mini-suggest__item-link")),t.href},_addMetrikaCookie:function(t,e){var n=this._reqID,i=[e,t,this.params.navSource,n].map(MBEM.encodeUriComponent).join(":"),o=Date.now();document.cookie="sc_"+o+"="+i+";path=/watch;domain=."+(location.hostname.match(/yandex\..+$/)||[])[0]+";expires="+new Date(o+6e5).toUTCString()+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")}})},6231:function(){MBEM.decl("mini-suggest",{__constructor:function(){this._counterActions={adInfoClosed:"ad_info_closed",adInfoOpen:"ad_info_open",arrow:"arrow",word:"word",submit:"submit"},this.params.counter&&this.on("submit",this._handleSubmit,this).on("request",this._handleRequest,this).on("response",this._handleResponse,this).on("start-input",this._handleStartInput,this).on("input-change",this._handleInputChange,this).on("popup-show",this._handlePopupShow,this).on("popup-update",this._handlePopupUpdate,this).on("item-click",this._handleItemClick,this).on("item-tpah",this._handleItemTpah,this).on("button-click",this._handleButtonClick,this).on("input-enter",this._handleInputEnter,this).on("open",this._handleSuggestOpen,this),this.__base.apply(this,arguments),this.params.counter&&this._clearCounters()},_handleInputEnter:function(){this._path.submit="keyboard"},_handleSubmit:function(){this._addAction("submit"),this._sendCounters()},_handleRequest:function(){++this._responses.rqs},_handleResponse:function(t,e){var n=Date.now();++this._responses.rsp,e.items.length||++this._responses.ersp,!e.relevant&&e.items.length&&++this._responses.lrsp,void 0!==e.duration&&(this._params.times+=(this._params.times?".":"")+e.duration),this._cachedUrls[e.url]&&n-this._cachedUrls[e.url]<6e4&&++this._responses.cchd,e.url&&(this._cachedUrls[e.url]=n),e.items.length&&(this._lastRenderTime=n),this._meta=e.data[2]||{}},_handlePopupUpdate:function(t,e){++this._responses.rndr,this._lastRenderTime&&(this._params.render_times+=(this._params.render_times?".":"")+(Date.now()-this._lastRenderTime),this._lastRenderTime=null),this._countItemTypes(e.items)},_handlePopupShow:function(){this._changePathState("not_used")},_handleItemClick:function(t,e){e.personal&&(this._path.personal="nah_used");var n=e.subItemName&&this._getSubItemLog(e.subItemName,e.subItem,e.subItemIndex,e.dataItem);this._addAction(this._getItemLogAction(e),{index:e.itemIndex+1,log:this._getItemLog(e.dataItem,n)}),this._changePathState(e.byKeyboard?"keyboard":"mouse")&&(this._path.index=e.itemIndex+1),this._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",++this._ratio.actionsCount,this.__self.itemTypeIsNavigable(e.type)&&(this._navigableUrl=e.url,this._navigableText=e.val,this._sendCounters())},_handleItemTpah:function(t,e){this._changePathState("tpah"),this._path.index=0,this._addAction(this._counterActions.word,{index:e.itemIndex+1,log:this._getItemLog(e.dataItem)}),++this._ratio.actionsCount,++this._responses.clks},_handleButtonClick:function(){++this._ratio.actionsCount,this._changePathState("suggest"),this._path.submit="button_by_mouse"},_handleInputChange:function(t,e){var n=Date.now();if(this._changePathState("edit"),this._path.index=0,"user"!==e.type&&"clear"!==e.type&&"tpah"!==e.type||(this._firstChangeTime=this._firstChangeTime||n,this._lastChangeTime=n),++this._ratio.actionsCount,"user"===e.type){var i=this._input.value.length-this._prevVal.length;i>0?this._addAction("add",{diffLength:i}):this._addAction("del",{diffLength:i})}else"clear"===e.type&&this._addAction("clear");"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._prevVal=this._input.value},_handleStartInput:function(){this._startInputTime=this._startInputTime||Date.now()},_handleSuggestOpen:function(){this._firstOpenTime=this._firstOpenTime||Date.now()},_changePathState:function(t){switch(t){case"not_used":if("not_shown"!==this._path.state)return!1;break;case"mouse":case"keyboard":case"tpah":if("edit"===this._path.state)return!1;break;case"edit":if("not_shown"===this._path.state||"not_used"===this._path.state)return!1;break;case"suggest":if("keyboard"!==this._path.state)return!1}return this._path.state=t,!0},_addAction:function(t,e){var n=Date.now(),i=e||{};!this._isReqIDAttached&&this._reqID&&this._attachReqID(),this._firstActionTime=this._firstActionTime||n,i.time=n-this._firstActionTime,i.name=t,this._tpah.push(i)},reset:function(){this.__base.apply(this,arguments),this.params.counter&&this._clearCounters()},_sendCounters:function(t,e){var n=e||this._getParamsList(this.params.counter.params),i=this._getCounterUrl(),o=this._getCounterData(n);t||this._clearCounters(),this._sendStatUrl(i,o,this.params.counter.useBody)},_sendStatUrl:function(t,e,n){var i=n?e:" ",o=n?"":e,r=t+(o||"/"),s=(r.indexOf("?")>-1?"&":"?")+"_="+Date.now();MBEM.sendBeacon(r+s,i)||MBEM.ajax(t+(o||i)+s)},_clearCounters:function(){this._params={times:"",render_times:""},this._path={service:this.params.counter.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:"button_by_mouse"},this._ratio={len:0,queryLen:0,actionsCount:0},this._firstOpenTime=null,this._firstChangeTime=null,this._lastChangeTime=null,this._startInputTime=null,this._reqID=this.__self._generateReqID(this.params.counter.yandexuid),this._isReqIDAttached=!1,this._tpah=[],this._firstActionTime=0,this._prevVal=this._input.value,this._startValLength=this._input.value.length,this._responses={rqs:0,rsp:0,rndr:0,ersp:0,lrsp:0,clks:0,cchd:0},this._typeCounts={},this._cachedUrls={},this._lastRenderTime=0,this._meta={},this._navigableUrl=null,this._navigableText=null},_attachReqID:function(){this._appendHiddenInput("suggest_reqid",this._reqID),this._isReqIDAttached=!0},_getCounterUrl:function(){return this.params.counter.url},_getCounterData:function(t){var e=document.location.origin;this.params.counter.sendNavUrl&&(this._navigableUrl?e=this._navigableUrl:this.params.counter.fallbackNavUrlToOrigin||(e=""));var n=!e&&this.params.counter.sendEmptyNavUrl||e?{"*data":"url="+(e||"")}:null;return"/"+t.concat(n||[]).reduce(function(t,e){return t.concat(this._getParams(e))}.bind(this),[]).concat(["/"]).join("/").replace(/(\/+)/g,"/").concat(n?"":"*")},_getParamsList:function(t){return[{text:this._navigableText||this._input.value,pos:this._getCaretPosition(),type_counts:JSON.stringify(this._typeCounts)},t,this._getPath(),this._params,this._getRatio(),this._getChangeTimes(),this._getSession(),this._responses,{suggest_reqid:this._reqID},this._getTpah(),this._getMeta(),this._getExtraCounterParams()]},_getPath:function(t){return{path:[(t=t||{}).service||this._path.service,t.state||this._path.state,"p"+(t.index||this._path.index),t.personal||this._path.personal,t.submit||this._path.submit].join(".")}},_getRatio:function(){var t=this._startValLength+this._tpah.reduce((function(t,e){return"add"===e.name||"del"===e.name?t+(e.diffLength||0):t}),0);return{ratio:[t>=0?t:this._input.value.length,this._input.value.length,this._ratio.actionsCount].join(".")}},_getTotalInputTime:function(t){return(t=t||Date.now())-(this._startInputTime||t)},_getChangeTimes:function(){var t=Date.now();return{since_first_change:t-(this._firstChangeTime||t),since_last_change:t-(this._lastChangeTime||t),total_input_time:this._getTotalInputTime(t)}},_getSession:function(){return{session:Date.now()+MBEM.id(4)}},_getTpah:function(){return{tpah_log:"["+this._tpah.map((function(t){var e=[t.name,"p"+(t.index||0),t.time];return void 0!==t.diffLength&&e.push(t.diffLength),t.log&&e.push.apply(e,t.log.map(MBEM.encodeUriComponent)),"["+e.join(",")+"]"})).join(",")+"]"}},_getParams:function(t){return Object.keys(t).reduce((function(e,n){return""===t[n]||e.push(n+"="+MBEM.encodeUriComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",").replace(/\*/g,"%2A")),e}),[])},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return this._reqID&&(t.suggest_reqid=this._reqID),t},_countItemTypes:function(t){t.forEach((function(t){var e=this._getItemType(t);e&&this._incTypeCount(e)}),this)},_getItemType:function(t){var e,n;return Array.isArray(t)&&(t[5]&&t[5].personal?e="pers":(e=t[0],n=t[5]&&t[5].type)),n&&(e+="_"+n),e},_getItemLogAction:function(t){return t.node.getAttribute("data-log-type")||("nav"===t.type?"nav":t.personal?"history":"phrase")},_getItemLog:function(t,e){return e||(t&&this.__self.itemTypeHasExtendedLog(t[0])?[t[5]&&t[5].type||"none"]:[])},_getSubItemLog:function(t,e,n,i){return[t]},_incTypeCount:function(t,e){this._typeCounts[t]=(this._typeCounts[t]||0)+(e||1),t.indexOf("pers")>-1&&"nah_not_shown"===this._path.personal&&(this._path.personal="nah_not_used")},_getMeta:function(){var t={};for(var e in this.__self.metaProps)t[this.__self.metaProps[e]]=this._meta[e]||"";return t},_getExtraCounterParams:function(){return this.params.counter.getExtraUrlParams?this.params.counter.getExtraUrlParams():{}}},{itemTypeHasExtendedLog:function(t){return["nav","fact"].indexOf(t)>-1},_generateReqID:function(t){return(t=t||MBEM.id(9)+MBEM.id(9))+Date.now().toString().slice(-7)+MBEM.id(7)},metaProps:{exprt:"exprt",r:"region",log:"log"}})},1130:function(){var t,e,n,i;t="data-clps-id",e="mini-suggest__collapsible-activator",n="mini-suggest__collapsible",i="mini-suggest__collapsible_open",MBEM.decl("mini-suggest",{_createCollapsible:function(i){var o=MBEM.id(),r={};return r[t]=o,{html:'<div class="'+n+'" '+t+'="'+o+'">'+i+"</div>",activator:{className:e,attrs:r}}},_onPopupClick:function(o){var r=MBEM.closest(o.target,e);if(r){var s="."+n+"["+t+'="'+r.getAttribute(t)+'"]',a=this._popup.querySelector(s);if(a){var c=MBEM.cls.contains(a,i),u=c?MBEM.cls.remove:MBEM.cls.add,l=a.scrollHeight||0;u(a,i),a.style.height=c?"":l+"px",this._onCollapsibleToggled({collapsible:a,activator:r,isOpen:!c,height:c?0:l})}o.preventDefault()}else this.__base.apply(this,arguments)},_onCollapsibleToggled:function(){}})},7842:function(){MBEM.decl({block:"mini-suggest",modName:"direct-disclaimer",modVal:"yes"},{_buildDirectWarning:function(t,e,n){if(t&&(t.warn||t.disclaimer)){var i,o=t.warnlen?" mini-suggest__item-warning_type_"+MBEM.encode(t.warnlen):"",r=t.warn?"":" mini-suggest__item-warning-wrap_top-indent_no";return t.disclaimer&&(i=this._createCollapsible('<div class="mini-suggest__item-warning mini-suggest__item-warning_disclaimer'+o+'">'+MBEM.encode(t.disclaimer)+"</div>"),e.content.button="disclaimer-button "+i.activator.className,e.content.buttonAttrs=MBEM.extend({title:this.params.direct.disclaimerTitle||""},i.activator.attrs)),'<div class="mini-suggest__item-warning-wrap mini-suggest__item-warning-wrap_text-align_left'+r+'">'+(t.warn?'<div class="mini-suggest__item-warning'+o+'">'+(t.warn?MBEM.encode(t.warn.replace(/&quot;/g,'"')):"")+(n&&t.age?" &middot; "+MBEM.encode(t.age):"")+"</div>":"")+(i?i.html:"")+"</div>"}return""},_onCollapsibleToggled:function(t){if(this.__base.apply(this,arguments),MBEM.cls.contains(t.activator,"mini-suggest__disclaimer-button")){MBEM.cls.toggle(t.activator,"mini-suggest__disclaimer-button_active");var e=MBEM.closest(t.activator,"mini-suggest__item");this.trigger("disclaimer-toggled",{isOpen:t.isOpen,itemIndex:Number(e.dataset.index),dataItem:this._dataItems[e.dataset.index]})}}})},5636:function(){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),n=t[5];return n&&"ad"===n.type&&(e.className=e.className.replace(" mini-suggest__item_subtype_ad","")),e},_buildItemContent:function(t,e){return this.__base.apply(this,arguments)+(e.content.warn||"")},_buildDirectWarning:function(t,e,n){return t&&t.warn?'<div class="mini-suggest__item-warning-wrap"><div class="mini-suggest__item-warning'+(t.warnlen?" mini-suggest__item-warning_type_"+MBEM.encode(t.warnlen):"")+'">'+MBEM.encode(t.warn.replace(/&quot;/g,'"'))+(n&&t.age?" &middot; "+MBEM.encode(t.age):"")+"</div></div>":""}})},2270:function(){MBEM.decl({block:"mini-suggest",modName:"entity-suggest",modVal:"yes"},{_getItemText:function(t){return"fact"===t[0]&&t[5]&&"entity"===t[5].type?t[2]:this.__base.apply(this,arguments)}})},2343:function(){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildFavicon:function(t){return'<div class="mini-suggest__favicon" style="background-image: url('+t+')"></div>'},_buildFaviconUrl:function(t,e){return MBEM.encode(this.params.faviconUrl+MBEM.resolveUrl(t,!0))+"?size="+(e||32)+"&stub=1"}})},6941:function(){MBEM.decl({block:"mini-suggest",modName:"type-icon",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return t[5]&&t[5].enriched&&(e.className+=" ".concat(this.__self.className("item","enriched","yes"))),e}})},9757:function(){MBEM.decl({block:"mini-suggest",modName:"redesigned-navs",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);if(this._shouldNavBeRedesigned(t)){var n=t[5]&&t[5].img&&t[5].img.url,i=this.params.faviconSourceSize||this._getRedesignedNavFaviconSourceSize(),o=this.params.faviconRenderSize||this._getRedesignedNavFaviconRenderSize();n&&-1!==n.indexOf(this.params.faviconUrl)&&(n=n.replace("size=32","size="+i));var r=n||this._buildFaviconUrl(t[3],i);this.params.faviconAdditionalUrlParams&&(r=MBEM.appendUrlParams(r,this.params.faviconAdditionalUrlParams)),e.className+=" "+this.__self.className("item","redesigned-nav","yes"),e.content.thumb=this._buildThumb({mods:{favicon:"yes"},img:{url:r,size:"s",orientation:"square",shade:!0}},{backgroundSize:o,borderRadius:this.params.faviconBorderRadius})}return e},_buildPopupClassList:function(){var t=this.__base.apply(this,arguments);return this.params.hideThumbBackground&&(t+=" "+this.__self.className("popup","thumb-background","no")),t},_shouldNavBeRedesigned:function(){return!0},_getRedesignedNavFaviconSourceSize:function(){return"32"},_getRedesignedNavFaviconRenderSize:function(){return"16px"}})},6193:function(){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),n=t[0],i=t[5];if(i){var o=i.descr,r=i.mark,s=i.icon,a=i.type;r&&(e.content.mark=this._buildItemMark(r,e)),o&&(e.content.descr=this._buildItemDescr(o)),a&&(e.className+=" mini-suggest__item_subtype_"+a),s&&(e.content.icon='<span class="mini-suggest__item-icon mini-suggest__item-icon_size_'+MBEM.encode(s.size||"s")+'" style="background-image:url('+MBEM.encode(s.url)+');"></span>'),this._shouldWrapItemContent(t)&&(e.content.wrapper=['<div class="mini-suggest__item-content">',"</div>"]),i.img&&(i.img.url||i.img.icon)&&(e.content.thumb=this._buildThumb(i)),"nav"===n&&i.monochrome&&(e.className+=" mini-suggest__item_monochrome")}return e},_buildItemContent:function(t,e){return e.content.button&&(e.className+=" mini-suggest__item_with-button"),(e.content.thumb||"")+(e.content.wrapper&&e.content.wrapper[0]||"")+this._buildItemContentMain(t,e)+(e.content.wrapper&&e.content.wrapper[1]||"")},_buildThumb:function(t,e){e=e||{};var n=this._buildThumbClass(t),i=t.img.url?"background-image:url("+MBEM.encode(t.img.url)+");":"",o="",r="",s="",a="";t.img.badge&&!t.img.round&&(a+='<div class="mini-suggest__item-thumb-badge"',t.img.badgeColor&&(a+=' style="background-color:'+MBEM.encode(t.img.badgeColor)+';color:#333;"'),a+=">"+MBEM.encode(t.img.badge)+"</div>"),r+=t.img.color?"background-color:"+MBEM.encode(t.img.color)+";":"";var c=e.backgroundSize&&MBEM.encode(e.backgroundSize);return e.borderRadius?(s+=i,s+="border-radius:"+e.borderRadius+";",c&&(s+="width:"+c+";height:"+c+";")):(r+=i,c&&(r+="background-size:"+c+";")),'<div class="mini-suggest__item-thumb'+n+'"'+(o+=r?' style="'+r+'"':"")+">"+(e.borderRadius?'<div class="mini-suggest__item-thumb-img" style="'+s+'">':"")+a+(e.borderRadius?"</div>":"")+"</div>"},_buildThumbClass:function(t){var e=" mini-suggest__item-thumb_orientation_"+(t.img.aspect&&!t.img.round?MBEM.encode(t.img.aspect):"square");if(e+=" mini-suggest__item-thumb_size_"+(t.img.size?MBEM.encode(t.img.size):"m"),e+=t.img.shade?" mini-suggest__item-thumb_shade":"",e+=t.img.contain?" mini-suggest__item-thumb_contain":"",e+=t.img.cover?" mini-suggest__item-thumb_cover":"",e+=t.img.round?" mini-suggest__item-thumb_round":"",e+=t.img.icon?" mini-suggest__item-thumb_icon_"+t.img.icon:"",e+=t.img.placeholder?" mini-suggest__item-thumb_placeholder_"+t.img.placeholder:"",e+=t.img["icon-type"]?" mini-suggest__item-thumb_icon-type_"+t.img["icon-type"]:"",t.mods)for(var n in t.mods)t.mods.hasOwnProperty(n)&&(e+=" "+this.__self.className("item-thumb",n,t.mods[n]));return e},_buildItemDescr:function(t){return(t=Array.isArray(t)?t:[t]).map((function(t){return t?'<span class="mini-suggest__item-descr">'+MBEM.encode(t)+"</span>":""})).join("")},_buildItemMark:function(t,e){var n="mini-suggest__item_mark_yes";return t=Array.isArray(t)?t:[t],-1===e.className.indexOf(n)&&(e.className+=" "+n),t.map((function(t){return t?'<span class="mini-suggest__item-mark mini-suggest__item-mark_type_'+MBEM.encode(t)+'"></span>':""})).join("")},_buildItemContentAdds:function(t,e){return(e.content.mark||"")+(e.content.descr||"")},_shouldWrapItemContent:function(t){return"nav"===t[0]||"fact"===t[0]}})},8978:function(){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),n=t[0],i=t[1],o=t[3],r=t[4],s=t[5];return"tpah"===n&&s&&s.tpah&&(i=i.slice(s.tpah[0],s.tpah[2])),e.content.title=MBEM.encode(i),e.content.info=o&&MBEM.encode(o),e.attrs.role="option",e.attrs["data-text"]=MBEM.encode(this._getItemText(t)),r&&(e.linkAttrs={href:MBEM.resolveUrl(r),target:MBEM.encode(t[5]&&t[5].target||"_blank"),rel:"noopener",class:"mini-suggest__item-link"}),s&&s.next&&(e.className+=" mini-suggest__item_next_"+s.next),e},_getItemText:function(t){var e=t[0],n=t[1],i=t[3],o=t[5];return o&&(o.searchQuery||o.suggestion)||"nav"===e&&this._val||("fact"!==e||o&&o.inline?n:i)},_buildItemContentTitle:function(t,e){return e.content.title||""},_buildItemContentInfo:function(t,e){return e.content.info||""},_buildItemContentButton:function(t,e){return e.content.button?'<span class="mini-suggest__'+e.content.button+' mini-suggest__item-button"'+this.__self.toHtmlAttrsString(e.content.buttonAttrs||"")+"></span>":""},_buildItemContentAdds:function(){return""},_shouldWrapItemTitle:function(t){return"nav"===t[0]||"fact"===t[0]}})},7251:function(){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_onArrowClick:function(t){var e=MBEM.closest(t,"mini-suggest__item");if(e){var n=e.getAttribute("data-text");this._changeText(n+" ","arrow",!0,(function(){this.trigger("item-arrow",this._getItemEventProps(e,null,n))}))}},_onPopupClick:function(t){var e=t.target;MBEM.cls.contains(e,"mini-suggest__arrow")?this._onArrowClick(e):this.__base.apply(this,arguments)},_addArrow:function(t,e){var n=this._getItemText(t);return"string"==typeof n&&n.trim()!==this._val.trim()&&(e.className+=" mini-suggest__item_arrow_yes",e.content.button="arrow"),e}})},2623:function(){MBEM.decl({block:"mini-suggest",modName:"autofocus",modVal:"yes"},{__constructor:function(){this._hasUserActivasion=!1,this.__base.apply(this,arguments),this._val&&(this._hasUserActivasion=!0)},_openSuggest:function(){this._hasUserActivasion&&this.__base.apply(this,arguments)},_onInput:function(){this.__base.apply(this,arguments),this._hasUserActivasion||(this._hasUserActivasion=!0,this._openSuggest())},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"click",MBEM.eventProxy("_onInputClick",this))},_onInputClick:function(){this._hasUserActivasion||(this._hasUserActivasion=!0,this._onInputFocus())},_startInput:function(){this._hasUserActivasion&&this.__base.apply(this,arguments)}})},2884:function(){MBEM.decl({block:"mini-suggest",modName:"delete-on-hover",modVal:"yes"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","delete-on-hover","yes")}})},5285:function(){MBEM.decl({block:"mini-suggest",modName:"direct-special-warn",modVal:"yes"},{_buildDirectWarning:function(t,e){var n=Number(t.warnlen),i=[1,2].indexOf(n)>-1;if(t&&i){var o=t.warn;t.warn="";var r=this.__base.apply(this,arguments),s="mini-suggest__special-warn_type_"+n;return this._shouldAdjustSpecialWarn=!0,'<div class="mini-suggest__special-warn '+s+'" data-warn-type="'+t.warnlen+'" aria-label="'+MBEM.encode(o)+'"></div>'+r}return this.__base.apply(this,arguments)},_renderItems:function(){if(this.__base.apply(this,arguments),this._shouldAdjustSpecialWarn){for(var t=this._popup.querySelectorAll(".mini-suggest__special-warn"),e=0;e<t.length;e++)this._adjustSpecialWarnSize(t[e],this._getSpecialWarnParams(Number(t[e].dataset.warnType)));this._shouldAdjustSpecialWarn=!1}},_getSpecialWarnParams:function(t){},_adjustSpecialWarnSize:function(t,e){}})},785:function(){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this._adVisibilityChekers={},this._prevVisibilityCounterUrls={},this.__base.apply(this,arguments)},_renderItems:function(){this.__base.apply(this,arguments),this._isShown&&this._checkVisibilityAdvItems()},_syncItems:function(){this.__base.apply(this,arguments),this._adPositions=this._dataItems.reduce(function(t,e,n){if(e[5]&&this._isDirect(e[5])){if(this._adIsHidden(this._items[n]))return this.trigger("adb",{hidden:!0}),this._items[n].setAttribute("data-hidden",1),t;this.trigger("adb"),t.push(n)}return t}.bind(this),[])},_hidePopup:function(){if(this._isShown){for(var t in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(t)&&clearTimeout(this._adVisibilityChekers[t]);this._adVisibilityChekers={}}this.__base.apply(this,arguments)},_showPopup:function(){this.__base.apply(this,arguments),this._dataItems&&this._checkVisibilityAdvItems()},_isDirect:function(t){return"ad"===t.type},_checkVisibilityAdvItems:function(){var t=this.params.direct,e={};if(this._adPositions.forEach(function(n){var i=this._dataItems[n],o=i&&i[5]&&i[5].linkht;if(o)if(t.counter_delay){if(this._prevVisibilityCounterUrls[o])return;e[o]=this._adVisibilityChekers[o]||setTimeout(function(){this._sendVisibilityCounter(o)}.bind(this),t.counter_delay)}else this._sendVisibilityCounter(o)}.bind(this)),t.counter_delay){for(var n in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(n)&&!e[n]&&(clearTimeout(this._adVisibilityChekers[n]),this._adVisibilityChekers[n]=null);this._adVisibilityChekers=e}},_elemIsHidden:function(t){var e=window.getComputedStyle(t,null);return"none"===e.display||"visible"!==e.visibility||"1"!==e.opacity||-1===["static","relative"].indexOf(e.position)},_adIsHidden:function(t){var e=t.firstChild;return this._elemIsHidden(t)||this._elemIsHidden(e)},_onItemClick:function(t,e){var n=e.dataItem&&e.dataItem[5]&&e.dataItem[5].linkht;n&&this._sendVisibilityCounter(n),this.__base.apply(this,arguments)},_sendVisibilityCounter:function(t){this._prevVisibilityCounterUrls[t]||(this._prevVisibilityCounterUrls[t]=!0,(new Image).src=t)},_isItemSelectableByKeyboard:function(t){return this.__base.apply(this,arguments)&&!t.getAttribute("data-hidden")}})},877:function(){MBEM.decl({block:"mini-suggest",modName:"history-tune",modVal:"yes"},{_processResponse:function(){var t=this.__base.apply(this,arguments),e=t.some((function(t){return t[5]&&t[5].personal}));if(!this._val&&e&&this.params.historyTuneHref&&this.params.historyTuneText){var n=t[t.length-1];n&&(n[5].next="history-tune"),t.push(["history-tune",this.params.historyTuneText,null,null,this.params.historyTuneHref,{target:"_top"}])}return t},_buildItem:function(t){var e=this.__base.apply(this,arguments);return"history-tune"===t[0]&&(e.attrs["data-text"]="",e.attrs["data-log-type"]="history-tune",e.className+=" mini-suggest__item_extralink"),e}},{itemTypeIsSupported:function(t){return"history-tune"===t||this.__base(t)},itemTypeIsNavigable:function(t){return"history-tune"===t||this.__base(t)}})},4315:function(){MBEM.decl({block:"mini-suggest",modName:"overlay"},{_initOverlay:function(){this._overlay||(this._overlay=this._createOverlay(),this._prepareOverlayParent().appendChild(this._overlay),this.bindTo(this._overlay,"click",(function(){this._opened&&this._closeSuggest()})))},_createOverlay:function(){var t=document.createElement("div");return t.className="mini-suggest__overlay",t},_prepareOverlayParent:function(){}})},3258:function(){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this._historyState=0,this._transitionendEvent=MBEM.transitionendEvent(),this._afterTransition=this._afterTransition.bind(this)},_onDeleteClick:function(t,e){MBEM.cls.add(e,"mini-suggest__item_hidden_yes"),e.addEventListener(this._transitionendEvent,this._afterTransition),setTimeout(function(){this._afterDelete(e)}.bind(this),350),MBEM.ajax(this.params.deleteUrl+MBEM.encodeUriComponent(e.getAttribute("data-text"))),this._historyState+=1},_afterDelete:function(t){var e=t.parentNode;e&&(e.removeChild(t),this._removeItem(t),this._items.length||this._shouldShowEmptyPopup()||this._renderItemsEmpty())},_afterTransition:function(t){this._afterDelete(t.target)},_onPopupClick:function(t){var e=t.target;if(MBEM.cls.contains(e,"mini-suggest__delete")){var n=MBEM.closest(e,"mini-suggest__item_personal_yes");if(n)return void this._onDeleteClick(e,n)}this.__base.apply(this,arguments)},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return t.hs=this._historyState,t},_buildItem:function(t){var e=this.__base.apply(this,arguments);return"fulltext"===t[0]&&t[5]&&t[5].personal&&(e=this._personalExtend(e)),e},_personalExtend:function(t){return t.className+=" mini-suggest__item_personal_yes",t.attrs["data-personal"]=1,t.content.button="delete",t},_getItemEventProps:function(t){var e=this.__base.apply(this,arguments);return e.personal=Boolean(t.getAttribute("data-personal")),e}})},1279:function(){MBEM.decl({block:"mini-suggest",modName:"prevent-empty",modVal:"yes"},{_onEnter:function(){this._val?this.__base.apply(this,arguments):this._opened&&this._closeSuggest()},_onSubmitClick:function(t){this._val?this.__base.apply(this,arguments):(t.preventDefault(),this._opened&&this._closeSuggest())}})},5269:function(){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_onResponse:function(t,e,n){if(this.__base.apply(this,arguments),this._allowReRequest(t,e)){var i=this.params.reRequestTimeout;if(n.duration<i){var o=i-n.duration;clearTimeout(this._reRequestTimeout),this._reRequestTimeout=setTimeout(function(){this._reRequest(o)}.bind(this),o)}else n.duration<10*i&&this._reRequest()}},_request:function(){clearTimeout(this._reRequestTimeout),this.__base.apply(this,arguments)},_reRequest:function(t){MBEM.ajax(this._prepareReRequestUrl(this._val),{successCallback:this._onReResponse.bind(this,this._val,t),ctx:this}),this.trigger("re-request")},_prepareReRequestUrl:function(t){return MBEM.appendUrlParams(this.params.reRequestUrl,this._getMainUrlParams(t))},_onReResponse:function(t,e,n,i){var o=this._processResponse(n),r=t===this._prevRequestText,s=this.params.reRequestMaxLatency;this.trigger("re-response",{data:n,items:o,relevant:r}),r&&o.length&&(!s||(e||0)+i.duration<s)&&(this._renderItems(o,!0),this.trigger("re-popup-update"))},_allowReRequest:function(t){return this._val&&this._val===t},unmount:function(){clearTimeout(this._reRequestTimeout),this.__base.apply(this,arguments)}})},7005:function(){MBEM.decl({block:"mini-suggest",modName:"redesigned-navs",modVal:"yes"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","redesigned-navs","yes")}})},3988:function(){MBEM.decl({block:"mini-suggest",modName:"render-debounce"},{__constructor:function(){this.debounce=null,this.__base.apply(this,arguments)},_renderItems:function(){this.debounce||(this.debounce=MBEM.debounce(this.__base,this.params.renderDebounce||0)),this._spaceCreated?this.__base.apply(this,arguments):this.debounce.apply(this,arguments)}})},9256:function(){MBEM.decl({block:"mini-suggest",modName:"request-debounce"},{__constructor:function(){this.debounce=MBEM.debounce(this._onUpdateSuggest,this.params.requestDebounce||0),this.__base.apply(this,arguments)},_update:function(t){(t||this._prevRequestText!==this._val)&&(this._prevRequestText=this._val,this._spaceCreated?this._onUpdateSuggest():this.debounce.apply(this,arguments))},_onUpdateSuggest:function(){!this.params.skipEmptyRequest||this._val?this._request(this._val,this._onResponse):this._renderItems([])}})},2706:function(){MBEM.decl({block:"mini-suggest",modName:"request"},{_prepareRequestUrl:function(t,e){var n=MBEM.appendUrlParams(this.params.url,this._getMainUrlParams(t));return e&&(n=MBEM.appendUrlParams(n,e)),n}})},6357:function(){MBEM.decl({block:"mini-suggest",modName:"request",modVal:"xhr"},{__constructor:function(){return this._persistentConnections=[],this.__base.apply(this,arguments)},_request:function(t,e,n){for(var i=this,o=MBEM.id();this._persistentConnections.length>=this.params.persistentConnectionsLimit;){var r=this._persistentConnections.shift();if(!r)break;r.abort()}this._persistentConnections.push({id:o,abort:MBEM.ajax(this._prepareRequestUrl(t),{successCallback:e.bind(this,t),errorCallback:n,alwaysCallback:function(){i._persistentConnections=i._persistentConnections.filter((function(t){return t.id!==o}))},ctx:this,timeout:this.params.xhrTimeout})}),this.trigger("request",{text:t})},getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.persistentConnectionsLimit=1/0,t},unmount:function(){this._persistentConnections.forEach((function(t){t.abort()})),this._persistentConnections=[],this.__base.apply(this,arguments)}})},8477:function(){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_setElements:function(){this.__base.apply(this,arguments),this._form=this.domElem,this._input=this.elem("input")[0],this._button=this.elem("button")[0],this._clear=this.elem("input-clear")[0]},_bindHandlers:function(){this.__base.apply(this,arguments),this._clear&&this._handleClick(this._clear,MBEM.eventProxy("_onClearClick",this)),this._button&&this._handleClick(this._button,MBEM.eventProxy("_onSubmitClick",this)),this.bindTo(this._form,"submit",MBEM.eventProxy("_onFormSubmit",this))},_doSubmit:function(){this._simpleCheckMod("submit-exp","yes")&&this._dispatchInternalSubmitEvent(),this._stopInput(),this._dispatchNativeSubmitEvent()},_dispatchInternalSubmitEvent:function(){this.trigger("submit")},_dispatchNativeSubmitEvent:function(){var t=document.createEvent("Event");t.initEvent("submit",!0,!0),!1!==this._form.dispatchEvent(t)?setTimeout(function(){this._form.submit()}.bind(this),0):this._startInput()},_onFormSubmit:function(){this._simpleCheckMod("submit-exp","yes")||this._dispatchInternalSubmitEvent(),this._blurAfterFormSubmit()},_blurAfterFormSubmit:function(){this._closeSuggest()},_onSubmitClick:function(t){t.preventDefault(),this.trigger("button-click"),setTimeout(this._doSubmit.bind(this),0)},_onClearClick:function(){document.activeElement!==this._input&&this._renderItems([]),this._changeText("","clear")},_onItemClick:function(t,e){if(this.__base.apply(this,arguments),this.__self.itemTypeIsSearchable(e.type,e.subtype)){if(e.queryParams)for(var n in e.queryParams)this._appendHiddenInput(n,e.queryParams[n]);setTimeout(function(){this._doSubmit()}.bind(this),0)}},_getItemEventProps:function(t){var e=this.__base.apply(this,arguments),n=this._dataItems[t.getAttribute("data-index")][5];return n&&(e.queryParams=n.queryParams),e},_openSuggest:function(){MBEM.cls.add(document.body,"body_search_yes"),this.__base.apply(this,arguments)},_closeSuggest:function(){MBEM.cls.remove(document.body,"body_search_yes"),this.__base.apply(this,arguments)},reset:function(){this.__base.apply(this,arguments),this._clearHiddenInputs()},_appendHiddenInput:function(t,e){var n=this._form[t];n||((n=document.createElement("input")).type="hidden",n.name=t,n.setAttribute("data-suggest","1"),this._form.appendChild(n)),n.value=e},_clearHiddenInputs:function(){for(var t=this._form.querySelectorAll("input[type=hidden][data-suggest]"),e=0;e<t.length;e++)t[e].remove()}})},6774:function(){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes",modUniqueKey:"common-separate-popup"},{_bindHandlers:function(){this.__base.apply(this,arguments);var t=this._repositionPopup.bind(this);this.bindTo(window,"orientationchange resize",t),this._listenersToUnmount.push((function(){this.unbindFrom(window,"orientationchange resize",t)}))},_createPopup:function(){if(this._popup)return!1;var t=this.__base.apply(this,arguments),e=this.params.popupMods,n=this.params.popupMix;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(!o)continue;MBEM.cls.add(this._popup,"mini-suggest__popup_"+i+(!0===o?"":"_"+o))}if(n)for(var r=0;r<n.length;r++)MBEM.cls.add(this._popup,n[r]);return t},_appendPopup:function(t){(this.params.getPopupContainer&&this.params.getPopupContainer()||document.body).appendChild(t)},_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.top=MBEM.offset(this._input).top+this._input.offsetHeight+this.params.popupOffset+"px")},_showPopup:function(){this.__base.apply(this,arguments),this._repositionPopup()},getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.popupOffset=0,t}})},3763:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._modCache["theme-color"]&&this.setThemeColor(this._modCache["theme-color"])},setThemeColor:function(t){this._updateRootThemeColorClassname(t),this._overlay&&this._updateOverlayThemeColorClassname(t),this._popup&&this._updatePopupThemeColorClassname(t),this._themeColor=t},_updateRootThemeColorClassname:function(t){this._themeColor&&MBEM.cls.remove(this.domElem,this.__self.className("","theme-color",this._themeColor)),t&&MBEM.cls.add(this.domElem,this.__self.className("","theme-color",t))},_updateOverlayThemeColorClassname:function(t){this._themeColor&&MBEM.cls.remove(this._overlay,this.__self.className("overlay","theme-color",this._themeColor)),t&&MBEM.cls.add(this._overlay,this.__self.className("overlay","theme-color",t))},_updatePopupThemeColorClassname:function(t){this._themeColor&&MBEM.cls.remove(this._popup,this.__self.className("popup","theme-color",this._themeColor)),t&&MBEM.cls.add(this._popup,this.__self.className("popup","theme-color",t))},_createOverlay:function(){var t=this.__base.apply(this,arguments);return t&&this._themeColor&&MBEM.cls.add(t,this.__self.className("overlay","theme-color",this._themeColor)),t},_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&this._themeColor&&MBEM.cls.add(t,this.__self.className("popup","theme-color",this._themeColor)),t}})},8244:function(){MBEM.decl({block:"mini-suggest",modName:"type-icon",modVal:"yes"},{_processResponse:function(){var t=this.__base.apply(this,arguments);return t.forEach(this._enrichItem,this),t},_enrichItem:function(t){if(this.__self.itemTypeIsEnrichable(t)){var e=t[5]||{};e.enriched=!0,e.img={"icon-type":"search",size:this._getItemTypeIconSize(t),icon:this._getItemTypeIcon(t)},t[5]=e}},_getItemTypeIcon:function(t){var e=t[5]||{};return e.personal?"personal":e.trend?"trend":t[0]},_getItemTypeIconSize:function(){}},{itemTypeIsEnrichable:function(t){return"fulltext"===t[0]}})},1035:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._prevRequestText=null,this._focused=!1,this._empty=!0,this._opened=!1,this._isShown=!1,this._skipCloseSuggestOnBlur=!1,this._spaceCreated=!1,this._listenersToUnmount=[],this._setElements(),this._syncVal(),this._bindHandlers(),setTimeout(function(){document.activeElement===this._input&&this._onInputFocus()}.bind(this),0)},_setElements:function(){this._input=this.domElem},_bindHandlers:function(){var t=MBEM.eventProxy("_onInputFocus",this),e=MBEM.eventProxy("_onInputBlur",this),n=MBEM.eventProxy("_onInput",this),i=MBEM.eventProxy("_onPageShow",this);if(this.bindTo(this._input,"focus",t).bindTo(this._input,"blur deactivate",e).bindTo(this._input,"input",n),this.on("item-click",MBEM.eventProxy("_onItemClick",this)),9===document.documentMode){var o=function(){document.activeElement===this._input&&this._onInput()};this.bindTo(document,"selectionchange",o),this._listenersToUnmount.push((function(){this.unbindFrom(document,"selectionchange",o)}))}this.bindTo(window,"pageshow",i),this._listenersToUnmount.push((function(){this.unbindFrom(this._input,"focus",t).unbindFrom(this._input,"blur deactivate",e).unbindFrom(this._input,"input",n),this.unbindFrom(window,"pageshow",i)}))},_onInputFocus:function(){this._focused=!0,this._opened||this._openSuggest()},_openSuggest:function(){this._fixScrollTop(),this._update(),this._checkAndShowPopup(),this._opened=!0,this._startInput(),this.trigger("open")},_startInput:function(){this._inputStarted||(this._inputStarted=!0,this.trigger("start-input"))},_stopInput:function(){this._inputStarted=!1},_onBeforeInputChange:function(t){this._spaceCreated="tpah"===t.type||"arrow"===t.type},_onInputBlur:function(){this._focused=!1,!this._opened||this.params.preventCloseOnBlur||this._skipCloseSuggestOnBlur||this._closeSuggest()},_closeSuggest:function(t){this._opened=!1,this._focused&&!t&&this._blur(),this._checkAndHidePopup(),this.trigger("close")},_onInput:function(t){this._input.value!==this._val&&(this._spaceCreated=!1,this._syncVal(),this._focused&&!this._opened&&t?this._openSuggest():this._update(),this.trigger("input-change",{type:"user"}))},_checkAndShowPopup:function(){this._shouldShowPopup()&&this._showPopup()},_shouldShowPopup:function(){return!this._isShown&&(!this._empty||this._shouldShowEmptyPopup())},_showPopup:function(){this._createPopup(),MBEM.cls.add(this.domElem,"mini-suggest_open"),MBEM.cls.add(this._popup,"mini-suggest__popup_visible"),this.trigger("popup-show",{empty:this._empty}),this._isShown=!0},_checkAndHidePopup:function(){this._isShown&&this._hidePopup()},_clearInstance:function(){this._inputStarted=!1,this._prevRequestText=null,this._renderItems([])},resetUserInput:function(t){void 0!==t&&this._setInputVal(t),this._syncVal(),this._opened&&this._closeSuggest()},reset:function(t){this.resetUserInput(t),this._clearInstance()},softReset:function(t){this.resetUserInput(t),this._prevRequestText!==this._val&&this._items&&this._items.length&&this._renderItems([])},_hidePopup:function(){MBEM.cls.remove(this.domElem,"mini-suggest_open"),MBEM.cls.remove(this._popup,"mini-suggest__popup_visible"),this.trigger("popup-hide"),this._isShown=!1},_update:function(t){(t||this._prevRequestText!==this._val)&&(this._prevRequestText=this._val,!this.params.skipEmptyRequest||this._val?this._request(this._val,this._onResponse):this._renderItems([]))},_onResponse:function(t,e,n){var i=this._processResponse(e),o=t===this._prevRequestText;this.trigger("response",{data:e,items:i,url:n.url,duration:n.duration,relevant:o,text:t}),o&&this._renderItems(i)},_processResponse:function(t){return this.params.responseAdapter?this.params.responseAdapter(t):t},_renderItems:function(t,e){this._createPopup(),t.length||this._shouldShowEmptyPopup()?this._renderItemsFilled(t,e):this._renderItemsEmpty(e),this._syncItems(t)},_shouldShowEmptyPopup:function(){return!1},_renderItemsFilled:function(t,e){this._popupContent.innerHTML=this._getItemsHTML(t),e||this.trigger("popup-update",{items:t}),this._empty=!1,this._opened&&this._checkAndShowPopup()},_renderItemsEmpty:function(t){this._popupContent.innerHTML="",t||this.trigger("popup-clear"),this._empty=!0,this._checkAndHidePopup()},_getItemsHTML:function(t){return t.reduce(this._renderItem.bind(this),"")},_renderItem:function(t,e,n){if(this.params.itemRenderer)return t+this.params.itemRenderer(e,n);var i=e[0];if(!this.__self.itemTypeIsSupported(i))return t;var o=this._buildItem(e,n),r=this._buildItemContent(e,o);return o.linkAttrs&&(r=this._wrapItemLink(r,o.linkAttrs)),t+o.prefix+(r?"<"+o.tag+' class="'+o.className+'"'+this.__self.toHtmlAttrsString(o.attrs)+">"+r+"</"+o.tag+">":"")+o.suffix},_buildItem:function(t,e){return{tag:this.params.ignoreSemanticList?"div":"li",className:"mini-suggest__item mini-suggest__item_type_"+t[0],attrs:{"data-index":e,"data-type":t[0]},content:{},prefix:"",suffix:""}},_wrapItemLink:function(t,e){return"<a"+this.__self.toHtmlAttrsString(e)+">"+t+"</a>"},_createPopup:function(){if(this._popup)return!1;var t=this._popup=document.createElement("div");t.className=this._buildPopupClassList();var e=this._popupContent=document.createElement(this.params.ignoreSemanticList?"div":"ul");return e.className="mini-suggest__popup-content",e.setAttribute("role","listbox"),t.appendChild(e),this._appendPopup(t),this._popup},_buildPopupClassList:function(){return"mini-suggest__popup mini-suggest__popup_svg_"+(this.__self.hasSvg()?"yes":"no")},_appendPopup:function(t){MBEM.insertAfter(t,this._input)},_onPopupClick:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");if(e){var n=e.getAttribute("data-text"),i=e.getAttribute("data-type");"tpah"===i?this._handleTpahClick(t,e,n,!0):this.__self.itemTypeIsSearchable(i)?this._changeText(n,"suggest-item",!1,(function(){this._handleCommonItemClick(t,e,i,n)})):this.__self.itemTypeIsNavigable(i)&&this._handleLinkItemClick(t,e,i,n)}},_handleTpahClick:function(t,e,n,i){i=void 0===i||i,this._changeText(n+" ","tpah",i,(function(){var t=0|e.getAttribute("data-index"),i=this._dataItems[t];this.trigger("item-tpah",{itemIndex:t,val:n,dataItem:i})}))},_onItemClick:function(){this.params.resetOnSelect&&(this._renderItems([]),this._prevRequestText=null)},_syncVal:function(){var t=this._val;this._setVal(this._input.value),t!==this._input.value&&this.trigger("input-value-changed")},_syncItems:function(t){this._dataItems=t,this._items=MBEM.arrayFrom(this._popupContent.querySelectorAll(".mini-suggest__item"))},_removeItem:function(t){this._items.splice(this._items.indexOf(t),1)},_setVal:function(t){this._val=t,MBEM.cls.toggle(this.domElem,this.__self.className("","has-value","yes"),Boolean(this._val))},_setInputVal:function(t){this._input.value=t},_changeText:function(t,e,n,i){(n=void 0===n||n)&&this._onBeforeInputChange({type:e}),this._setInputVal(t),this._syncVal(),this._focusInputOnChangeText(n),this._moveCaret(),n&&(this._update(),this.trigger("input-change",{type:e})),i&&i.call(this)},_focusInputOnChangeText:function(){document.activeElement!==this._input&&this._input.focus()},_getMainUrlParams:function(t){var e={svg:this.__self.hasSvg()?1:0,part:t,pos:this._getCaretPosition()};return this._spaceCreated&&(e.space_created=1),this.params.getExtraUrlParams&&(e=MBEM.extend(e,this.params.getExtraUrlParams(t))),e},_getCaretPosition:function(){var t,e=this._val.length;return document.selection?((t=document.selection.createRange()).moveStart("character",-e),t.text.length):"number"==typeof this._input.selectionStart?this._input.selectionStart:e},_moveCaretToEnd:function(){var t=this._val.length;try{if(void 0!==this._input.createTextRange){var e=this._input.createTextRange();e.collapse(!1),e.select()}else"number"==typeof this._input.selectionStart&&(this._input.scrollLeft=999999,this._input.setSelectionRange(t,t))}catch(n){}},_moveCaretToStart:function(){try{this._input.scrollLeft=0,this._input.setSelectionRange(0,0)}catch(t){}},_moveCaret:function(){this._moveCaretToEnd()},_getItemEventProps:function(t,e,n,i,o){var r=0|t.getAttribute("data-index"),s=this._dataItems&&this._dataItems[r],a=s&&s[5]&&s[5].type,c=this.__self.itemTypeIsNavigable(e)&&this._getItemEventUrl(o&&o.event,t);return{node:t,type:e,subtype:a,byKeyboard:Boolean(i),itemIndex:r,val:n||this._val,url:c,dataItem:s}},_getItemEventUrl:function(t,e){return t&&t.target.href||e.href||(e.querySelector(".mini-suggest__item-link")||{}).href},_blur:function(t){var e=this._skipCloseSuggestOnBlur;t&&(this._skipCloseSuggestOnBlur=!0),this._input.blur();try{document.activeElement&&document.activeElement.blur()}catch(n){MBEM.consoleError("No active element")}t&&(this._skipCloseSuggestOnBlur=e)},_handleClick:function(){},_fixScrollTop:function(){window.pageYOffset<1&&(document.body.scrollTop=0)},_handleCommonItemClick:function(t,e,n,i,o){this.trigger("item-click",this._getItemEventProps(e,n,i,"keyboard"===o,{event:t}))},_handleLinkItemClick:function(t,e,n,i,o){this._touchClick(t)||this._handleCommonItemClick(t,e,n,i,o),this._stopInput()},_touchClick:function(t,e){return!("touchend"!==t.type||!t.defaultPrevented||((e||t.target).click(),0))},_onPageShow:function(t){t.persisted&&this._onBFCache()},_onBFCache:function(){this.reset()},unmount:function(){var t=this;this._listenersToUnmount.forEach((function(e){e.call(t)}))}},{hasSvg:function(){return 1},toHtmlAttrsString:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=" "+n+'="'+String(t[n]).replace(/"/g,"&quot;")+'"');return e},itemTypeIsSupported:function(t){return["fulltext","tpah","nav","fact"].indexOf(t)>-1},itemTypeIsNavigable:function(t){return"nav"===t},itemTypeIsSearchable:function(t){return["fulltext","fact"].indexOf(t)>-1},itemTypeIsEnrichable:function(){return!1}})},4764:function(){MBEM.decl("mini-suggest",{_selectItem:function(t){this.__base.apply(this,arguments),this._input.setAttribute("aria-activedescendant",t.id),t.setAttribute("aria-selected",!0)},_unselectAll:function(){if(this.__base.apply(this,arguments),this._popup){var t=this._input.getAttribute("aria-activedescendant");if(t){this._input.setAttribute("aria-activedescendant","");var e=document.getElementById(t);e&&e.setAttribute("aria-selected",!1)}}}})},849:function(){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_handleReResponse:function(t,e){this.__base.apply(this,arguments),e.relevant&&e.items.length&&(this._meta=e.data[2]||{})}})},8946:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._enableCounterSrc=this.params.counter&&this.params.counter.src},_handleItemClick:function(t,e){this.__base.apply(this,arguments),!this._enableCounterSrc||"fulltext"!==e.type&&"fact"!==e.type||this._attachSrc()},_handleButtonClick:function(){this.__base.apply(this,arguments),this._enableCounterSrc&&this._attachSrc()},_attachSrc:function(){if(this._path.index>0&&this._meta[this.__self.metaProps.log]){var t=this._meta[this.__self.metaProps.log].match(/(sgtype:){0}([A-Z][a-z]*)/g),e=t&&t[this._path.index-1];e&&this._appendHiddenInput("src","suggest_"+e)}}})},5752:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("item-select",this._handleItemSelect,this)},_handleItemSelect:function(t,e){e.personal?this._path.personal="nah_used":"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._changePathState("keyboard")&&(this._path.index=e.itemIndex+1),++this._ratio.actionsCount},_handleItemClick:function(){this._responses.clks++,this.__base.apply(this,arguments)}})},5607:function(){MBEM.decl("mini-suggest",{getItemIterator:function(){var t,e,n,i=this;function o(){t=i._items||[],e=i._selectedItem,n={index:e,item:t[e]}}function r(t,e){var n=t.length+1;e<0&&(e+=n*Math.ceil(Math.abs(e)/n));var i=e%n;return t[i]?{index:i,item:t[i]}:{index:-1,item:void 0}}function s(n){var o="top"===n,s=t.length,a=0,c=void 0;do{a++,c=r(t,e+(o?-1:1)*a)}while(a<s&&-1!==c.index&&(!c.item||!i._isItemSelectableByKeyboard(c.item)));return c}function a(t){return-1===t.index||i._isItemSelectableByKeyboard(t.item)?t:n}return{getNextFromTop:function(){return o(),a(s("top"))},getNextFromBottom:function(){return o(),a(s("bottom"))},getNextFromRight:function(){return o(),n},getNextFromLeft:function(){return o(),n}}}})},1457:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val,this._keyboardItemIterator=null},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"keydown",MBEM.eventProxy("_onKeydown",this)).bindTo(this._input,"keypress",MBEM.eventProxy("_onKeypress",this)).bindTo(this._input,"click",MBEM.eventProxy("_onInputFocus",this)),this.on("input-change",MBEM.eventProxy("_onInputChange",this))},_onInputChange:function(t,e){this._keyboardSelectedItem=-1,"select"!==e.type&&"unselect"!==e.type&&(this._keyboardStartValue=this._val)},_openSuggest:function(){this.__base.apply(this,arguments),this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val},_isItemSelectableByKeyboard:function(t){return t.parentNode&&0!==t.childNodes.length},getItemIterator:function(){return MBEM.debugEnabled&&MBEM.consoleError("Error on desktop.blocks/.../mini-suggest__keyboard :\n need to override getItemIterator"),{getNextFromTop:function(){},getNextFromBottom:function(){},getNextFromRight:function(){},getNextFromLeft:function(){}}},_syncItems:function(){this.__base.apply(this,arguments),Array.isArray(this._items)?this._keyboardItemIterator=this.getItemIterator():MBEM.debugEnabled&&MBEM.consoleError("Error on desktop.blocks/.../mini-suggest__keyboard :\n _items not array \n items type: "+typeof this._items)},isAllowedMoveCursor:function(t){var e=this.__self.keyboardCodes;return-1!==[e.arrowLeft,e.arrowRight].indexOf(t.which)},_onKeydown:function(t){var e=this.__self.keyboardCodes,n=[e.arrowUp,e.arrowDown,e.arrowLeft,e.arrowRight];if(this._popupContent&&this._isShown&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&-1!==n.indexOf(t.which)&&this._keyboardItemIterator){this.isAllowedMoveCursor(t)||t.preventDefault();var i=void 0;switch(t.which){case e.arrowUp:i=this._keyboardItemIterator.getNextFromTop();break;case e.arrowDown:i=this._keyboardItemIterator.getNextFromBottom();break;case e.arrowLeft:i=this._keyboardItemIterator.getNextFromLeft();break;case e.arrowRight:i=this._keyboardItemIterator.getNextFromRight()}var o=i&&i.index<0;i&&this._selectedItem!==i.index&&(o?this._unselectAll(!0):this._selectItem(i.item,i.index,!0))}t.which===e.esc&&this._opened&&this._closeSuggest(!0)},_onKeypress:function(t){var e=this.__self.keyboardCodes;if(t.which===e.enter){var n=this._keyboardSelectedItem>-1&&this._items[this._keyboardSelectedItem];if(t.preventDefault(),n){var i=n.getAttribute("data-type"),o=n.getAttribute("data-text");"tpah"===i?(this._handleTpahClick(t,n,o,!1),this._onEnter()):this._handleCommonItemClick(t,n,i,null,"keyboard")}else this._onEnter()}},_onEnter:function(){this.trigger("input-enter"),this._doSubmit()},_selectItem:function(t,e,n){if(this.__base.apply(this,arguments),this._selectedItem=void 0===e?this._items.indexOf(t):e,n){var i=t.getAttribute("data-type"),o=t.getAttribute("data-text");this._keyboardSelectedItem=this._selectedItem,this._changeText(o,"select",!1),this.trigger("item-select",this._getItemEventProps(t,i,o,!0),!0)}else this._keyboardSelectedItem=-1},_renderItems:function(){this.__base.apply(this,arguments),this._unselectAll()},_unselectAll:function(t){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1,t&&this._changeText(this._keyboardStartValue,"unselect",!1)},_onItemClick:function(t,e){this.__base.apply(this,arguments),this.__self.itemTypeIsNavigable(e.type)&&e.byKeyboard&&this._openLinkByKeyboard(e)},_openLinkByKeyboard:function(t){var e=t.node.querySelector(".mini-suggest__item-link"),n=e.getAttribute("target"),i=e.getAttribute("href");if("_self"===n)setTimeout((function(){window.location=i}),0);else{var o=window.open("",n);o.opener=null,o.location=i}}},{keyboardCodes:{enter:13,esc:27,arrowUp:38,arrowDown:40,arrowLeft:37,arrowRight:39}})},4633:function(){MBEM.decl("mini-suggest",{_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&(this._handleClick(this._popup,MBEM.eventProxy("_onPopupClick",this)),this.bindTo(this._popup,"mouseover",MBEM.eventProxy("_onMouseover",this)).bindTo(this._popup,"mouseout",MBEM.eventProxy("_onMouseout",this))),t},_isItemHoverable:function(t){return!0},_onMouseover:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");e&&this._isItemHoverable(e)&&this._selectItem(e)},_onMouseout:function(t){MBEM.closest(t.target,"mini-suggest__item")&&this._unselectAll()},_handleClick:function(t,e){return this.bindTo(t,"mousedown",(function(t){t.preventDefault()})).bindTo(t,"click",(function(t){!t.button&&e&&e.call(this,t)})),this}})},2455:function(){MBEM.decl({block:"mini-suggest",modName:"redesigned-navs",modVal:"yes"},{_buildItemContentTitle:function(t,e){return e.content.title},_buildItemContentSubtitleWarning:function(t,e){return e.content.age||this.__base.apply(this,arguments)}})},8818:function(){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),n=t[5];if(n&&this._isDirect(n)){var i=e.content;i.descr=this._buildDirectLabel(n,e),n&&!n.warn&&n.age&&(i.age='<div class="mini-suggest__item-warning mini-suggest__item-warning_type_age">'+MBEM.encode(n.age)+"</div>"),i.warn=n.ad?"":this._buildDirectWarning(n,e,!0)}return e},_buildItemContentTitle:function(t,e){return this.__base.apply(this,arguments)+(e.content.age||"")},_buildDirectLabel:function(){return'<span class="mini-suggest__item-label">'+MBEM.encode(this.params.direct.label)+"</span>"}})},7784:function(){MBEM.decl({block:"mini-suggest",modName:"entity-suggest",modVal:"yes"},{_needFavicon:function(t){return this.__base.apply(this,arguments)&&"entity"!==t[5].type},_shouldAddContentInfoArrow:function(t){return this.__base.apply(this,arguments)&&"entity"!==t[5].type}})},1331:function(){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return this._needFavicon(t)&&(e.content.thumb=""),e},_buildItemContentInfo:function(t){var e=this.__base.apply(this,arguments);if(this._needFavicon(t)&&this._shouldAddFaviconToContentInfo(t)){var n=t[5]&&t[5].img&&t[5].img.url||this._buildFaviconUrl(t[3]);e=this._buildFavicon(n)+e}return e},_needFavicon:function(t){return"nav"===t[0]&&"market"!==t[5].type&&"video"!==t[5].type},_shouldAddFaviconToContentInfo:function(){return!0}})},3544:function(){MBEM.decl({block:"mini-suggest",modName:"grouping",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),n=t[5],i=this._groups[n.groupIndex]||{};return n.groupStart&&(e.prefix+=this._buildGroupStart(i)+this._buildGroupHeader(i)),n.groupEnd&&(e.suffix+=this._buildGroupEnd(i)),e},_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","grouping","yes")},_builGroupClassName:function(t){var e="mini-suggest__group";return t.type&&(e+=" mini-suggest__group_type_"+t.type),t.separated&&(e+=" mini-suggest__group_layout_separated"),e},_buildGroupStart:function(t){return'<div class="'+this._builGroupClassName(t)+'" role="presentation">'},_buildGroupHeader:function(t){return t.title?'<div class="mini-suggest__group-title">'+MBEM.encode(t.title)+"</div>":""},_buildGroupEnd:function(){return"</div>"}})},8907:function(){MBEM.decl({block:"mini-suggest",modName:"inversed-highlight",modVal:"yes"},{_highlight:function(t,e){return MBEM.reverseHl(t,e,!this._prevRequestText,Boolean(this.params.expandHighlightByWord))}})},5654:function(){MBEM.decl("mini-suggest",{_shouldAddContentInfoArrow:function(t){return this.__base.apply(this,arguments)||t[5]&&"mt"===t[5].type}})},6115:function(){MBEM.decl({block:"mini-suggest",modName:"redesigned-navs",modVal:"yes"},{_shouldAddFaviconToContentInfo:function(){return!1},_shouldNavBeRedesigned:function(t){return this._needFavicon(t)}})},5504:function(){MBEM.decl("mini-suggest",{_buildItemContentMain:function(t,e){var n=this._buildItemContentTitle(t,e),i=this._buildItemContentInfo(t,e)+this._buildItemContentAdds(t,e)+this._buildItemContentButton(t,e)+this._buildItemContentSubtitleWarning(t,e);return this._shouldWrapItemTitle(t)&&(n&&(n='<span class="mini-suggest__item-title">'+n+"</span>"),i&&t[5]&&!t[5].inline&&(i='<div class="mini-suggest__item-subtitle">'+i+"</div>")),n+i},_buildItemContentInfo:function(t,e){var n=this.__base.apply(this,arguments),i="";return this._shouldAddContentInfoArrow(t)&&(i+='<span class="mini-suggest__item-info-arrow"></span>'),i+=e.content.icon||"",n&&(i+='<span class="mini-suggest__item-info">'+n+"</span>"),i},_shouldAddContentInfoArrow:function(t){return t[5]&&t[5].inline&&"fact"===t[0]&&!t[5].icon},_buildItemContentSubtitleWarning:function(){return""}})},1385:function(){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments);return t[5]&&t[5].hl&&(e.content.title=this._highlight(t[1],t[5].hl)),t[5]&&t[5].inline&&(e.className+=" mini-suggest__item_inline"),e},_highlight:function(t,e){return MBEM.hl(t,e)}})},780:function(){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return this._shouldAddItemArrow(t)&&(e=this._addArrow(t,e)),e},_shouldAddItemArrow:function(t){return("fulltext"===t[0]||"fact"===t[0])&&t[5]&&!t[5].personal&&"phone"!==t[5].type}})},3939:function(){var t;t=[{width:112,height:16,ratio:.08,name:"medical"},{width:105,height:41,ratio:.1,name:"dietary"}],MBEM.decl({block:"mini-suggest",modName:"direct-special-warn",modVal:"yes"},{_getSpecialWarnParams:function(e){return t[e-1]},_adjustSpecialWarnSize:function(t,e){var n=MBEM.closest(t,"mini-suggest__item");if(n){var i=n.querySelector(".mini-suggest__item-content"),o=n.getBoundingClientRect(),r=i.getBoundingClientRect(),s=o.height,a=o.width,c=r.height,u=e.width/e.height,l=s*a,h=Math.sqrt(e.ratio*l/u),d=h*u;h>c&&(h=c,d=l*e.ratio/h),i.style.paddingRight=Math.ceil(d)+12+"px",t.style.height=Math.ceil(h)+"px";var p=n.offsetWidth-a;if(p>1){var f=d-p,m=h*d;d=(m-h*f)/(h-s*m/l)+f,i.style.paddingRight=Math.ceil(d)+12+"px"}t.style.width=Math.ceil(d)+"px",t.style.top=r.top-o.top+(c-h)/2+"px",t.style.right=o.right-r.right+"px"}}})},8045:function(){MBEM.decl({block:"mini-suggest",modName:"entity-suggest",modVal:"yes"},{_shouldProcessRawItem:function(t){return this.__base.apply(this,arguments)&&!(t[5]&&"entity"===t[5].type)},_shouldAddItemArrow:function(t){return this.__base.apply(this,arguments)&&!(t[5]&&"entity"===t[5].type)}})},3698:function(){MBEM.decl({block:"mini-suggest",modName:"grouping",modVal:"yes"},{__constructor:function(){this.params.ignoreSemanticList=!0,this._groups=[],this.__base.apply(this,arguments)},_processResponse:function(){var t=this.__base.apply(this,arguments);this._groups=[];for(var e=0;e<t.length;e++){var n=t[e];if("group"===n[0]){var i=this._processGroup(n);i&&(t.splice.apply(t,[e,1].concat(i)),e+=i.length-1)}else{var o=t[e-1],r=t[e+1],s=!o||o[5].groupEnd,a=!r||"group"===r[0];this._processGroupItem(n,-1,s,a)}}return t},_processGroup:function(t){if(t[6].length)return t[5].title=t[1],this._groups.push(t[5]),t[6].forEach(function(t,e,n){this._processGroupItem(t,this._groups.length-1,0===e,e===n.length-1)}.bind(this)),t[6]},_processGroupItem:function(t,e,n,i){return t[5]=t[5]||{},t[5].groupIndex=e,n&&(t[5].groupStart=!0),i&&(t[5].groupEnd=!0),t}})},2584:function(){MBEM.decl({block:"mini-suggest",modName:"overlay"},{__constructor:function(){var t=this.__base.apply(this,arguments);return this._initOverlay(),t},_openSuggest:function(){this.__base.apply(this,arguments),this._initOverlay(),MBEM.cls.add(this._overlay,"mini-suggest__overlay_visible")},_closeSuggest:function(){this.__base.apply(this,arguments),this._overlay&&MBEM.cls.remove(this._overlay,"mini-suggest__overlay_visible")},_prepareOverlayParent:function(){return this.domElem}})},518:function(){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return"fact"===t[0]&&t[5]&&t[5].personal&&(e=this._personalExtend(e)),e},_removeItem:function(){this.__base.apply(this,arguments),this._selectedItem=this._items.indexOf(this._popupContent.querySelector(".mini-suggest__item_selected_yes"))}})},9046:function(){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_allowReRequest:function(t,e){return this.__base.apply(this,arguments)&&e[2]&&e[2].maybe_ads}})},2897:function(){MBEM.decl({block:"mini-suggest",modName:"large-thumbs",modVal:"yes"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","large-thumbs","yes")}})},3188:function(){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_processResponse:function(t){var e=this,n=this.__self.hasSvg()?"svg":"png";return t[1].map((function(t){if(!e._shouldProcessRawItem(t))return t;if("string"==typeof t)return["fulltext",t,t,null,null,{}];if("string"==typeof t[0]&&t[0].length){if("weather"===t[0]||"traffic"===t[0]){var i=t[5]||t[4];return["fact",t[1],t[1],t[2],null,{type:t[0],inline:!0,icon:{size:"l",url:"//yastatic.net/suggest-flag-icons/icon."+t[0]+"."+t[3].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")+"."+n},hl:i&&i.hl,log:i&&i.log,personal:i&&Boolean(i.pers)}]}return"fact"===t[0]||"mt"===t[0]?["fact",t[1],t[1],t[2],null,{type:"fact"!==t[0]?t[0]:"",inline:!0,icon:t[3]&&t[3].icon,hl:t[3]&&t[3].hl,personal:t[3]&&Boolean(t[3].pers),log:t[3]&&t[3].log}]:"icon"===t[0]?["fact",t[1],t[1],t[2]&&t[2].fact||null,null,{inline:!0,hl:t[2]&&t[2].hl,icon:{url:t[2].icon.filter((function(t){return t[0]===n}))[0][1]},personal:t[2]&&Boolean(t[2].pers),log:t[2]&&t[2].log}]:t}return["fulltext",t[1],t[1],null,null,{hl:t[2]&&t[2].hl,personal:t[2]&&Boolean(t[2].pers),trend:t[2]&&Boolean(t[2].trend)}]}))},_shouldProcessRawItem:function(t){return!("fact"===t[0]&&t[5]&&"phone"===t[5].type)}})},3042:function(){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.width=this._input.offsetWidth+"px",this._popup.style.left=MBEM.offset(this._input).left+"px")}})},9629:function(){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_theme_tile"}})},4062:function(){MBEM.decl({block:"mini-suggest",modName:"type-icon",modVal:"yes"},{_getItemTypeIconSize:function(){return"s"}},{itemTypeIsEnrichable:function(t){var e=t[0],n=t[5]||{};return this.__base.apply(this,arguments)||!n.img&&"fact"===e}})},7253:function(){MBEM.decl("mini-suggest",{_update:function(){this._unselectAll(),this.__base.apply(this,arguments)},_selectItem:function(t){this._unselectAll(),MBEM.cls.add(t,"mini-suggest__item_selected_yes")},_unselectAll:function(){if(this._popup){var t=this._popupContent.querySelectorAll(".mini-suggest__item_selected_yes");MBEM.arrayFrom(t).forEach((function(t){MBEM.cls.remove(t,"mini-suggest__item_selected_yes")}))}}})},810:function(){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_canCheckAdVisibility:function(){return this.__base.apply(this,arguments)&&this._hasUserActivasion}})},2336:function(){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{__constructor:function(){this._freezeFocus=0,this.__base.apply(this,arguments)},_onClearClick:function(){this._freezeFocus=Date.now()+500,this.__base.apply(this,arguments)},_onInputBlur:function(){Date.now()<this._freezeFocus?this._input.focus():this.__base.apply(this,arguments)},_blur:function(){this._freezeFocus=0,this.__base.apply(this,arguments)}})},1994:function(){MBEM.decl("mini-suggest",{},{hasSvg:function(){return-1!==document.documentElement.className.indexOf("svg_yes")}})},4664:function(){MBEM.decl({block:"mini-suggest",modName:"redesigned-navs",modVal:"yes"},{_getRedesignedNavFaviconRenderSize:function(){return".888em"}})},5244:function(){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_repositionPopup:function(){if(this._popup){var t=MBEM.offset(this.domElem);this._popup.style.width=this.domElem.offsetWidth+"px",this._popup.style.left=t.left+"px",this._popup.style.top=t.top+this.domElem.offsetHeight+this.params.popupOffset+"px"}}})},49:function(){MBEM.decl({block:"mini-suggest",modName:"type-icon",modVal:"yes"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","type-icon","yes")}})},6552:function(){MBEM.decl("mini-suggest",{_handleClick:function(t){return this.__base.apply(this,arguments).bindTo(t,"mousedown",(function(){this._freezeFocus=Date.now()+1e3})),this}})},5543:function(){MBEM.decl({block:"mini-suggest",modName:"hide-on-scroll",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),MBEM.channel("i-scroll-event").on("scroll",this._onScroll,this)},_onScroll:function(t,e){this._focused&&(null!==this._latestScrollTop&&e>this._latestScrollTop&&MBEM.offset(this.domElem).top+this.domElem.offsetHeight+(this._popup&&this._popup.offsetHeight||0)+100<window.pageYOffset?this._blur():this._latestScrollTop=e)}})},9838:function(){MBEM.decl({block:"mini-suggest",modName:"redesign-type"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","redesign-type",this._modCache["redesign-type"])}})},2526:function(){MBEM.decl({block:"mini-suggest",modName:"redesign-type",modVal:"block"},{_processResponse:function(t){for(var e=0,n=0;n<t[1].length&&"nav"===t[1][n][0];n++)e=n+1;return e>0&&(t[1]=[["group","",null,null,null,{separated:!0},t[1].slice(0,e)]].concat(t[1].slice(e))),this.__base(t)}})},9907:function(){function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){c=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(c)throw s}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var n=function(e,n){var i,o=t(e);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(n>=r.height)return r.url}}catch(s){o.e(s)}finally{o.f()}return e[e.length-1].url};MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.urlsByViewportHeight&&this.params.urlsByViewportHeight.length&&(this._updateRequestUrlParam(),this._throttledUpdateRequestUrlParam=MBEM.throttle(MBEM.eventProxy("_updateRequestUrlParam",this),200),this.bindTo(window,"resize",this._throttledUpdateRequestUrlParam))},_updateRequestUrlParam:function(){var t=window.innerHeight;this.params.urlsByViewportHeight&&this.params.urlsByViewportHeight.length&&(this.params.url=n(this.params.urlsByViewportHeight,t)),this.params.reRequestUrl&&this.params.reRequestUrlsByViewportHeight&&this.params.reRequestUrlsByViewportHeight.length&&(this.params.reRequestUrl=n(this.params.reRequestUrlsByViewportHeight,t))},unmount:function(){this.__base.apply(this,arguments),this._throttledUpdateRequestUrlParam&&this.unbindFrom(window,"resize",this._throttledUpdateRequestUrlParam)}})},2308:function(){MBEM.page="home"},5166:function(){!function(){"use strict";var t,e,n="requestAnimationFrame"in window,i=MBEM.channel("i-mini-scroll-to"),o={easeInOutSine:function(t){return.5-Math.cos(t*Math.PI)/2},easeOutQuad:function(t){return 1-(1-t)*(1-t)}},r=function(){t=null,n?cancelAnimationFrame(e):clearInterval(e)},s=function o(){if(t){var s=Math.max(0,Math.min(1,(Date.now()-t.startTime)/t.duration)),a=t.start+(t.end-t.start)*t.easing(s);window.scrollTo(window.pageXOffset,a),s>=1?(r(),setTimeout((function(){i.trigger("stop")}),100)):n&&(e=requestAnimationFrame(o))}else r()};MBEM.decl("i-mini-scroll-to",{},{scrollY:function(a,c,u){r(),i.trigger("start"),c?function(i,r,a){t={start:window.pageYOffset,end:i,duration:r,startTime:Date.now(),easing:o[a]||o.easeInOutSine},e=n?requestAnimationFrame(s):setInterval(s,13)}(a,c,u):(window.scrollTo(window.pageXOffset,a),setTimeout((function(){i.trigger("stop")}),100))}})}()},4499:function(){MBEM.decl("mini-suggest",{_handleSubmit:function(){this.__base.apply(this,arguments),this._log("click","search_go.enter")},_handleItemClick:function(t,e){this.__base.apply(this,arguments),this._log("click","search_go.suggest."+e.type)}})},6568:function(){function t(t){return t.some((function(t){var e;return null===(e=t[5])||void 0===e?void 0:e.personal}))}MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.on("popup-show",this._mordaPopupShown),this.on("popup-update",this._mordaPopupUpdate),this.on("item-click",this._mordaHandleItemClick)},_mordaPopupShown:function(){this._dataItems&&t(this._dataItems)&&this.params.logPath("show","suggest_history")},_mordaPopupUpdate:function(e,n){this._isShown&&t(n.items)&&this.params.logPath("show","suggest_history")},_mordaHandleItemClick:function(t,e){e.personal&&this.params.logPath("click","suggest_history",{callback:function(){}})}})},3450:function(){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("695.1309"),this.params.requestOnEmptyInput&&setTimeout(function(){this._val||this._update()}.bind(this)),this._changeTheme=this._changeTheme.bind(this),document.addEventListener("skin-changed",this._changeTheme),this._changeTheme(),this.on("submit",(function(){this._formSubmitted=!0}))},_getNavSource:function(){return"/"},_onInputFocus:function(){var t=this._focused;this.__base.apply(this,arguments),t||this._log("click","search_input.focus"),this._formSubmitted=!1,"undefined"!=typeof BEM&&BEM.channel("mini-suggest").trigger("focus")},_onInputBlur:function(){this.__base.apply(this,arguments),this._focused||this._formSubmitted||this._log("click","search_input.blur"),"undefined"!=typeof BEM&&BEM.channel("mini-suggest").trigger("blur")},_changeTheme:function(){this._isDarkTheme=MBEM.cls.contains(document.documentElement,"document_dark_yes")&&!MBEM.cls.contains(this.domElem,"force_light"),this.setThemeColor(this._isDarkTheme?"dark":"")},_onResponse:function(t){this.__base.apply(this,arguments),t===this._prevRequestText&&MBEM.cls.toggle(this._popup,"mini-suggest__popup_has-value_yes",Boolean(t))},_log:function(t,e){this.params.logPath(t,e)},_showPopup:function(){this.__base.apply(this,arguments),this._log("show","suggest")},unmount:function(){this.__base.apply(this,arguments),document.removeEventListener("skin-changed",this._changeTheme)}})},7751:function(){MBEM.decl("mini-suggest",{_getParams:function(t){return Object.keys(t).reduce((function(e,n){return""===t[n]||e.push(n+"="+("vars"===n?t[n]:encodeURIComponent(t[n])).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e}),[])},_getParamsList:function(){var t,e,n=this.__base.apply(this,arguments),i=this.params.getCustomPageParams(),o={};if(window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("153.1896"),i){for(var r=0,s=(i=i.replace(/^\//,"").split("/")).length;r<s;r++)t=(e=i[r]).indexOf("="),o[e.substr(0,t)]=e.substr(t+1,e.length);var a=this.params.getRoot(),c=home.getData?home.getData("timing.reqid"):"";return a&&(o.lid=a+".searchgo"),c&&(o.sid=c),n.concat(o)}return n}})},7092:function(){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"yaru"},{_appendPopup:function(t){var e=this.elem("popup-container")[0];if(!e)return this.__base.apply(this,arguments);e.appendChild(t)}})},1641:function(){MBEM.decl({block:"mini-suggest",modName:"type-icon",modVal:"yes"},{_buildPopupClassList:function(){return this.__base.apply(this,arguments)+" "+this.__self.className("popup","type-icon","yes")}})},1574:function(){MBEM.decl("mini-suggest",{_bindHandlers:function(){this.__base.apply(this,arguments),$(this._input).on("customInput",MBEM.eventProxy("_onInput",this))}})},5633:function(){MBEM.decl("mini-suggest",{__constructor:function(){var t=this;this.__base.apply(this,arguments),this.on("popup-show",(function(){MBEM.channel("mini-suggest").trigger("show")})),this.on("popup-hide",(function(){MBEM.channel("mini-suggest").trigger("hide")})),this.on("input-change",(function(){MBEM.channel("mini-suggest").trigger("input-change",t._val)})),this.on("start-input",(function(){MBEM.channel("mini-suggest").trigger("start-input")}))},_bindHandlers:function(){this.__base.apply(this,arguments),$(this._input).on("input",MBEM.eventProxy("_onInput",this))},_openSuggest:function(){this.__base.apply(this,arguments),MBEM.channel("mini-suggest").trigger("focus")},openSuggest:function(){this._hasUserActivasion=!0,this._input.focus()},_createPopup:function(){var t,e,n,i,o=this.__base.apply(this,arguments);return null!==(t=this.domElem)&&void 0!==t&&null!==(e=t.classList)&&void 0!==e&&e.contains("force_light")&&(null===(n=this._popup)||void 0===n||null===(i=n.classList)||void 0===i||i.add("force_light")),o}})}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}!function(){"use strict";n(5454),n(2308),n(2696),n(4376),n(8495),n(6384),n(3308),n(669),n(2323),n(513),n(539),n(5881),n(8945),n(2586),n(4364),n(7199),n(547),n(418),n(8937),n(273),n(8248),n(6237),n(6116),n(7344),n(685),n(1035),n(1994),n(3450),n(7253),n(6552),n(5633),n(2707),n(7020),n(5136),n(9002),n(4175),n(4315),n(2584),n(3763),n(1457),n(5607),n(4633),n(6231),n(4499),n(5752),n(3542),n(5369),n(7751);var t=function(t){return Boolean(t&&(t instanceof HTMLElement||t instanceof SVGElement))};MBEM.decl("mini-suggest",{_bindHandlers:function(){var e=this;this.__base.apply(this,arguments),this._handleClick(this.elem("action"),(function(n){for(var i=n.target;t(i)&&i!==document.body&&!("string"==typeof i.className&&i.className.indexOf("mini-suggest__action")>-1);)i=i.parentNode;if(t(i)){var o=i.getAttribute("data-action");o&&e.trigger("action",{type:o})}}))}}),n(233),n(4764),n(3369),n(8946),n(2647),n(9724),n(849),n(9770),n(8430),n(2346),n(4793),n(8978),n(1385),n(9544),n(6193),n(5504),n(2343),n(1331),n(9757),n(6115),n(4664),n(5654),n(211),n(8907),n(5636),n(8818),n(1130),n(7842),n(6568),n(1279),n(5269),n(9046),n(5543),n(5166),n(1574),n(3988),n(9256),n(6774),n(3042),n(2706),n(6357),n(3258),n(518),n(8477),n(2336),n(3188),n(785),n(810),n(7251),n(780),n(9629),n(5244),n(877),n(7092),n(2623),n(8045),n(2270),n(7784),n(6941),n(8244),n(4062),n(49),n(1641),n(2455),n(7005),n(2897),n(9907),n(3544),n(3698),n(9838),n(2526),n(2884),n(5285),n(3939)}()}(),window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&Ya.Rum.timeEnd("2095")},3526:function(){BEM.DOM.decl({block:"popup2",modName:"tablo-add-popup",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._paranja=document.querySelector(".popup2__paranja")}},visible:{yes:function(){this.__base.apply(this,arguments),this._paranja&&this._paranja.classList.add("popup2__paranja_visible_yes")},"":function(){this.__base.apply(this,arguments),this._paranja&&this._paranja.classList.remove("popup2__paranja_visible_yes")}}}})},3025:function(){BEM.DOM.decl({block:"popup2",modName:"tablo-context-popup",modVal:"yes"},{onSetMod:{visible:{yes:function(){var t=this;this.__base.apply(this,arguments),this.bindToWin("resize",(function(){t.delMod("visible")}))},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("resize")}}},setTargetNode:function(t){if(!t)return"";var e=t.getBoundingClientRect(),n=e.top,i=e.right,o=n+window.scrollY,r=document.body.clientWidth-(i+window.scrollX),s="top: ".concat(o,"px; right: ").concat(r,"px;");this.domElem.attr("style",s)}})}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return i[t](n,n.exports,r),n.exports}r.m=i,r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return{keyboard:"c6","voice-search":"b3"}[t]+"/"+{keyboard:"c6e284ce433e8c78d7d2","voice-search":"b32c234971e1fc621a7b"}[t]+".js"},r.miniCssF=function(t){return"newtab-lite.ru"===t?"../_newtab-lite.css":{keyboard:"ca","voice-search":"42"}[t]+"/"+{keyboard:"caff702614d936ed4773","voice-search":"42837d7547d5f175cda2"}[t]+".css"},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},r.l=function(e,n,i,o){if(t[e])t[e].push(n);else{var s,a;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e){s=l;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=e,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),t[e]=[n];var h=function(n,i){s.onerror=s.onload=null,clearTimeout(d);var o=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(i)})),n)return n(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p="https://yastatic.net/s3/home-static/_/",e=function(t){return new Promise((function(e,n){var i=r.miniCssF(t),o=r.p+i;if(function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var o=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===t||o===e))return s}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){var s;if((o=(s=r[i]).getAttribute("data-href"))===t||o===e)return s}}(i,o))return e();!function(t,e,n,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(r){if(o.onerror=o.onload=null,"load"===r.type)n();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,o.parentNode.removeChild(o),i(c)}},o.href=e,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}(t,o,e,n)}))},n={"newtab-lite.ru":0},r.f.miniCss=function(t,i){n[t]?i.push(n[t]):0!==n[t]&&{keyboard:1,"voice-search":1}[t]&&i.push(n[t]=e(t).then((function(){n[t]=0}),(function(e){throw delete n[t],e})))},function(){var t={"newtab-lite.ru":0};r.f.j=function(e,n){var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(n,o){i=t[e]=[n,o]}));n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,(function(n){if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=function(e,n){var i,o,s=n[0],a=n[1],c=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)c(r)}for(e&&e(n);u<s.length;u++)o=s[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";r(6828),r(7026),r(436),r(9793),r(1952),r(9666),r(3959),r(5e3),r(7062);var t=r(8086),e=r(234);MBEM.decl("mini-suggest",{__constructor:function(){this.params.logPath=e.DF,this.params.logDOMShow=e.Dn,this.params.logError=t.H,this.params.getCustomPageParams=e.ek,this.params.getRoot=e.yj,this.__base.apply(this,arguments)}});var n=r(44);home.logBanner||(home.logBanner=function(){var t=(0,n.Yu)("banner.logs")||[],e=!1,i=Date.now(),o=window.performance&&window.performance.now,r=function(t){console.log(t.time+"s",t.action,t.params)},s=o?function(){return Math.round(performance.now()/100)/10}:function(){return Math.round((Date.now()-i)/100)/10};home.logBanner={showLogs:function(){e=!0;for(var n=0;n<t.length;n++)r(t[n])},hideLogs:function(){e=!1},log:function(n){n&&(n.time=s(),t.push(n),e&&r(n))},setLogFunc:function(t){r=t}}},(0,n.Yu)("banner.logsEnable")&&home.logBanner());r(2649);!function(){var e=(0,n.Yu)("adb.data");if(e){var i,o,r=e.domain,s=e.sameSiteSupport,a=e.adb,c=e.onRenderTimeout,u=e.timeout,l=e.useShouldRender&&(0,n.Yu)("adb.shouldRender"),h=[],d=!1,p=1,f=function(t){var e,n;(e=window).Ya||(e.Ya={}),(n=window.Ya).Context||(n.Context={}),window.Ya.Context.foua=Boolean(t)};f(a);var m=function t(){if(!d)if(d=2===p,p++,_(),v(),home._cbsc&&h.push("styles"),h.length)d=!0,g(!0),i=!0;else if(d){i=!1,g(!1)}else u*=2,setTimeout(t,u)};MBEM.ready((function(){return setTimeout(m,u)}));var _=function(){var t;document.body.insertAdjacentHTML("beforeend",'<div class="b-spec-adv" aria-hidden="true"></div>');var e=document.querySelector(".b-spec-adv"),n=!(null!=e&&e.clientWidth);return null==e||null===(t=e.parentNode)||void 0===t||t.removeChild(e),n&&h.push("easylist"),n},v=function(){var t,n=e.adg;if(!n.str||!n.check)return!1;var i='<div class="some-class" aria-hidden="true" style="position:absolute;left:-10px;top:0;width:1px;height:1px;overflow:hidden;">'+n.str+"</div>";document.body.insertAdjacentHTML("beforeend",i);var o=!(null!==(t=document.querySelector(".some-class "+n.check))&&void 0!==t&&t.offsetWidth);return o&&h.push("adguard"),o},g=function(t){var n=Boolean(t||a&&!e.selfClean);f(n),(t||e.selfClean)&&b(t)},b=function(t){var n,i=new Date,o="",c=i.getTime(),u=24*14*60*60*1e3;t?(MBEM.channel("adb").trigger("detect"),i.setTime(c+u),n=a?"Adb cookie extended":"Adb cookie set"):(i.setTime(c-u),n="Adb cookie remove");var l="; expires="+i.toUTCString();s&&(o="; sameSite=None"),document.cookie=(e.cookie||"computer")+"=1"+l+";domain=."+r+o+"; secure=true; path=/",y(h,n)},y=function(e,n){(0,t.H)({level:"info",block:"adb",message:n,meta:{global:e.join(", ")},sourceType:"logic"})},w=function(){h.push("isBannerBlocked"),(0,t.H)({level:"info",block:"adb",message:"Adb blocked",meta:{shouldRender:String(l)},sourceType:"logic"}),d&&!i&&(i=!0,g(!0))};l&&(o=window.setTimeout(w,e.shouldRenderTimeout));MBEM.channel("adb").on("rendered",(function(t,e){setTimeout((function(){var t=e.elem;e.id===l&&clearTimeout(o),!document.documentElement.classList.contains("document_neuro-search_yes")&&(0===t.offsetHeight&&0===t.offsetWidth)&&w()}),c)}))}}();r(4852),r(8962);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}$((function(){var t=(0,n.Yu)("service-worker.mode");"serviceWorker"in navigator&&"Cache"in window&&"addAll"in Cache.prototype&&("on"===t&&function(){try{navigator.serviceWorker.register("/portal/service-worker/white/_newtab_lite.js",{scope:"/chrome/",updateViaCache:"all"}).then((function(){(0,e.DF)("tech","serviceworker.ready")})).catch((function(){(0,e.DF)("tech","serviceworker.register-error")}))}catch(t){(0,e.DF)("tech","serviceworker.fail")}}(),(0,n.Yu)("service-worker.offline")&&BEM.channel("i-init-data").on("data",(function(i,o){o.block.forEach((function(i){"service_worker"===i.id&&("off"===(t=i.data.mode)&&navigator.serviceWorker.getRegistration("/chrome/").then((function(t){t&&(t.unregister(),(0,e.DF)("tech","serviceworker.unregister"))})),function(t){if(t&&(0,n.Yu)("service-worker.force_update_key")!==t)try{if(!navigator.serviceWorker.controller)return;navigator.serviceWorker.controller.postMessage({type:"FORCE_UPDATE"})}catch(e){}}(i.data.force_update_key||""))}))})));var i=$("[data-worker]").data("worker");i&&i.workerStart&&window.Ya&&window.Ya.Rum&&Ya.Rum.setVars({3539:1})}));var s=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function a(e,n){return e.split("&").reduce((function(e,i){if(!i)return{};var o,r,s=i.match(/([^=]*)=(.*)/);if(s)try{o=decodeURIComponent(s[1]),r=decodeURIComponent(s[2])}catch(c){return(0,t.H)({message:"parseSearch: "+c.message+"; token: "+i,block:"url"}),e}else{try{o=decodeURIComponent(i)}catch(c){return(0,t.H)({message:"parseSearch: "+c.message+"; token: "+i,block:"url"}),e}r=""}if(o in e&&n){var a=e[o];"string"==typeof a&&(e[o]=[a]),e[o].push(r)}else e[o]=r;return e}),{})}function c(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(null!=i)for(var o=Array.isArray(i)?i:[i],r=0;r<o.length;++r)e.push(encodeURIComponent(n)+(""!==o[r]?"="+encodeURIComponent(String(o[r])):""))}return e.length?"?"+e.join("&"):""}function u(t){var e="";return!t.scheme||!t.host&&t.path||(e+=t.scheme+"://"),t.host&&(t.scheme||(e+="//"),e+=t.host),e&&(t.path&&0!==t.path.indexOf("/")||!t.path)&&"/"!==e.charAt(e.length-1)&&(e+="/"),e+=t.path||"",t.query&&(e+=c(t.query)),t.hash&&(e+="#"+t.hash),e}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.replace(s,(function(t,o,r,s){var u=r?a(r,n):{};for(var l in e)if(e.hasOwnProperty(l)){var h=u[l],d=e[l];u[l]=n&&h?[].concat(i(Array.isArray(h)?h:[h]),i(Array.isArray(d)?d:[d])):d}return o+c(u)+(s?"#"+s:"")}))}var h=r(4130),d=r(1714);function p(){return"<div class='usermenu-portal__spin spin2 spin2_view_default spin2_tone_default spin2_size_l spin2_progress_yes'></div>"}function f(){return"<div class='usermenu-portal__wrapper'></div>"}function m(){return"<iframe class='usermenu-portal__iframe' frameborder='0'></iframe>"}function _(t,e){var i=(0,n.Yu)("common.MordaZone");return u({host:"yandex.".concat(i),path:"user-id",query:{"morda.showback":"1","morda.disableskin":"1"}})}function v(t,e,i){var o=i(_);return{is_yaru:!0,url:o=l(o,{project:"morda",utm_source:"morda",retpath:(0,n.Yu)("common.RetpathUnescaped"),l10n:e.Locale,exp_flags:(0,n.Yu)("common.ExpFlags")}),setThemeUrl:"",sameSiteSupport:!1}}MBEM.decl("usermenu-portal",{__constructor:function(){var t=this,n=this._getData();if(n){this._hasRum=window.Ya&&Ya.Rum&&Ya.Rum.enabled;var i=n.url,o=home.skinValue;"night"===o&&(o="dark"),this._setThemeUrl=n.setThemeUrl,this._sameSiteSupport=n.sameSiteSupport,this._is_yaru=n.is_yaru,this._iframeUrl=l(i,{theme:o,colorScheme:home.skinIsDark?"dark":"light"});var r=MBEM.construct((0,d.M)(m));r.setAttribute("src",this._iframeUrl);var s=MBEM.construct((0,d.M)(f)),a=MBEM.construct((0,d.M)(p));s.appendChild(a),s.appendChild(r),(0,h.G)(this.domElem,(function(){return{content:s,scope:document.body,anchor:t.domElem,popupMods:{autoclosable:"yes",theme:"bordered"},popupMix:"usermenu-portal__popup usermenu-portal__popup_loaded_no",popupParams:{direction:"bottom-right",zIndexGroupLevel:9,mix:"usermenu-portal__popup",xOffset:15,yOffset:-60},popupCallback:function(n){t._hasRum&&Ya.Rum.time("user_id_loaded"),t._popup=n,t._handleMessages(),n.on("show",(function(){t._removeBadge(),(0,e.DF)("show","usermenu_portal.popup.open"),t._iframe&&t._setFocusIntoIframe(t._iframe)}))}}}))}},_removeBadge:function(){var t=this.domElem.querySelector(".avatar__badge");t&&t.parentNode&&t.parentNode.removeChild(t)},_getData:function(){return(0,n.Yu)("usermenu-portal.data")},_handleMessages:function(){var e=this;window.addEventListener("message",(function(n){var i=null,o=n.source,r=e._iframe||document.querySelector(".usermenu-portal__iframe");if((null==r?void 0:r.contentWindow)===o){try{i=n.data?JSON.parse(n.data):null}catch(c){(0,t.H)({block:"usermenu-portal",message:"unknown data in postMessage",meta:{message:JSON.stringify(n.data).slice(0,128)}})}var s;if(i)if("onDataLoad"===i.methodCall&&null!==(s=i.params[0])&&void 0!==s&&s.height)e._messageOnDataLoad(i.params[0].height,r);else if("closeUserID"===i.methodCall)e._messageCloseUserID();else if("updateTheme"===i.methodCall){var a;e._updateTheme(null===(a=i.params[0])||void 0===a?void 0:a.theme)}}})),document.addEventListener("skin-changed",(function(){e._changeThemeIntoIframe(e._iframe,home.skinValue)}))},_updateTheme:function(t){"dark"===t&&(t="night"),(0,e.DF)("click","usermenu_portal.update_theme.".concat(t)),location.href=l(this._setThemeUrl,{skin:t})},_messageOnDataLoad:function(t,n){var i=this._popup.domElem;if(!this._iframe){this._iframe=n,this.delMod(i,"loaded");var o,r=i.querySelector(".usermenu-portal__spin");if(r)null===(o=r.parentNode)||void 0===o||o.removeChild(r);this._setFocusIntoIframe(n),(0,e.DF)("click","usermenu_portal.popup.realshow"),this._hasRum&&Ya.Rum.timeEnd("user_id_loaded")}i.style.height="".concat(Math.ceil(t+2),"px")},_messageCloseUserID:function(){this._popup.hide(),(0,e.DF)("click","usermenu_portal.popup.close"),document.activeElement&&this._iframe===document.activeElement&&this.domElem.focus()},_setFocusIntoIframe:function(t){return null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({methodCall:"focusFirst",params:[{fromKeyboard:document.documentElement.classList.contains("utilityfocus")}]}),"*"),!1},_changeThemeIntoIframe:function(t,e){"night"===e&&(e="dark"),null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({methodCall:"updateTheme",params:[{theme:e,colorScheme:home.skinIsDark?"dark":"light"}]}),"*")},_switchDesign:function(){var t=this._sameSiteSupport?"; sameSite=None":"",n="; expires=".concat(new Date(Date.now()+31536e6).toUTCString());(0,e.DF)("click","footer.switch_design"),document.cookie="old_yaru=1"+n+"; domain=.ya.ru"+t+"; secure=true; path=/"}}),MBEM.decl("usermenu-portal",{_getData:function(){return(0,d.M)(v)}});r(7475);!function(e){var n=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(o){return void a(e.promise,o)}s(e.promise,i)}else(1===t._state?s:a)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l(n.bind(e),t)}t._state=1,t._value=e,c(t)}catch(i){a(t,i)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,a(e,t))}))}catch(i){if(n)return;n=!0,a(e,i)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return r(this,new u(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var i=e.length;function o(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(r,t)}),n)}e[r]=s,0==--i&&t(e)}catch(c){n(c)}}for(var r=0;r<e.length;r++)o(r,e[r])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)}))},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){n(t,0)},o._unhandledRejectionFn=function(e){(0,t.H)({block:"i-polyfill__promise",message:"Possible Unhandled Promise Rejection"},e)},e.Promise||(e.Promise=o)}(window);r(4386),r(1230);var g=r(150),b=r.n(g),y=r(9735),w=r.n(y),E=r(4112);function M(t){if(!t)return"";var e="";for(var n in t)if(t.hasOwnProperty(n)){if(!t[n]&&0!==t[n])continue;e&&(e+=";"),e+=n+":"+String(t[n])}return e}var k=r(9996),I=(0,k.Z)((function(e,n){var i=n(C),o=["touch","mob","pda"].includes(e.MordaContent),r={scheme:"https",host:i,query:{retpath:e.RetpathUnescaped,nosync:1}};return e.MordaZone||(0,t.H)({level:"warn",block:"setup-pages",message:"no MordaZone in req"}),{all:u(r),common:u(Object.assign({path:o?"common":"search"},r)),region:u(Object.assign({path:"geo"},r)),lang:u(Object.assign({path:"lang"},r)),places:u(Object.assign({path:"places"},r)),tune:u({scheme:"https",host:i})}})),C=(0,k.Z)((function(t,e){var n=window.location.hostname,i=n.match(/(?:\.|^)(ya\.ru|yandex\.\w{2,3}(?:\.\w{2,3})?)$/);return(n=i?i[1]:"yandex.ru")+"/tune/"}));var T=(0,k.Z)((function(t,e){return(0,n.Yu)("resources.staticHost","//yastatic.net")}));function S(t,e,n){return"<aside "+b()({class:"informers3","aria-label":"Информеры"})+">"+(w().oneElem(n(B,null))+w().oneElem(n(x,null)))+"</aside>"}function B(t,e,n){var i,o,r="",s="",a=e.Weather,c=e.Traffic;if(null!=a&&a.url&&a.iv3u1&&a.t1){var u="".concat(n(T),"/s3/home/div/new_app/bender/weather/weather_new_2023/").concat(a.iv3u1,".svg"),l="".concat("Погода"," ").concat(e.BigCityName," ").concat(a.t1);a.iconalt&&(l+=", ".concat(a.iconalt));var h=a.t1.replace("+","").split(" ")[0];r=n(E.b,{href:null==a?void 0:a.url,mix:"informers3__item informers3__weather",stat:e.stat.getAttr("informers.weather"),mods:{color:"inherit",hover:"secondary"},attrs:{"aria-label":l},content:w().oneElem("<div "+b()({class:"informers3__item-icon",style:M({"background-image":"url(".concat(u,")")})})+"></div>")+w().oneElem(h)})}if(null!=c&&c.href&&c.icon&&c.rate){var d=c.rate,p="".concat("Пробки"," ").concat(d," ").concat((i=Number(d),(o=["балл","балла","баллов",""])&&o.length?0===i&&o[3]?o[3]:o[1]||o[2]?o[2]?((i%=100)>=20&&(i%=10),1===i?o[0]:i>1&&i<5?o[1]:o[2]):i>=0&&i<=1?o[0]:o[1]:o[0]:""),"}");s=n(E.b,{href:c.href,mix:"informers3__item informers3__traffic informers3__traffic_".concat(c.icon),stat:e.stat.getAttr("informers.traffic"),mods:{color:"inherit",hover:"secondary"},attrs:{"aria-label":p},content:"<div class='informers3__item-icon'></div>"+w().oneElem(d)})}return r+s}function x(t,e,n){var i=e.BigCityName;return i?n(E.b,{href:l(n(I).region,{morda_geolocation:1}),mix:"informers3__geo",stat:e.stat.getAttr("informers.geo"),mods:{color:"gray",hover:"secondary"},attrs:{"aria-label":"Ваш город определён как %s".replace("%s",i)},content:i}):""}var P=r(7843),O=(0,k.Z)((function(){return{}}));function D(t,e,n){var i=n(O);t in i||(i[t]=0);return t+"-client"+i[t]++}var R=r(8300);var A=(0,k.Z)((function(t){return t.CSP&&t.CSP.nonce?' nonce="'+t.CSP.nonce+'"':""}));function N(t,e,n){return"<style "+b()(Object.assign({_temp:n(A)},t.attrs))+">"+w().oneElem(t.content)+"</style>"}function L(t,e,n){var i=t.attrs||{},o=t.mods||{},r=t.mix||"";return r+=" "+(0,P.jY)("avatar",{mods:o}),n(E.b,{mix:r,attrs:i,href:t.href,stat:t.stat,content:n(j,t)+(t.after||"")})}var F={s:{default:"islands-small","2x":"islands-retina-small"},m:{default:"islands-34","2x":"islands-68"},l:{default:"islands-middle","2x":"islands-retina-middle"}};function j(t,e,n){var i,o,r,s=t.avatarSizes||(t.mods?F[t.mods.size]:null)||{},a="avatar__image "+(t.imageMix||""),c="";t.avatarUrl?(i=t.avatarUrl,o=t.darkAvatarUrl):(i=n(U,{avatar_id:t.avatarId,avatar_size:s.default}),s["2x"]&&(r=n(U,{avatar_id:t.avatarId,avatar_size:s["2x"]})));var u=r||i,l=n(D,"avatar__image");i&&(c+=".".concat(l,"{")+"background-image:url("+u+");"+(r?"background-image:-webkit-image-set(url("+i+") 1x, url("+r+") 1.25x);":"")+"}",o&&(c+=".document_dark_yes .".concat(l,"{")+"background-image:url("+o+");}"));var h=w().oneElem(n(N,{content:w().oneElem(c)}))+w().oneElem("<span "+b()({class:a+" "+l})+"></span>");return t.mods&&t.mods["has-camera"]&&t.passportHost&&(h+=n(q,t)),t.mods&&"yes"===t.mods.badge&&(h+="<div class='avatar__badge'></div>"),"<span class='avatar__image-wrapper'>"+w().oneElem(h)+"</span>"}function U(t,e){var n=t.avatar_id||"0/0-0",i=t.avatar_size||"islands-middle",o="https://avatars.mds.yandex.net/get-yapic/".concat(n,"/").concat(i);return e.csp&&!e.csp.stub&&e.csp.allowImg(o),o}function q(t,e,n){return n(E.b,{mix:"avatar__camera",href:l("".concat(t.passportHost,"/profile/public"),{origin:t.origin,retpath:t.retpath})})}var H=(0,k.Z)((function(t,e){var n=e(W);if(null!=n&&n.logged)return(n.users||[]).find((function(t){return t.uid===n.uid}))}));function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=(0,k.Z)((function(t){var e,n=t.AuthInfo;if(n)return Y(Y({},n),{},{logged:Boolean(n.logged),users:null===(e=n.users)||void 0===e?void 0:e.map((function(t){return Y(Y({},t),{},{avatarId:t.avatar_id,displayName:t.display_name})}))})}));function K(t,e,i){var o,r=i(H),s="usermenu-portal",a={"usermenu-portal":{}};if(r){var c,u=i(W),h="",d="Почта",p=null==u?void 0:u.mail_info;null!=p&&p.fresh&&(d="".concat("Почта",": ").concat("есть новые письма"),h="<div class='headline__personal-mail-fresh-badge'></div>"),o=w().oneElem(i(E.b,{href:"https://mail.yandex.".concat(e.MordaZone),mix:"headline__personal-mail",stat:e.stat.getAttr("headline.mail"),attrs:{"aria-label":d},content:"<div class='headline__personal-mail-icon'></div>"+w().oneElem(h)}))+w().oneElem(i(L,{mix:"headline__personal-avatar ".concat(s," i-mini-bem"),stat:e.stat.getAttr("headline.avatar"),avatarId:r.avatarId||"",href:e.Passport&&(null===(c=e.Passport)||void 0===c?void 0:c.host)&&"https://".concat(e.Passport.host),avatarSizes:{default:"islands-middle","2x":"islands-retina-middle"},mods:{size:"adaptive",plus:null!=u&&u.plus_status?"yes":"",child:null!=u&&u.is_child_account?"yes":""},attrs:{"data-bem":(0,P.Ms)(a),"aria-label":"Меню профиля, вход выполнен","aria-haspopup":"true","aria-expanded":"false",role:"button",tabindex:0}}))}else{var f,m,_="passport.yandex."+(0,n.Yu)("common.MordaZone"),v=(null===(f=e.Passport)||void 0===f?void 0:f.host)&&l("https://".concat(_,"/auth"),{origin:"chromenewtab_lite",retpath:(0,n.Yu)("common.RetpathUnescaped")});o=w().oneElem(i(E.b,{href:v,mix:"headline__personal-enter",stat:e.stat.getAttr("headline.enter"),content:"Войти",mods:{color:"black"},target:"_self"}))+w().oneElem(i(E.b,{mix:"headline__personal-menu ".concat(s," i-mini-bem"),stat:e.stat.getAttr("headline.menu"),href:(null===(m=e.Passport)||void 0===m?void 0:m.host)&&"https://".concat(e.Passport.host),attrs:{"data-bem":(0,P.Ms)(a),"aria-label":"Меню профиля, вход не выполнен","aria-haspopup":"true","aria-expanded":"false",role:"button",tabindex:0}}))}return"<div class='headline__personal'>"+w().oneElem(o)+"</div>"}$((function(){function i(){this._init()}i.prototype={_init:function(){this._fetchApi()},_fetchApi:function(){var t=(0,n.Yu)("service-worker.data-path")+"/?ab_flags=chromenewtab_redesign=1&content=chromenewtab&from=newtab_lite"+(location.search.replace("?","&")||"");$.ajax({method:"get",dataType:"json",url:t,xhrFields:{withCredentials:!0}}).then(function(t){Array.isArray(t.block)?this._onFetchApiSuccess(t):this._onFetchApiError(new Error("Incorrect data"))}.bind(this),function(t,e,n){this._onFetchApiError(n,"Cannot load ajax request")}.bind(this))},_onFetchApiSuccess:function(t){this._prepareApiData(t),this._renderBlocks(),BEM.channel("i-init-data").trigger("data",t),document.documentElement.classList.add("i-init-data_loaded")},_onFetchApiError:function(e,n){BEM.channel("i-init-data").trigger("error"),document.documentElement.classList.add("i-init-data_error"),(0,t.H)({block:"i-init-data",message:n},e)},_prepareApiData:function(t){t.block.forEach((function(t){if(t.data)if("chromenewtab"===t.id)for(var e in t.data)t.data.hasOwnProperty(e)&&("Timestamp"===e||("yandexuid"===e?home.export.common.req.Yandexuid=t.data[e]:home.export.common.req[e]=t.data[e]));else{var n=t.id.split("_").map((function(t){return(e=t)?e[0].toUpperCase()+e.substr(1):"";var e})).join("");t.data.show=1,home.export=home.export||{},home.export.common=home.export.common||{},home.export.common.req=home.export.common.req||{},home.export.common.req[n]=t.data}}))},_renderBlocks:function(){$(".i-init-data__block").each((function(){var n=$(this),i=n.data("block");if(i){var o={headline__personal:K,informers3:S}[i];if(o)try{var r=(0,d.M)(o,{},{RetpathUnescaped:location.href});r&&(n.html(r),BEM.DOM.init(n),MBEM.initAll(n[0],"i-mini-bem"),(0,e.Dn)(n))}catch(s){(0,t.H)({block:"i-init-data",message:"Error render block "+i},s)}else(0,t.H)({block:"i-init-data",message:"View not found "+i})}}))}},new i})),window.addEventListener("DOMContentLoaded",(function(){Boolean(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(0,e.DF)("tech","standalone_opening_tracker.open")}));r(532),r(2665);!function(){function t(){home.originalUrl=window.location.href;var t=(0,n.Yu)("i-change-url.data");if(t){var e,i=t.url;try{e=history.state}catch(o){}i&&ya.history&&ya.history.navigate({data:e||null,url:i,replace:!0})}}var e=+new Date;+new Date-e>5e3?t():setTimeout(t,100)}(),BEM.DOM.decl("b-errormsg",{onSetMod:{js:{inited:function(){this.bindTo("close","pointerclick",(function(){(0,e.DF)("click","errormsg.close"),this.setMod("hidden","yes")}))}}}});var G=r(7806);r(1847);function X(t,e){var n=t.skinIsDark?"ffffffff":"000000ff";return"<div "+b()({class:"ntp-tabs__item","data-rid":t.rid})+">"+w().oneElem("<iframe "+b()({class:"ntp-tabs__link",role:"presentation",id:"link-".concat((0,G.W)(t.rid)),name:"link-".concat((0,G.W)(t.rid)),src:"chrome-search://most-visited/title.html?rid=".concat((0,G.W)(t.rid),"&amp;fs=0")})+"></iframe>")+"<div class='ntp-tabs__bg'></div>"+w().oneElem("<div class='ntp-tabs__site'>"+(w().oneElem("<div class='ntp-tabs__favicon-bg'>"+w().oneElem("<div "+b()({class:"ntp-tabs__favicon",style:"background-image:url(".concat((0,G.W)(t.favicon),")")})+"></div>")+"</div>")+w().oneElem("<iframe "+b()({class:"ntp-tabs__text",tabindex:"-1",role:"presentation",id:"title-".concat((0,G.W)(t.rid)),name:"title-".concat((0,G.W)(t.rid)),src:"chrome-search://most-visited/title.html?rid=".concat((0,G.W)(t.rid),"&amp;f=arial%2C%20sans-serif&amp;fs=13&amp;c=").concat(n,"&amp;ta=center")})+"></iframe>"))+"</div>")+w().oneElem("<div "+b()({class:"ntp-tabs__delete",role:"button",tabindex:"0",title:"Не показывать на этой странице"})+"></div>")+"</div>"}$((function(){var t=(0,n.Yu)("common.hasNewTablo"),i=window.chrome&&window.chrome.embeddedSearch&&window.chrome.embeddedSearch.newTabPage||{},o=i.mostVisited||null,r=document.querySelector(".ntp-tabs__links"),s=document.querySelector(".ntp-tabs__messages"),a=8;if(!t&&o){var c=[];u(s.querySelector(".ntp-tabs__undo-close"),(function(){p(),(0,e.DF)("click","bookmarks.undoclose")})),u(s.querySelector(".ntp-tabs__undo"),(function(){c.length&&(i.undoMostVisitedDeletion(c.pop()),0===c.length&&p())})),u(s.querySelector(".ntp-tabs__undoall"),(function(){i.undoAllMostVisitedDeletions(),c=[],p()})),h(),i.onmostvisitedchange=function(){h()},window.chrome.embeddedSearch.searchBox.onsubmit=function(){},window.addEventListener("message",(function(t){for(var e,n=r.querySelectorAll("iframe"),i=0;i<n.length;++i)n[i]&&n[i].contentWindow===t.source&&(e=n[i]);if(e){var o=$(e).closest(".ntp-tabs__item");"linkFocused"===t.data?o.addClass("ntp-tabs__item_focused_yes"):"linkBlurred"===t.data&&o.removeClass("ntp-tabs__item_focused_yes")}})),document.addEventListener("skin-changed",h)}function u(t,e){t.addEventListener("click",e),t.addEventListener("keydown",(function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),e.call(this))}))}function l(){var t,n;t=this.parentNode,n=t.getAttribute("data-rid"),i.deleteMostVisitedItem(n),c.push(n),s.classList.remove("ntp-tabs__messages_hidden_yes"),(0,e.DF)("click","bookmarks.remove")}function h(){r.innerHTML="",function(){var t,n,s,c=(o=i&&i.mostVisited||[]).length,h="";for(n=0;n<a&&!(n>=c);n++)t=o[n],h+=(0,d.M)(X,{rid:t.rid,favicon:t.faviconUrl.replace(/size\/16/,"size/64"),skinIsDark:home.skinIsDark});r.innerHTML=h;var p=r.querySelectorAll(".ntp-tabs__delete");for(n=0,s=p.length;n<s;n++)u(p[n],l);var f=r.querySelectorAll(".ntp-tabs__item");for(n=0,s=f.length;n<s;n++)f[n].addEventListener("mouseover",(function(){(0,e.DF)("tech","bookmarks.hover")}));(0,e.DF)("show","bookmarks.count."+c)}()}function p(){s.classList.add("ntp-tabs__messages_hidden_yes")}}));var Z,Q,J,tt=function(t){var e,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];e=t.apply(this,o)}return e}},et=!1,nt="ya_ls_test";try{(J=window.localStorage).setItem(nt,"1"),"1"!==J.getItem(nt)?et=!0:J.removeItem(nt)}catch(Te){et=!0}var it=function(e){var n="localStorage is disabled. "+(e||"");(0,t.H)({block:"localStorage",message:n,level:"warn"})},ot=function(t){try{return t()}catch(Te){it(Te)}};if(et){var rt=function(t){return it(),null};Z=it,Q=rt,it,it,rt,function(){return 0}}else Z=function(t,e){ot((function(){J.setItem(t,e)}))},Q=function(t){return ot((function(){return J.getItem(t)}))||null},function(t){ot((function(){J.removeItem(t)}))},function(){ot((function(){J.clear()}))},function(t){return ot((function(){return J.key(t)}))||null},function(){return ot((function(){return J.length}))||0};function st(t,e,n,i){var o=document.createElement("script");if("string"==typeof i)o.nonce=i;else if(i&&"object"==typeof i)for(var r in i)if(i.hasOwnProperty(r)){var s=r,a=i[s];a&&(o[s]=a)}o.charset="utf-8",e&&(o.onload=e),n&&(o.onerror=function(){n(new Error("Failed to load script "+t))}),o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}MBEM.decl("alice-fab",{__constructor:function(){var e=this;this.__base.apply(this,arguments);var n=!1;this._bindEventsOnce=tt(this._bindEvents.bind(this)),this._loadAliceModuleOnce=tt(this._loadAliceModule.bind(this));var i=tt((function(){e._loadAliceModuleOnce().then((function(){n&&e._onFabClick(e.module),e.bindTo("click",(function(){return e._onFabClick(e.module)})),e._bindEventsOnce(e.module.outputBus)})).catch((function(e){(0,t.H)({block:"alice-fab",url:e.request},e)}))})),o=tt((function(){e._createRumPage(),n=!0,clearTimeout(r),i()})),r=setTimeout(i,5e3);this.bindTo("click",o),this.params.deeplinkUrl&&o(),this._onFabShow()},_onFabClick:function(t){var e=t.changeTheme;return document.addEventListener("skin-changed",(function(){e(home.skinIsDark?"dark":"light")})),this.setMod("shown","no"),this.params.aliceStanaloneFrontend&&window.defaultMetrikaCounter&&window.defaultMetrikaCounter.reachGoal("launch_alice2"),!0},_afterOpenAndCreate:function(){var t=document.querySelector(".body__wrapper");if(t&&(t.setAttribute("inert",""),t.ariaHidden="true"),"bubble"===this.params.promoType){var e=this.params.clickUrl;e&&((new Image).src=e)}},forceRender:function(e,n){var i=this;this._loadAliceModuleOnce().then((function(){i._onFabClick(i.module,e,void 0,n),i._bindEventsOnce(i.module.outputBus)})).catch((function(e){window.dispatchEvent(new CustomEvent("alice-close")),(0,t.H)({block:"alice-fab",url:e.request},e)}))},_onFabShow:function(){this.__base.apply(this,arguments),this._showPromo()},_onPromoCloseClick:function(){this._closePromo({saveClose:!0,logClose:!0});var t=this.params.closeUrl;t&&((new Image).src=t);var e=document.querySelector(".alice-fab__promo");e&&e.classList.remove("alice-fab__promo_shown")},_showPromo:function(){var t=this,n=document.querySelector(".alice-fab__promo");if(n&&(!this.params.promoShowKey||!Q(this.params.promoShowKey))){(0,e.Dn)(n),this._onShowPromo(),n.classList.add("alice-fab__promo_shown");var i=document.querySelector(".alice-fab__promo-close");i&&(i.addEventListener("click",(function(){t._onPromoCloseClick()})),i.addEventListener("keypress",(function(e){"key"in e&&"Enter"===e.key&&t._onPromoCloseClick()})));var o=document.querySelector(".alice-fab__promo-shortcut-img");o&&(o.addEventListener("click",(function(){t._onClickPromo()})),o.addEventListener("keypress",(function(e){"key"in e&&"Enter"===e.key&&t._onClickPromo()})))}},_onClickPromo:function(){(0,e.DF)("click","alice_promo.".concat(this.params.promoId,".open")),this.params.promoUrl?window.open(this.params.promoUrl):this.forceRender(!0);var t=this.params.clickUrl;t&&((new Image).src=t)},_onShowPromo:function(){var t=this.params.viewUrl;t&&((new Image).src=t)},_closePromo:function(t){var n;this.params.promoShowKey&&(null!=t&&t.saveClose&&Z(this.params.promoShowKey,"1"),null!=t&&t.logClose&&(0,e.DF)("click","alice_promo.".concat(this.params.promoId,".close"))),null===(n=document.querySelector(".alice-fab__promo"))||void 0===n||n.classList.add("alice-fab__promo_hidden")},_createRumPage:function(){var t,e,n;null!==(t=Ya)&&void 0!==t&&t.Rum&&!this._rumPage&&(this._rumPage=null===(e=(n=Ya.Rum).makeSubPage)||void 0===e?void 0:e.call(n,"ru.morda.alice_popup"))},_bindEvents:function(n){var i=this;n.on("popupHidden",(function(){i.setMod("shown","yes"),window.dispatchEvent(new CustomEvent("alice-close")),i._container&&i._container.classList.remove("alice-container_alice-show");var t=document.querySelector(".body__wrapper");t&&(t.removeAttribute("inert"),t.ariaHidden="false")})),n.on("firstPaint",tt((function(){i._rumPage&&(Ya.Rum.sendTimeMark("2793",Ya.Rum.getTime(),!1,i._rumPage),Ya.Rum.sendTTI(void 0,Ya.Rum.getTime(),i._rumPage))}))),n.on("errorThrown",(function(e,n){(0,t.H)({block:"alice-fab",message:e.message,level:n||"error"},e)})),n.on("aliceMainFullyShown",(function(){Ya.Rum.sendTimeMark("alice_main_fully_shown",Ya.Rum.getTime(),!1,i._rumPage)})),n.on("voiceRecordingStarted",(function(){Ya.Rum.sendTimeMark("voice_recording_started",Ya.Rum.getTime(),!1,i._rumPage)})),n.on("stat",(function(t){var n=t.path,o=t.eventType,r=t.customParams;(0,e.DF)(o,i.params.statRoot+"."+n,r&&{customParams:r})}))}});var lt="/alisa_davay_pridumaem";MBEM.decl("alice-fab",{__constructor:function(){this.__base.apply(this),this._container=document.querySelector(".alice-container"),this.params.fromAlicePromo&&this.forceRender(),this.params.abFlags.includes("alice_redirect_to_fullscreen")&&this._addRouter()},_loadAliceModule:function(){var e=this;return new Promise((function(t,n){st("".concat(e.params.aliceLibPath).concat(e.params.aliceStanaloneFrontend?"/standalone-lib-desktop/index-standalone-lib-desktop.js":"/desktop/index-desktop.js"),t,(function(t){return n(t)}))})).then((function(){var t;if(null===(t=window.AliceForWeb)||void 0===t||!t.lib)throw Error("no AliceForWeb in window");e.module=window.AliceForWeb.lib})).catch((function(e){throw(0,t.H)({block:"alice-fab",sourceType:"network"},e),e}))},_addRouter:function(){var t=this;window.addEventListener("popstate",(function(){if(document.location.pathname===lt)t.forceRender(!0);else if(document.location.pathname!==lt){var e;null===(e=t.module)||void 0===e||e.hide()}}))},_onFabClick:function(t,e,n,i){if(this._container)return this.__base.apply(this,arguments),this._closePromo(),t.openOrCreate(ct(ct({},this.params),{},{theme:home.skinIsDark?"dark":"light",container:this._container,appId:this.params.aliceStanaloneFrontend?"ru.yandex.webstandalone.desktop":"ru.yandex.webdesktop",yaGptOpenPhrase:n,shouldOpenYaGpt:e,elementFocusOnClose:this.domElem,deeplink:i})),this._afterOpenAndCreate(),this._container.classList.add("alice-container_alice-show"),!0}}),MBEM.decl("alice-fab",{__constructor:function(){var t=arguments,e=this,i=this.__base;BEM.channel("i-init-data").on("data",(function(o,r){var s,a,c,u=null===(s=r.block.find((function(t){return t.data&&"chromenewtab"===t.id})))||void 0===s?void 0:s.data,l=null==u?void 0:u.AuthInfo,h=null==l||null===(a=l.users)||void 0===a||null===(c=a[0])||void 0===c?void 0:c.alice_pro,d=(0,n.Yu)("alice-fab.is-base");e.params.aliceStanaloneFrontend=e.params.aliceStanaloneFrontend||h||!d&&Boolean(null==u?void 0:u.alice_v2),e.params.userData={isLoggedUser:Boolean(null==l?void 0:l.logged),isProStatus:h},e.setMod("hidden","no"),i.apply(e,t)}))},_showPromo:function(){this.params.aliceStanaloneFrontend||this.__base.apply(this,arguments)}});r(767);function ht(){var t={};return window.name.split("&").forEach((function(e){if(e.toString()){var n=e.split("=");t[n[0]]=n[1]}})),t}function dt(t){return ht()[t]}function pt(t,e){var n=ht(),i=[];for(var o in n[t]=e,n)n.hasOwnProperty(o)&&i.push(o+"="+n[o]);window.name=i.join("&")}var ft=null,mt=function(t){var n=ft;if(n){var i=Date.now();vt().then((function(o){o.toggle({lang:dt("keyboard_lang")||n.lang||"ru",for:n.for,onShow:function(){pt("keyboard_state","open"),MBEM.cls.add(document.documentElement,"document_keyboard")},onHide:function(){pt("keyboard_state","close"),MBEM.cls.remove(document.documentElement,"document_keyboard")},onLang:function(t){pt("keyboard_lang",t)}},t),(0,e.DF)("tech","keyboard.popup.timing",{customParams:{time:Date.now()-i}})}))}};function _t(t){ft=t,"open"!==dt("keyboard_state")&&"#kb"!==window.location.hash||mt()}function vt(){return r.e("keyboard").then(r.bind(r,8581)).catch((function(e){throw(0,t.H)({block:"keyboard-loader",url:e.request},e),e}))}function gt(){return r.e("voice-search").then(r.bind(r,5678)).catch((function(e){throw(0,t.H)({block:"voice-search",url:e.request},e),e}))}function bt(i){var o=(0,n.Yu)("search3.voice");if(o){var r=Date.now();gt().then((function(t){t.show(o,i),(0,e.DF)("tech","voice.timing",{customParams:{time:Date.now()-r}})}))}else(0,t.H)({block:"voice-search",message:"Missing voice config"})}r(3146);var yt,wt=(0,n.Yu)("search3.isAliceAsVoiceSearch");function Et(e){(yt||(yt=new Promise((function(t,e){st("//yastatic.net/q/ya-paranja/client.js?build=morda",t,e)})).catch((function(e){yt=void 0,(0,t.H)({block:"paas",sourceType:"network",method:"_load",message:"Error loading source for paas"},e)})))).then((function(){var t;null!==(t=window.Ya)&&void 0!==t&&t.Paranja&&(window.Ya.Paranja.init({from:"morda",product:e,mod:"iframe"}),window.Ya.Paranja.show())}))}function Mt(t){var e=document.createElement("iframe");e.style.display="none",e.setAttribute("aria-hidden","true"),e.setAttribute("name","install"),e.setAttribute("src",t.url),document.body.appendChild(e),function(t){var e;null!==(e=t.counters)&&void 0!==e&&e.click&&((new Image).src=t.counters.click)}(t)}function kt(t){Et(t.paas),Mt(t)}BEM.DOM.decl("search3",{onSetMod:{js:{inited:function(){var e=this,i=this.elem("input")[0];i&&_t({lang:(0,n.Yu)("search3.keyboardLang")||"ru",for:i}),this.hasMod("voice")&&new Promise((function(t){var e;if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||null!==(e=navigator.mediaDevices)&&void 0!==e&&e.getUserMedia){var n;if(navigator.enumerateDevices?n=navigator.enumerateDevices.bind(navigator):(window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(n=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(n=function(t){navigator.mediaDevices.enumerateDevices().then(t)})),!n)return void t(!1);n((function(e){var n=e.some((function(t){return"audio"===t.kind||"audioinput"===t.kind}));t(!!n)}))}else t(!1)})).then((function(t){t&&e.setMod("voice-supported","yes")})).catch((function(e){(0,t.H)({block:"search3",message:"Voice check error"},e)})),this.params.openKeyboard&&mt(!0),this._showTooltip()}}},_showTooltip:tt((function(){var t=this;this.params.tooltip&&((new Image).src=this.params.tooltip,(0,e.DF)("show","search3.tooltip"),this._onboardingTooltip=BEM.blocks.tooltip.show(this.elem("input-wrapper"),{props:{mods:{theme:"services",autoclosable:"yes"},js:{to:["top-center"],secondaryOffset:0,mainOffset:20},content:"Ваши сервисы теперь в поисковой строке"}}),MBEM.channel("mini-suggest").on("focus",(function(){var e;null!==(e=t._onboardingTooltip)&&void 0!==e&&e.domElem&&t._onboardingTooltip.toggleMod("shown","yes","")})))}))},{live:function(){return this.liveBindTo("keyboard","mouseover",(function(){vt().catch((function(){}))})),wt||this.liveBindTo("voice","mouseover",(function(){gt().catch((function(){}))})),!1}}),setTimeout((function(){var t=$(".mini-suggest"),n=t[0],i=function(t,n){if("keyboard"===n.type)mt(),this._input.focus();else if(wt){(0,e.DF)("click","alice_popup.voice_search");var i=document.querySelector(".alice-fab"),o=i&&MBEM.getBlock(i,"alice-fab");null==o||o.forceRender()}else"voice"===n.type?bt():"alice"===n.type&&bt(n)};if(n){var o=MBEM.createBlock({node:n,block:"mini-suggest",params:t.data("mini-bem")["mini-suggest"]});MBEM.channel("mini-suggest").on("voice",i,o),o.on("action",i,o)}}),0),BEM.DOM.decl("link-bro",{onSetMod:{js:{inited:function(){(0,e.DF)("show","link_bro.realshow"),MBEM.blocks["i-mini-yabs-sender"].sendShow("yabs",this.params.linknext),this.bindTo("link","click",this._onClick)}}},_onClick:function(){if(this.params.paas&&this.params.url)return kt({paas:this.params.paas,url:this.params.url,counters:{}}),(0,e.DF)("click","link_bro.paas"),!1}});var It=function(){function t(t){this.offset=0,this.littleEndian=!1,this.view=new DataView(t)}return t.prototype.skip=function(t){this.offset+=t},t.prototype.nextUint16=function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.skip(2),t},t.prototype.nextUint32=function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.skip(4),t},t.prototype.setLittleEndian=function(t){this.littleEndian=t},t.prototype.isFinished=function(){return this.offset>=this.view.byteLength},t}(),Ct=1,Tt=3,St=6,Bt=8,xt=9,Pt=function(t){return 65280==(65280&t)},Ot=function(t){return"from-image"===window.getComputedStyle(document.body).imageOrientation?Promise.resolve(Ct):function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){return e(i.result)},i.onerror=n,i.readAsArrayBuffer(t)}))}(t).then((function(t){var e,n,i=new It(t);if(65496!==i.nextUint16())return xt;for(;!i.isFinished()&&(e=i.nextUint16(),Pt(e)&&65498!==e&&65497!==e);)if(65505===e){i.skip(2),i.skip(6),i.setLittleEndian(18761===i.nextUint16()),i.skip(2),i.skip(i.nextUint32()-8),n=i.nextUint16();for(var o=0;o<n;o++){if(274===i.nextUint16())return i.skip(6),i.nextUint16();i.skip(10)}}else i.setLittleEndian(!1),i.skip(i.nextUint16()-2);return xt}))},Dt=function(t,e,n){void 0!==n&&(t[e]=n)},Rt=function(t){var e=window.URL||window.webkitURL,n=e.createObjectURL(t);return function(t,e){var n=void 0===e?{}:e,i=n.crossOrigin,o=n.referrerPolicy;return new Promise((function(e,n){var r=new Image;Dt(r,"crossOrigin",i),Dt(r,"referrerPolicy",o),Dt(r,"onload",(function(){return e(r)})),Dt(r,"onerror",(function(){return n(new Error("Image loading failed"))})),Dt(r,"src",t)}))}(n).then((function(t){return e.revokeObjectURL(n),t})).catch((function(t){return e.revokeObjectURL(n),Promise.reject(t)}))},At=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},Nt=function(t,e){var n,i,o,r,s,a,c,u=function(t,e){return e===Bt||e===St?{width:t.height,height:t.width}:{width:t.width,height:t.height}}(t,e),l=(i=5e6,o=4096,r=(n=u).width/n.height,s=0,a=0,c={width:0,height:0},n.width*n.height>i?n.width>n.height?(s=Math.sqrt(i*r),c={width:Math.floor(s),height:Math.floor(i/s)}):(a=Math.sqrt(i/r),c={width:Math.floor(i/a),height:Math.floor(a)}):c=n,c.width>o&&(c.width=o,c.height=Math.round(c.width/r)),c.height>o&&(c.height=o,c.width=Math.round(r*c.height)),c),h=At(l.width,l.height),d=h.getContext("2d");if(!d)throw new Error("Cannot get a canvas context");return e===Bt?(d.setTransform(0,-1,1,0,0,l.height),d.drawImage(t,0,0,l.height,l.width)):e===St?(d.setTransform(0,1,-1,0,l.width,0),d.drawImage(t,0,0,l.height,l.width)):e===Tt?(d.setTransform(-1,0,0,-1,l.width,l.height),d.drawImage(t,0,0,l.width,l.height)):(d.setTransform(1,0,0,1,0,0),d.drawImage(t,0,0,l.width,l.height)),h},Lt=function(t,e,n){return t.width>e&&t.height>n},Ft=function(t,e,n,i,o){return void 0===i&&(i=t.type),void 0===o&&(o=1),function(t){return Promise.all([Rt(t),Ot(t)]).then((function(t){var e=t[0],n=t[1];return Nt(e,n)}))}(t).then((function(t){return function(t,e,n){var i=t.width/t.height;if(n<e?n=Math.round(e/i):e=Math.round(n*i),!Lt(t,e,n))return Promise.resolve(t);var o=Math.ceil(Math.log(t.width/e)/Math.LN2),r=e*Math.pow(2,o-1),s=n*Math.pow(2,o-1);return new Promise((function i(a,c){var u=At(r,s),l=u.getContext("2d");return l?(l.drawImage(t,0,0,r,s),t.width=1,t.height=1,t=u,o-=1,r=Math.round(r/2),s=Math.round(s/2),o<=0||!Lt(t,e,n)?a(t):void requestAnimationFrame((function(){return i(a,c)}))):c(new Error("Cannot get a canvas context"))}))}(t,e,n)})).then((function(t){return function(t,e,n){return void 0===n&&(n=1),new Promise((function(i,o){try{t.toBlob((function(t){return t?i(t):o(new Error("Resulting Blob is empty"))}),e,n)}catch(r){o(r)}}))}(t,i,o)}))},jt=r(2574),Ut=window&&window.__assign||function(){return Ut=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ut.apply(this,arguments)},qt=function(t,e,n){return fetch(function(t,e){return void 0===t&&(t=window.location.origin),void 0===e&&(e={}),(0,jt.am)(t+"/images-apphost/image-download",Ut(Ut({},e),{images_avatars_size:"preview",images_avatars_namespace:"images-cbir"}))}(n,{cbird:e}),{method:"POST",body:t}).then((function(t){return function(t){if(t.status<200||t.status>=300)throw new Error("Image upload failed, status code "+t.status);return t.json()}(t)}))},Ht=function(t){var e=t.platform,n=t.origin,i=void 0===n?window.location.origin:n,o=t.page,r=t.originalImageUrl,s=t.cbirId,a=t.errorType,c={rpt:"imageview"};return o&&(c.cbir_page=o),r&&(c.url=r),s&&(c.cbir_id=s),a&&(c.cbir_error=a),(0,jt.am)(""+i+function(t){switch(t){case"touch-phone":return"/images/touch/search";case"touch-pad":return"/images/pad/search";case"desktop":return"/images/search"}}(e),c)},Vt=function(t,e){var n=e.errorType,i=e.withRedirect,o=void 0!==i&&i,r=e.platform,s=void 0===r?"desktop":r,a=e.origin,c=e.page,u={type:"error",errorType:n,originalError:t,redirectUrl:Ht({platform:s,origin:a,page:c,errorType:n})};return o&&window.location.assign(u.redirectUrl),u},Yt=window&&window.__assign||function(){return Yt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Yt.apply(this,arguments)},zt=function(t,e){var n=e.cbird,i=e.downscaleWidth,o=e.downscaleHeight,r=e.downscaleQuality,s=void 0===r?1:r,a=e.withRedirect,c=e.platform,u=e.origin,l=e.page,h=function(t){return qt(t,n,u).then((function(e){var n=function(t,e){var n=e.withRedirect,i=void 0!==n&&n,o=e.platform,r=void 0===o?"desktop":o,s=e.origin,a=e.page;if(function(t){return"type"in t&&"captcha"===t.type}(t)){var c={type:"captcha",redirectUrl:t.captcha["captcha-page"]};return i&&window.location.assign(c.redirectUrl),c}var u=t.url.replace(/\/preview$/,"/orig"),l=function(t){return t.image_shard+"/"+t.image_id}(t),h={type:"success",cbirId:l,originalImageUrl:u,redirectUrl:Ht({originalImageUrl:u,cbirId:l,platform:r,origin:s,page:a})};return i&&window.location.assign(h.redirectUrl),h}(e,{withRedirect:a,platform:c,origin:u,page:l});return"success"===n.type?Yt(Yt({},n),{downscaledFile:t}):n})).catch((function(t){return Vt(t,{errorType:"request",withRedirect:a,platform:c,origin:u,page:l})}))};return Ft(t,i,o,"image/jpeg",s).then((function(t){return h(t)})).catch((function(t){return Vt(t,{errorType:"format",withRedirect:a,platform:c,origin:u,page:l})}))};MBEM.decl("image-search",{_doRedirect:function(t){window.location.href=t},_onClick:function(n){var i=this,o=n.target;null!=o&&o.files&&(this.setMod("progress",!0),zt(o.files[0],{cbird:this.params.cbird||117,downscaleWidth:1e3,downscaleHeight:1e3,downscaleQuality:.7,origin:this.params.origin,page:this.params.page}).then((function(n){if(i.delMod("progress"),"success"===(null==n?void 0:n.type))(0,e.DF)("tech","image-search.success"),i._doRedirect(n.redirectUrl);else{if("error"!==(null==n?void 0:n.type))throw new Error("incorrect response from lib");(0,t.H)({block:"image-search",message:"Image search - error fallback redirect"}),i._doRedirect(n.redirectUrl)}})).catch((function(e){i.delMod("progress"),(0,t.H)({block:"image-search",message:"Image search error"},e)})))}},{live:function(){return this.liveBindTo("picker","change",(function(t){this._onClick(t)})),!0}});r(6211);function Wt(t){return"<div "+b()({class:(0,P.jY)("simple-tooltip",{mods:t.mods,mix:"i-mini-bem"}),"data-bem":(0,P.Ms)({"simple-tooltip":{}})})+"><div class='simple-tooltip__tail'></div>"+w().oneElem("<div class='simple-tooltip__content'>"+w().oneElem(t.content)+"</div>")+"</div>"}MBEM.decl("simple-tooltip",{__constructor:function(){var t=this;this.bindTo("click",(function(){t.trigger("click")})),this._windowResize=this._reposition},show:function(t,e){var n=this;this._owner=t,this._prevOptions=e,this.domElem.style.zIndex=String(function(t){for(var e=t,n=0;e&&e!==document.body;){if(e instanceof HTMLElement){var i=window.getComputedStyle(e);i.zIndex&&!Number.isNaN(Number(i.zIndex))&&(n=Number(i.zIndex))}e=e.parentNode}return n}(t)+1),this._reposition(),this.setMod("direction",e.direction),this.bindTo(window,"resize",this._windowResize),this.bindTo(window,"scroll",this._windowResize),this._timeout=window.setTimeout((function(){n._timeout=0,n.setMod("shown","yes"),n.hasMod("autoclosable","yes")&&n.bindTo(document.body,"click",n._docClickHandler)}),50)},hide:function(){var t=this;this.hasMod("shown")&&(this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this.delMod("shown"),this.trigger("hide"),this.unbindFrom(document.body,"click",this._docClickHandler),this.unbindFrom(window,"resize",this._windowResize),this.unbindFrom(window,"scroll",this._windowResize),setTimeout((function(){var e;null===(e=t.domElem.parentNode)||void 0===e||e.removeChild(t.domElem)}),150))},_docClickHandler:function(t){t.target&&t.target instanceof Node&&!this.domElem.contains(t.target)&&this.hide()},_reposition:function(){var t=this._owner,e=this._prevOptions;if(t&&e){var n=t.getBoundingClientRect(),i=this.domElem.getBoundingClientRect();"right-top"===e.direction?(this.domElem.style.top="".concat(window.scrollY+n.top+(e.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+n.right+(e.xOffset||0),"px")):"left-top"===e.direction?(this.domElem.style.top="".concat(window.scrollY+n.top+(e.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+n.left-i.width+(e.xOffset||0),"px")):"top-center"===e.direction?(this.domElem.style.top="".concat(window.scrollY+n.top-i.height+(e.yOffset||0),"px"),this.domElem.style.left="".concat((window.scrollX+n.left+n.right)/2-i.width/2+(e.xOffset||0),"px")):"left"===e.direction&&(this.domElem.style.top="".concat(window.scrollY+n.top+n.height/2-i.height/2+(e.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+n.left-i.width+(e.xOffset||0),"px"))}}},{show:function(t,e){var n=MBEM.construct((0,d.M)(Wt,e));document.body.appendChild(n);var i=MBEM.getInitedBlock(n,"simple-tooltip");return i.show(t,e),i}}),MBEM.decl("keyboard-loader",{__constructor:function(){var t=(this.domElem.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1],e=document.querySelector(this.INPUT_SELECTOR);e&&(_t({lang:t,for:e}),this.bindTo("click",(function(){mt()})))},INPUT_SELECTOR:".search2 .mini-suggest__input"});r(7922),r(8589);var Kt=r(4934);function Gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Xt(i.key),i)}}function Xt(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var $t=[];var Zt=function(){function n(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!t||!t.node)throw new Error("BannerRefresh: params and params.node is required");this._url=t.url||"/portal/ntp/banner",this._node=t.node,this._loadTimeout=t.loadTimeout||30,this._timeout=null!==(e=t.timeout)&&void 0!==e?e:90,this._limit=t.limit||3,this._currentCount=0,this._ratio=t.ratio||1;var i=t.autoRefreshCheck||function(t){this._onError("No autorefresh check"),t()};this._check=i.bind(this,this.refreshBanner.bind(this)),this._query=t.queryParams||{},this._bannerClass=t.className,this._loadingClass=t.loadingClassName,this._wrapClass=t.wrapClass,this._removeBackgroundClass=t.removeBackgroundClass,this._onBannerMessage=t.onBannerMessage,this._onBeforeSwitchBanner=t.onBeforeSwitchBanner||function(){},this._onBeforeRefreshBanner=t.onBeforeRefreshBanner||function(){},this._onRefreshBanner=t.onRefreshBanner||function(){},this._logFunc=t.logFunc||function(){},this._onNetworkFailed=t.onNetworkFailed,this._container=this._node.parentNode,this._container||this._onError("invalid or detached node"),t.skip&&this.updateUsedBanners(t.skip.slice()),t.queryParams&&"touch"===t.queryParams.refresh&&(this._feed=t.queryParams.feed||1)}var i,o,r;return i=n,(o=[{key:"updateUsedBanners",value:function(t){Array.isArray(t)?t.forEach((function(t){$t.push(t)})):function(t){return"string"==typeof t||"number"==typeof t}(t)&&$t.push(t);for(var e=[],n={},i=$t.length-1;e.length<10&&i>=0;){var o=$t[i--];o in n||(e.unshift(o),n[o]=1)}$t=e}},{key:"refreshBanner",value:function(t){if(!(this._currentCount++>=this._limit)){this._timeout*=this._ratio;var e=(0,Kt.Z)((0,Kt.Z)({},this._query),t||{}),n=this._getUsedBanners();n.length&&(e["skip-token"]=n.join(",")),home.skinIsDark&&(e["dark-theme"]="1");var i=l(this._url,e);if(this._container){var o={"показанные баннеры":n.join(", ")||"нет","осталось показов":isFinite(this._limit)?this._limit:"нет","таймаут":this._timeout};this._feed&&(o.stat_id=this._feed),this._logFunc({action:"запрос за баннером для рефреша",params:o}),this._container.appendChild(this._createNew(i))}else this._onError("No container on refresh")}}},{key:"setRefresh",value:function(){this._timeout?setTimeout(this._check,1e3*this._timeout):this._check()}},{key:"_onError",value:function(e){var n=new Error("BannerRefresh:"+e);n.block="banner-refresh",n.meta={cls:this._node.className},this._container&&(n.meta.cnt=this._container.className),(0,t.H)({},n)}},{key:"_getUsedBanners",value:function(){return $t.slice()}},{key:"_createNew",value:function(t){this._destroyNew();var e=this._new=document.createElement("iframe");if(this._bannerClass&&(e.className=this._bannerClass),this._bindOnMessage(e),e.src=this._relUrl=t,this._wrapClass){var n=this._new=document.createElement("div");n.className=this._wrapClass,n.appendChild(e)}return this._loadingClass&&(this._new.className+=" "+this._loadingClass),this._new}},{key:"_destroyNew",value:function(){if(this._new){var t=this._new,e=t.parentNode;e&&e.removeChild(t),this._unbindOnMessage(),this._new=null}}},{key:"_bindOnMessage",value:function(t){var e,n=this;function i(){t.removeEventListener("load",r),t.removeEventListener("error",s)}function o(){clearTimeout(e),i()}this._onMessage&&this._unbindOnMessage(),this._onMessage=function(e){if(t.contentWindow===e.source){var i;try{i=JSON.parse(e.data)}catch(r){return}i&&i.name&&(o(),n._unbindOnMessage(),n._onEvent(i,t))}};var r=function(){"function"!=typeof n._onNetworkFailed||n._checkUrlLoaded(n._relUrl)||n._onNetworkFailed(),i(),t._loaded=!0},s=function(){o(),n._onEvent({name:"none"},t)};e=setTimeout(s,1e3*this._loadTimeout),t.addEventListener("load",r),t.addEventListener("error",s),window.addEventListener("message",this._onMessage)}},{key:"_unbindOnMessage",value:function(){this._onMessage&&(window.removeEventListener("message",this._onMessage),this._onMessage=null)}},{key:"_onEvent",value:function(t,n){if(this._onBannerMessage&&this._onBannerMessage(t),"none"===t.name)return this._logFunc({action:"пришел пустой баннер из ручки рефреша",params:{}}),void this._destroyNew();if((0,e.DF)("show","banner.refresh_count.".concat(this._currentCount)),n._loaded?this._switchBanners(t):n.addEventListener("load",this._switchBanners.bind(this,t)),t.bannerId){var i=t.name.split("."),o={"баннер":i.length>2?i[1]+" - "+i[2]:t.name,id:t.bannerId};this._feed&&(o.stat_id=this._feed),this._logFunc({action:"показ баннера",params:o}),this.updateUsedBanners([t.bannerId])}}},{key:"_switchBanners",value:function(t){if(this._new){if(this._onBeforeSwitchBanner(t,this._new),this._onBeforeRefreshBanner(),this._container&&this._container.removeChild(this._node),this._loadingClass&&(this._new.className=this._new.className.replace(new RegExp("\\b"+this._loadingClass+"\\b"),"")),this._removeBackgroundClass){var e=document.querySelector(".".concat(this._removeBackgroundClass));e&&(e.style.background="")}this._node=this._new,this._new=null,this.setRefresh(),this._onRefreshBanner()}}},{key:"_checkUrlLoaded",value:function(t){var e=document.location.origin+t,n=!0,i=window.PerformanceObserver&&window.performance&&performance.getEntriesByType&&performance.getEntriesByType("resource");return i&&i.length&&(n=i.some((function(t){return t.name===e}))),n}}])&&Gt(i.prototype,o),r&&Gt(i,r),Object.defineProperty(i,"prototype",{writable:!1}),n}();function Qt(t,e){var n,i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null,a=0,c=function(){a=!1===r.leading?0:(new Date).getTime(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var u=(new Date).getTime();a||!1!==r.leading||(a=u);var l=e-(u-a);return n=this,i=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(c,l)),o}}r(7809);var Jt={create:function(t,e){var n=IntersectionObserver;this._eventsInited||(this._eventsInited=!0,"THROTTLE_TIMEOUT"in n.prototype&&(this._initEvents(),n.prototype.THROTTLE_TIMEOUT=200,n.prototype.USE_MUTATION_OBSERVER=!1));var i=new n(t,e);return this._instances.push(i),i},_instances:[],_THROTTLE_TIMEOUT:200,_initEvents:function(){this._throttledCallback=Qt(this._fire.bind(this),this._THROTTLE_TIMEOUT,{leading:!1}),this._listenEvents()},_listenEvents:function(){},_fire:function(){this._instances.forEach((function(t){t._checkForIntersections()}))}},te={setCounter:function(n){var i,o=this;if((n.elem||!1===n.useIntersection)&&(n.urls||n.callback||n.justRedirStat)){var r,s={elem:n.elem,callback:n.callback,urls:n.urls,blockId:n.blockId,needStat:n.needStat,bannerIds:n.bannerIds,useIntersection:void 0===n.useIntersection||n.useIntersection,showedTime:"number"!=typeof n.showedTime?2e3:n.showedTime,threshold:"number"!=typeof n.threshold?.5:n.threshold,removeSendTimer:function(){},setSendTimer:function(){},justRedirStat:n.justRedirStat,refreshCaller:n.refreshCaller};if(s.needStat)(0,e.DF)("show",this._getStatPath(s.blockId,"client")),null===(r=s.elem)||void 0===r||r.addEventListener("click",(function(){(0,e.DF)("click",o._getStatPath(s.blockId,"click"))}));return s.useIntersection&&(s.observer=Jt.create((function(t){var e=t[t.length-1];s.inViewPort=e.intersectionRatio>s.threshold,s.inViewPort?o._setSendTimer(s):o._removeSendTimer(s)}),{threshold:s.threshold})),this._bindEvents(s),this._forceCounter.bind(this,s)}(0,t.H)({block:"showedCounter",message:"Cannot set counters",meta:{blockId:n.blockId,urls:null===(i=n.urls)||void 0===i?void 0:i.join()},sourceType:"logic"})},_forceCounter:function(t){this._removeSendTimer(t),this._onShowed(t)},_bindEvents:function(t){this.catchFromFrame(),t.removeSendTimer=this._removeSendTimer.bind(this,t),t.setSendTimer=this._setSendTimer.bind(this,t),t.observer&&t.elem?t.observer.observe(t.elem):MBEM.blocks["i-mini-visibilitychange"].waitForVisible(t.setSendTimer.bind(t)),MBEM.channel("sys").on({hidden:t.removeSendTimer,visible:t.setSendTimer}),this._logFunc({action:"Счётчики установлены",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,bannerIds:t.bannerIds}})},_unBindEvents:function(t){t.observer&&t.elem&&t.observer.unobserve(t.elem),MBEM.channel("sys").un("hidden",t.removeSendTimer),MBEM.channel("sys").un("visible",t.setSendTimer)},_setSendTimer:function(t){!t.inViewPort&&t.observer||document.hidden||(this._removeSendTimer(t),t.sendTimer=setTimeout(this._onShowed.bind(this,t),t.showedTime))},_removeSendTimer:function(t){t.sendTimer&&(clearTimeout(t.sendTimer),t.sendTimer=null)},_onShowed:function(t){this._sendStat(t),t.urls&&t.urls.length&&(t.urls.forEach((function(t){(new Image).src=t})),this._logFunc({action:"Счётчики отправлены",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,bannerIds:t.bannerIds}})),t.callback&&t.callback(),t.refreshCaller&&MBEM.channel("showedCounter").trigger("readyForRefresh"),this._unBindEvents(t)},_sendStat:function(t){(t.observer||t.justRedirStat)&&t.needStat&&(0,e.DF)("show",this._getStatPath(t.blockId,"realshow"))},_logFunc:function(t){var e,n,i;null===(e=home)||void 0===e||null===(n=e.logBanner)||void 0===n||null===(i=n.log)||void 0===i||i.call(n,t)},catchFromFrame:function(){var t=this;this.frameListener||(window.addEventListener("message",(function(e){var n,i=null===(n=e.data)||void 0===n?void 0:n.isc;i&&t._logFunc(i)})),this.frameListener=!0)},frameListener:!1,_getStatPath:function(t,e){return"banner.".concat(e,".").concat(t)}};BEM.DOM.decl("banner-newtab",{onSetMod:{js:{inited:function(){var n=this,i={"ntp-sandwich":1,content:"chromenewtab",statPath:"chromenewtab",ntp:"chromenewtab",usemock:this.params.usemock_refresh,"aim-banner-id":this.params.aim_banner_id,isNtpLite:!0};te.catchFromFrame(),this._bannerRefresh=new Zt({limit:1/0,timeout:0,url:this.params.url,queryParams:i,node:n.elem("place")[0],className:"banner-newtab__frame",loadingClassName:"banner-newtab__frame_hidden",onBannerMessage:n._onMessage.bind(n),onRefreshBanner:function(){(0,e.Dn)(n.domElem)},autoRefreshCheck:function(){},logFunc:home.logBanner&&home.logBanner.log,onNetworkFailed:function(){n.setMod("disabled","yes"),(0,t.H)({level:"warn",block:n.__self.getName(),message:"onNetworkFailed: Failed to load."})}}),this._bannerRefresh.refreshBanner(),document.addEventListener("skin-changed",this._onSkinChanged.bind(this))}}},_onSkinChanged:function(){var t=this.elem("frame")[0];t.contentWindow&&t.contentWindow.postMessage({name:"skin-changed",data:{skinIsDark:document.documentElement.classList.contains("document_dark_yes")}})},_onMessage:function(t){"none"===t.name?(this._hide(),this._bannerRefresh.setRefresh()):(MBEM.channel("adb").trigger("rendered",{id:"newtab3."+t.name,elem:this.domElem[0]}),this._show())},_hide:function(){this.setMod("disabled","yes")},_show:function(){this.setMod("visible","yes")}});var ee;r(5207),r(961),r(3122),r(1359),r(9285),r(6006),r(2018),r(6822),r(9002),r(3526),r(3025),r(224);function ne(){if(ee)return ee;var t=0;function e(n,i){var o=indexedDB.open("keyval-store",1);o.onerror=function(){var r=o.error;if(t++<10&&r&&-1!==r.message.indexOf("Internal error opening backing store"))return setTimeout((function(){e(n,i)}),1e3);i(r)},o.onupgradeneeded=function(){o.result.createObjectStore("keyval")},o.onsuccess=function(){o.result.onclose=function(){ee=null},n(o.result)}}var n=Date.now();return ee=new Promise((function(t,n){e(t,n)})).then((function(e){return t&&"Ya"in window&&window.Ya.Rum.logError({level:"info",block:"idb-keyval",method:"getDB",message:"retry on open successfull",additional:{attempt:t,total:Date.now()-n}}),e}),(function(e){throw t&&"Ya"in window&&window.Ya.Rum.logError({block:"idb-keyval",method:"getDB",message:"retry on open failed",additional:{total:Date.now()-n}}),e}))}function ie(t,e){return ne().then((function(n){return new Promise((function(i,o){var r,s=n.transaction("keyval",t);s.oncomplete=function(){i(r&&r.result)},s.onerror=function(t){o(s.error||t.target&&t.target.error)},r=e(s.objectStore("keyval"))}))})).catch((function(n){if("InvalidStateError"===n.name)return ee=null,ie(t,e);throw n}))}var oe={get:function(t){return ie("readonly",(function(e){return e.get(t)}))},set:function(t,e){return ie("readwrite",(function(n){n.put(e,t)}))},delete:function(t){return ie("readwrite",(function(e){e.delete(t)}))},clear:function(t){return ie("readwrite",(function(e){var n=e.clear();t&&(n.onsuccess=t)}))},keys:function(){var t=[];return ie("readonly",(function(e){(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}})).then((function(){return t}))}},re=oe;var se={"­":"","&shy;":""};Object.keys(se).map((function(t){return"(".concat(t,")")})).join("|");var ae=r(9511);function ce(t,e,n){var i=t.item,o=t.index,r=i.url,s=i.icon_type,a=i.icon_url,c=i.title,u=i.default_id,l="tablo.item.".concat(u||o);return"<li class='tablo__item tablo__item_type_user-link'>"+(w().oneElem(n(E.b,{href:r,mix:"tablo__link",stat:e.stat.getAttr(l,r,{logShow:!1}),content:w().oneElem("<span class='tablo__item-icon-wrapper'>"+w().oneElem("<span "+b()({class:"tablo__item-icon tablo__item-icon_type_".concat(s),style:a?"background-image: url(".concat(a,")"):""})+">"+w().oneElem(a?"":c.charAt(0).toUpperCase())+"</span>")+"</span>")+w().oneElem("<span class='tablo__item-title'>"+w().oneElem((0,ae.k6)(c))+"</span>")}))+w().oneElem(n(E.b,{mix:"tablo__context-button",tag:"button",attrs:{"aria-haspopup":"true",title:"Изменить ярлык"},stat:e.stat.getAttr("tablo.context-button",null,{logShow:!1}),content:w().oneElem('<svg class="tablo__more-icon" aria-hidden="true" width="4" height="18" viewBox="0 0 4 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM4 9a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-2 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill="currentColor"/></svg>\n')})))+"<span class='tablo__item-tip' aria-hidden></span></li>"}function ue(t,e){var n;return(null===(n=e.ServicesNtp)||void 0===n?void 0:n.user_tablo)||[]}function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){de(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r,s,a=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(a.push(i.value),a.length!==e);c=!0);}catch(l){u=!0,o=l}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */me=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var r=e&&e.prototype instanceof d?e:d,s=Object.create(r.prototype),a=new I(o||[]);return i(s,"_invoke",{value:w(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var h={};function d(){}function p(){}function f(){}var m={};c(m,r,(function(){return this}));var _=Object.getPrototypeOf,v=_&&_(_(C([])));v&&v!==e&&n.call(v,r)&&(m=v);var g=f.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){function o(i,r,s,a){var c=l(t[i],t,r);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,s,a)}),(function(t){o("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return o("throw",t,s,a)}))}a(c.arg)}var r;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){o(t,n,e,i)}))}return r=r?r.then(i,i):i()}})}function w(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return T()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function E(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=f,i(g,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(y.prototype),c(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new y(u(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(g),c(g,a,"Generator"),c(g,r,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function _e(t,e,n,i,o,r,s){try{var a=t[r](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(i,o)}MBEM.decl("tablo",{__constructor:function(){var i=this;this._dbKey="tabloItems",this._wasShownKey="tabloWasShown",this._allServicesItems=(0,n.Yu)("tablo.allServicesItems"),this._items=[],this._activeItem=null,this._addPopup=$(this.elem("add-popup")).bem("popup2"),this._addPopupTitle=this.elem("add-popup-title")[0],this._addPopupTitle.textContent=this.params.addPopupTitle.new,this._titleInput=this.elem("title-input")[0],this._linkInput=this.elem("link-input")[0],this._saveButton=this.elem("save-button")[0],this._contextPopup=$(this.elem("context-popup")).bem("popup2"),this._loadUserItems().then((function(){i._renderItems(),i._bindHandlers(),i._updateLayout(),i.setMod("visible","yes"),(0,e.Dn)(i.domElem,{visibilityCheck:!0}),i._logShow()})).catch((function(e){(0,t.H)({block:"tablo",method:"constructor"},e)}))},_loadLocalUserItems:function(){return re.get(this._dbKey).catch((function(e){(0,t.H)({block:"tablo",method:"loadLocalUserItems",level:"warn",message:"Tablo: can't read from IndexedDB"},e)})).then((function(t){return t}))},_loadServerUserItems:function(){return new Promise((function(t,e){var n=function(){return t((0,d.M)(ue))};document.documentElement.classList.contains("i-init-data_loaded")?n():BEM.channel("i-init-data").onFirst("data",n),BEM.channel("i-init-data").onFirst("error",e),setTimeout(e,5e3)})).catch((function(e){(0,t.H)({block:"tablo",method:"loadServerUserItems",level:"error",message:"Tablo: can't load user items from client req"},e)}))},_loadUserItems:function(){var t,e=this;return(t=me().mark((function t(){var n,i,o,r,s;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.params.defaultItems,t.next=3,e._loadLocalUserItems();case 3:if(o=t.sent){t.next=8;break}return t.next=7,e._loadServerUserItems();case 7:r=t.sent;case 8:if(o||null!==(n=r)&&void 0!==n&&n.length){t.next=11;break}return e._items=i,t.abrupt("return");case 11:s=o||r||[],e._items=s.map((function(t){return i.find((function(e){return e.default_id===t.default_id}))||t})),!o&&r&&e._saveUserItemsToLocal();case 14:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function s(t){_e(r,i,o,s,a,"next",t)}function a(t){_e(r,i,o,s,a,"throw",t)}s(void 0)}))})()},_saveUserItemsToLocal:function(){re.set(this._dbKey,this._items).catch((function(e){(0,t.H)({block:"tablo",method:"saveUserItemsToLocal",level:"warn",message:"Tablo: can't access IndexedDB"},e)}))},_saveUserItemsToServer:function(){var e;document.documentElement.classList.contains("i-init-data_loaded")&&(null===(e=(0,d.M)(W))||void 0===e?void 0:e.logged)&&fetch(this.params.userItemsUrl,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({items:JSON.stringify(this._items)})}).then((function(t){if(!t.ok)throw new Error("Response status ".concat(t.status))})).catch((function(e){(0,t.H)({block:"tablo",method:"saveUserItemsToServer",level:"error",message:"Tablo: can't save user items to /portal/set/ntp_tablo_settings"},e)}))},_saveUserItems:function(){this._saveUserItemsToLocal(),this._saveUserItemsToServer()},_bindHandlers:function(){this.bindTo("add-button","click",this._onAddPopupOpen),this.bindTo("add-form","submit",this._onAddPopupSave),this.bindTo("context-button","click",this._onContextPopupOpen),this.bindTo("edit-button","click",this._onContextPopupEdit),this.bindTo("delete-button","click",this._onContextPopupDelete),this.bindTo("title-input","input",this._validateAddForm),this.bindTo("link-input","input",this._validateAddForm),this.bindTo(this.elem("item","type","services"),"click",this._onServicesOpen),this.bindTo(window,"resize",MBEM.throttle(this._updateLayout,100))},_onWindowKeypress:function(t){var n="Control"===t.key||"Shift"===t.key,i=t.ctrlKey&&t.shiftKey;if("keyup"===t.type&&n&&this.delMod("mode"),i&&!document.querySelector(".popup2_visible_yes")){var o=Number(t.code.replace("Digit",""));if("keydown"===t.type&&n)this.setMod("mode","show-tip");else if(("keypress"===t.type||"keyup"===t.type)&&!isNaN(o)){var r;(0,e.DF)("click","tablo.hotkey"),null===(r=this.elem("link")[o])||void 0===r||r.click()}}},_renderItems:function(){var t="";this._items.forEach((function(e,n){t+=(0,d.M)(ce,{item:e,index:n})})),this.elem("item","type","services")[0].insertAdjacentHTML("afterend",t)},_updateLayout:function(){for(var t=this.elem("item"),e=t[0].getBoundingClientRect(),n=e.width,i=e.height,o=this.domElem.getBoundingClientRect(),r=o.width,s=o.height,a=parseFloat(window.getComputedStyle(t[0]).marginTop),c=Number(this.getMod("max-lines"))||1/0,u=Math.floor((s+a)/(i+a)),l=Math.min(c,u),h=Math.floor(r/n),d=h*l,p=0;p<t.length;p++)t[p].hidden=p>=d;var f=Math.min(t.length,d),m=h-f/Math.ceil(f/h),_=h;m>=2?_=h-2:m>=1&&(_=h-1),this.domElem.setAttribute("style","".concat("--column-count",": ").concat(_)),this.elem("item-tip").forEach((function(t,e){e>9?(t.textContent="",t.hidden=!0):(t.textContent=e.toString(),t.hidden=!1)}))},_logShow:function(){var n=this;re.get(this._wasShownKey).then((function(t){t?(0,e.DF)("show","tablo.shown-again"):re.set(n._wasShownKey,!0)})).catch((function(e){(0,t.H)({block:"tablo",method:"logShow",level:"warn",message:"Tablo: can't read from IndexedDB"},e)}))},_onAddPopupOpen:function(t){t&&this._setActiveItem(null),this._addPopup.setMod("visible","yes"),this._linkInput.focus()},_onAddPopupSave:function(t){if(t.preventDefault(),!this.hasMod(this._saveButton,"disabled")){var e=Boolean(this._activeItem),n=this._activeItem?this._activeItem.index+1:this._items.length+1;this._saveItem(),this._addPopup.delMod("visible"),(e||this.elem("item","type","add-button")[0].hidden)&&this.elem("link")[n].focus()}},_validateAddForm:function(){Boolean(this._linkInput.value.trim())?(this.delMod(this._saveButton,"disabled"),this._saveButton.ariaDisabled=null):(this.setMod(this._saveButton,"disabled","yes"),this._saveButton.ariaDisabled="true")},_parseInputs:function(){var t=this._linkInput.value.trim(),e=t;/^[a-z]+:\/\//i.test(e)||/^(tel)|(mailto):/i.test(e)||(e="https://".concat(e));var n=this._titleInput.value.trim();n||(n=(n=(e.replace(/^[a-z]+:\/*/i,"").replace(/^.*?@/,"").replace(/^www\./i,"").replace(/\/.*$/,"").replace(/:[^/]*/,"")||e).split(".")[0]||t).charAt(0).toUpperCase()+n.slice(1));return[n,e]},_onServicesOpen:function(t){t.preventDefault();var e=document.querySelector(".services-more-popup");e&&MBEM.getInitedBlock(e,"services-more-popup").toggle()},_onContextPopupOpen:function(t){this._contextPopup.delMod("visible");var e=MBEM.closest(t.target,"tablo__item");e&&(this._setActiveItem(e),this._contextPopup.setMod("visible","yes"),this._contextPopup.domElem.find("button, a")[0].focus())},_onContextPopupEdit:function(){this._contextPopup.delMod("visible"),this._onAddPopupOpen()},_onContextPopupDelete:function(){this._contextPopup.delMod("visible"),this._deleteItem()},_setActiveItem:function(t){if(t){var e=this.elem("item","type","user-link").indexOf(t),n=this.elem("item-icon")[e+1];this._activeItem={node:t,item:this._items[e],index:e,iconElement:n}}else this._activeItem=null;this._onActiveItemChange()},_onActiveItemChange:function(){var t,e;this._titleInput.value=(null===(t=this._activeItem)||void 0===t?void 0:t.item.title)||"",this._linkInput.value=(null===(e=this._activeItem)||void 0===e?void 0:e.item.url)||"",this._titleInput.value?this._addPopupTitle.textContent=this.params.addPopupTitle.edit:this._addPopupTitle.textContent=this.params.addPopupTitle.new,this._validateAddForm(),this._activeItem&&this._contextPopup.setTargetNode(this._activeItem.node)},_deleteItem:function(){var t,n,i,o=this,r="tablo.item-deleted.".concat((null===(t=this._activeItem)||void 0===t?void 0:t.item.default_id)||(null===(n=this._activeItem)||void 0===n?void 0:n.index));(0,e.DF)("click",r),this._activeItem&&(this.elem("link")[this._activeItem.index].focus(),this._items=this._items.filter((function(t,e){var n;return e!==(null===(n=o._activeItem)||void 0===n?void 0:n.index)})),null===(i=this._activeItem.node.parentNode)||void 0===i||i.removeChild(this._activeItem.node),this._updateLayout(),this._saveUserItems())},_saveItem:function(){var t,n,i=this,o=(null===(t=this._activeItem)||void 0===t?void 0:t.item)||{title:"",url:"",icon_type:"none"},r=pe(this._parseInputs(),2),s=r[0],a=r[1],c=this._activeItem?this._activeItem.index:this._items.length;(0,e.DF)("click","tablo.".concat(this._activeItem?"item-edited":"item-added",".").concat(o.default_id||c)),delete o.default_id;var u=he(he({},o),{},{title:s,url:a});if(this._items[c]=u,this._activeItem&&o.url===u.url){this._activeItem.item=u;var l=this._activeItem.node.querySelector(".tablo__item-title");return l&&(l.textContent=u.title),u.icon_url||this._resetIcon(),void this._saveUserItems()}var h,p,f=(0,d.M)(ce,{item:u,index:c});this._activeItem?(this._activeItem.node.insertAdjacentHTML("beforebegin",f),null===(h=this._activeItem)||void 0===h||null===(p=h.node.parentNode)||void 0===p||p.removeChild(this._activeItem.node)):(this.elem("item","type","add-button")[0].insertAdjacentHTML("beforebegin",f),this._updateLayout());var m=this.elem("item","type","user-link")[c];this._setActiveItem(m),null===(n=m.querySelector(".tablo__context-button"))||void 0===n||n.addEventListener("click",this._onContextPopupOpen.bind(this)),this._setIcon().then((function(){return i._saveUserItems()}))},_loadIcon:function(e){var n=e.replace(/^[a-z]+:\/*/i,"").replace(/^.*?@/,"").replace(/:[^/]*/,"").replace(/[?#].*$/,""),i=(this._allServicesItems||[]).find((function(t){return n.startsWith(t.hostname)}));if(i)return Promise.resolve({icon_url:i.iconUrl,icon_type:"default"});var o="https://favicon.yandex.net/favicon/v2/".concat(n,"/?size=120"),r=new AbortController;return setTimeout((function(){return r.abort()}),5e3),fetch(o+"&json=1",{method:"GET",signal:r.signal}).then((function(t){return t.json()})).then((function(t){if(t[0]&&t[0].image)return{icon_url:t[0].image?o:void 0,icon_type:t[0].original_height<120?"favicon":"fill"};throw new Error("No icon got from favicon.yandex.net")})).catch((function(n){return(0,t.H)({block:"tablo",method:"loadIcon",level:"warn",message:n.message,meta:{url:e,iconUrl:o}}),{icon_url:void 0,icon_type:"none"}}))},_resetIcon:function(){if(this._activeItem){var t=this._activeItem,e=t.item,n=t.iconElement;n.textContent=e.title.charAt(0).toUpperCase(),e.icon_type="none",e.icon_url=void 0,n.removeAttribute("style"),this.setMod(n,"type","none"),this.setMod(n,"changed","yes")}},_setIcon:function(){var e=this;if(!this._activeItem)return Promise.resolve();this._resetIcon();var n=this._activeItem,i=n.item,o=n.index,r=n.iconElement;return this._loadIcon(i.url).then((function(t){var n=t.icon_url,s=t.icon_type;n&&i===e._items[o]&&(i.icon_url=n,i.icon_type=s,e.setMod(r,"type",s),e.setMod(r,"changed","yes"),r.setAttribute("style","background-image: url(".concat(n,")")),r.textContent="")})).catch((function(e){(0,t.H)({block:"tablo",method:"setIcon"},e)}))}}),MBEM.decl("services-more-popup",{__constructor:function(){var t=this;this.bindTo("search","input",(function(e){t._onChangeMoreSearch(e)})),this.bindTo("hidden-close-button","click",(function(e){return t.toggle()})),this.bindTo("keydown",this._onKeydown),this._morePopupClickEvents=this._morePopupClickEvents.bind(this),this._scrollbar=MBEM.getInitedBlock(this.elem("scrollbar")[0],"scrollbar"),this._lastFocused=null;var e,n=(e=this.domElem,Array.from(e.querySelectorAll('a[href], *[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem')).filter((function(t){var e=t.getAttribute("tabindex");return!(null!==e&&parseInt(e,10)<0)})));this._firstFocusable=n[0],this._lastFocusable=n[n.length-1],this._firstFocusable&&this.bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown),this._lastFocusable&&this._lastFocusable!==this._firstFocusable&&this.bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},toggle:function(t){if((t=void 0===t?!this._isMorePopupOpened:t)!==this._isMorePopupOpened){t?this._beforeOpenMorePopup():this._beforeCloseMorePopup(),this.toggleMod("visible","yes",t);var e=document.querySelector(".services-more-popup__overlay");if(e&&this.toggleMod(e,"visible","yes",t),t&&this._scrollbar&&this._scrollbar.onScroll(),MBEM.channel("services-more-popup").trigger("toggle",{toggle:t}),t)this._focusOnOpen();else{var n=document.querySelector(".search3__input");null==n||n.focus()}return!1}},_activeMoreSearch:function(){this._searchContainer||(this._searchContainer=this.elem("search-container")[0]),this.setMod(this._searchContainer,"active","yes"),this.elem("search")[0].focus()},_onChangeMoreSearch:function(t){var e,n=null===(e=t.target)||void 0===e?void 0:e.value.toLowerCase(),i=new RegExp(String.fromCharCode(173),"g"),o=this.elem("more-button"),r=this.elem("tabs"),s=this.elem("tabs-title");if(o.forEach((function(t){t.style.display=""})),r[0]&&(r[0].style.display="none"),s[0]&&(s[0].style.display="none"),""!==n){this._moreItems=this.elem("item"),this._moreItems.forEach((function(t){var e,o;((null===(e=t.querySelector(".services-more-popup__item-title"))||void 0===e||null===(o=e.textContent)||void 0===o?void 0:o.toLowerCase().replace(i,""))||"").indexOf(n)>-1?(t.style.display="",MBEM.cls.add(t,"services-more-popup__item_search-show")):(t.style.display="none",MBEM.cls.remove(t,"services-more-popup__item_search-show"))})),Array.from(document.querySelectorAll(".services-more-popup__section")).forEach((function(t){0===Array.from(t.querySelectorAll(".services-more-popup__item")).filter((function(t){return MBEM.cls.contains(t,"services-more-popup__item_search-show")})).length?t.querySelectorAll(".services-more-popup__search-message").length||(t.style.display="none"):t.style.display=""}));var a=this.elem("search-message")[0];if(Array.from(document.querySelectorAll(".services-more-popup__section")).some((function(t){return"none"!==t.style.display})))null==a||a.remove();else if(!a){var c=document.createElement("div");c.className="services-more-popup__search-message",c.textContent="Ничего не найдено",this.elem("search-container")[0].appendChild(c)}}else{var u;o.forEach((function(t){t.style.display=""})),r[0]&&(r[0].style.display=""),s[0]&&(s[0].style.display=""),this._moreItems.forEach((function(t){MBEM.cls.contains(t,"services-more-popup__item_hidden_yes")?t.style.display="none":t.style.display="",MBEM.cls.remove(t,"services-more-popup__item_search-show")}));var l=document.querySelector(".services-more-popup__search-message");null==l||null===(u=l.parentNode)||void 0===u||u.removeChild(l);var h=document.querySelector(".services-more-popup__section");h&&(h.style.display="")}},_morePopupClickEvents:function(t){if(t.target&&t.target instanceof Element){var e=MBEM.closest(t.target,"services-more-popup__overlay"),n=MBEM.closest(t.target,"services-more-popup__tab_inactive"),i=MBEM.closest(t.target,"services-more-popup__magnifier"),o=MBEM.closest(t.target,"services-more-popup__more-button");e?(t.preventDefault(),this.toggle(!1)):n?(t.preventDefault(),this._onTabClick(t)):i?this._activeMoreSearch():o&&this._showHiddenItems(t)}},_showHiddenItems:function(t){if(t.target&&t.target instanceof HTMLElement){var n,i=MBEM.closest(t.target,"services-more-popup__section");(0,e.DF)("click","services-more-popup.more.".concat(null==i?void 0:i.getAttribute("data-section"))),i&&Array.from(i.querySelectorAll(".services-more-popup__item_hidden_yes")).forEach((function(t,e){MBEM.cls.remove(t,"services-more-popup__item_hidden_yes"),t.style.display="",0===e&&t.focus()}));var o=MBEM.closest(t.target,"services-more-popup__more-button");null==o||null===(n=o.parentNode)||void 0===n||n.removeChild(o)}},_beforeOpenMorePopup:function(){var t=this;(0,e.Dn)(this.domElem,{visibilityCheck:!1}),document.addEventListener("click",this._morePopupClickEvents),this.bindTo(this.elem("more-button"),"keydown",(function(e){13===e.which&&t._showHiddenItems(e)})),this.bindTo(this.elem("magnifier"),"keydown",(function(e){13===e.which&&t._activeMoreSearch()})),this.bindTo(this.elem("tab","inactive"),"keydown",(function(e){13===e.which&&t._activeMoreSearch()})),this._isMorePopupOpened=!0,this._lastFocused=document.activeElement},_focusOnOpen:function(){this.elem("hidden-heading")[0].focus()},_beforeCloseMorePopup:function(){(0,e.DF)("click","services-more-popup.close"),document.removeEventListener("click",this._morePopupClickEvents),this._isMorePopupOpened=!1},_onTabClick:function(t){var n=t.target,i=n.getAttribute("data-section"),o=document.querySelector(".services-more-popup__section-".concat(i)),r=null==o?void 0:o.querySelector(".services-more-popup__section-title"),s=MBEM.closest(n,"scrollbar__scrollable"),a=o&&MBEM.offset(o),c=s&&MBEM.offset(s);(0,e.DF)("click","services-more-popup.tab.".concat(n.getAttribute("data-section"))),a&&s&&(s.scrollTop=a.top-((null==c?void 0:c.top)||0)-20),null==r||r.focus(),document.documentElement.classList.add("pointerfocus"),document.documentElement.classList.remove("utilityfocus")},_onKeydown:function(t){27===t.which&&this.toggle(!1)},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&9===t.which&&(t.preventDefault(),this._lastFocusable&&this._lastFocusable instanceof HTMLElement&&this._lastFocusable.focus())},_onLastFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey||9===t.which&&(t.preventDefault(),this._firstFocusable&&this._firstFocusable instanceof HTMLElement&&this._firstFocusable.focus())}}),MBEM.decl("scrollbar",{onSetMod:{js:{inited:function(){this._scrollable=this.elem("scrollable")[0],this._inner=this.elem("inner")[0],this._thumb=this.elem("thumb")[0],this._scrollable&&this._inner&&this._thumb&&(this.onScroll=this.onScroll.bind(this),this._onDragStart=this._onDragStart.bind(this),this._onDrag=this._onDrag.bind(this),this._onDragEnd=this._onDragEnd.bind(this),this._throttledOnResize=Qt(this._onResize.bind(this),100),this._scrollable.addEventListener("scroll",this.onScroll),this._thumb.addEventListener("pointerdown",this._onDragStart),this.__base.apply(this),this.onScroll(),void 0===window.IntersectionObserver||"THROTTLE_TIMEOUT"in IntersectionObserver.prototype?this._checker=setInterval(this.onScroll,1e3):(this._observer=new IntersectionObserver(this.onScroll,{root:this._scrollable,rootMargin:"0px 50px 0px 0px",threshold:[1]}),this._observer.observe(this._inner)),window.addEventListener("resize",this._throttledOnResize))}},"":function(){this._observer?this._observer.unobserve(this._scrollable):clearInterval(this._checker),this._onDragEnd(),this._scrollable.removeEventListener("scroll",this.onScroll),this._thumb.removeEventListener("pointerdown",this._onDragStart),window.removeEventListener("resize",this.onScroll)}},onScroll:function(){var t=this,e=this._getContentSize(),n=this._getParentSize(),i=this._getScroll(),o=void 0!==n&&n<e,r=o?n/e:0,s=0;r===this._scrollSizeRatio&&this._scroll===i||(this._scroll=i,this._scrollSizeRatio=r,o&&(r=Math.max(r,.1),s=100*(1-r)/(e-n)),void 0!==i&&requestAnimationFrame((function(){t._thumb.style[t._scrollSizeRatioProp()]=(100*r).toFixed(2)+"%",t._thumb.style[t._scrollRatioProp()]=(s*i).toFixed(2)+"%"})))},_onDragStart:function(t){this.onScroll(),this._startScrollValue=this._getScroll(),this._startValue=this._getScreenValue(t),MBEM.cls.add(document.body,"scrollbar__body-styles"),this.setMod(this._thumb,"active","yes"),window.addEventListener("pointermove",this._onDrag,{passive:!0}),window.addEventListener("pointerup",this._onDragEnd)},_onDrag:function(t){if(void 0!==this._startScrollValue){var e=this._getScreenValue(t)-this._startValue;this._scrollTopOrLeft(this._startScrollValue+e/this._scrollSizeRatio)}},_onDragEnd:function(){var t;window.removeEventListener("pointermove",this._onDrag),window.removeEventListener("pointerup",this._onDragEnd),this.delMod(this._thumb,"active"),MBEM.cls.remove(document.body,"scrollbar__body-styles"),null===(t=this._scrollable)||void 0===t||t.focus({preventScroll:!0}),document.documentElement.classList.remove("utilityfocus"),document.documentElement.classList.add("pointerfocus")},_onResize:function(){this.onScroll()},unmount:function(){window.removeEventListener("resize",this._throttledOnResize),window.removeEventListener("pointermove",this._onDrag),window.removeEventListener("pointerup",this._onDragEnd)}});r(3049);var ve=(0,n.Yu)("i-bannerid.csl"),ge=null;function be(t){if(!ve)throw new Error("i-bannerid: Cookie set link wasn't passed");if(!t)throw new Error("i-bannerid: Bannerid wasn't passed");var e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.replace(/%s/g,(function(){return n.shift()||""}))}(ve,t);ge||((ge=document.createElement("iframe")).name="i-bannerid",ge.style.display="none",document.body.appendChild(ge)),ge.src!==e&&(ge.src=e)}BEM.DOM.decl("yabrowser-promo",{onSetMod:{js:function(){this.onMatchMedia=function(t){t.matches&&this._sendShowCounter()}.bind(this),this._bindEvents(),this._sendShowCounter()}},_bindEvents:function(){this.bindTo("text-link","pointerclick",this._install.bind(this)),this.matchMedia=window.matchMedia("(min-height: 640px)"),this.matchMedia.addListener(this.onMatchMedia)},_install:function(){(0,e.DF)("click","dist.informers.browser.link"),this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&be(this.params.bannerid))},_sendShowCounter:function(){this.domElem.height()>0&&((0,e.DF)("show","dist.informers.browser.link"),this.matchMedia.removeListener(this.onMatchMedia),this.params.showUrl&&((new Image).src=this.params.showUrl))}});r(6895);function ye(t,e,n){if(t&&t.text1){var i,o,r={};if("download"!==t.type&&"extensions-download"!==t.type||(r.install="download"),t.js=n(we,t),t.mods=r,t&&t.text1){t.img&&t.img.url&&(o=Math.round(20*t.img.width/t.img.height),i=n(Me,{url:t.img.url,height:20,width:o})),e.stat.logShow("soft_link");var s=n(E.b,{href:t.url,mods:{color:"gray",hover:"secondary"},content:n(ke,{icon:i,text:t.text1.replace(/[[|\]]/g,"")}),stat:t.click,mix:"yabrowser-promo__text-link"});return n(Ee,{link:s,mods:t.mods||{},mix:t.mix||"",js:{"yabrowser-promo":t.js}})}}}function we(t){var e={bannerid:t.bannerid?"0401"+t.bannerid:void 0,showUrl:t.show_url};return"download"!==t.type&&"extensions-download"!==t.type||(e.url=t.url,e.text=t.install_text,e.counters={click:t.install_yes},e.mods={position:t.position,image:"right-top"===t.position&&t.guide_image?"yes":""},e.attrs={style:"right-top"===t.position&&t.guide_image?"background-image: url("+t.guide_image+");":""}),"extensions-landing"!==t.type&&"extensions-download"!==t.type||(e.yaCounterId=t.metrikaCounter),e}function Ee(t){return"<div "+b()(Object.assign({class:"".concat((0,P.jY)("yabrowser-promo",t||{})," i-bem")},t.attrs,{"data-bem":(0,P.Ms)(t.js||{})}))+">"+w().oneElem(t.link)+"</div>"}function Me(t){return"<img "+b()({class:"yabrowser-promo__icon",src:t.url,width:t.width,height:t.height,alt:"logo",role:"presentation"})+">"}function ke(t){return"<div class='yabrowser-promo__link'>"+(w().oneElem(t.icon)+w().oneElem("<span class='yabrowser-promo__text'>"+w().oneElem(t.text)+"</span>"))+"</div>"}function Ie(t,e,i){var o=(0,n.Yu)("banner-newtab.exps");return i(Ce,{attrs:(0,R.u)({"data-bem":(0,P.Ms)({"banner-newtab":{url:t.url,exps:o,usemock_refresh:(0,n.Yu)("banner-newtab.usemock_refresh"),aim_banner_id:(0,n.Yu)("banner-newtab.aim_banner_id")}}),"data-statlog":"banner.exps","data-statlog-autoshow":1}),mods:{}})}function Ce(t){return"<div "+b()({class:"".concat((0,P.jY)("banner-newtab",t||{})," i-bem"),_temp:t.attrs})+"><div class='banner-newtab__place'></div></div>"}BEM.DOM.decl({block:"yabrowser-promo",modName:"install",modVal:"download"},{_install:function(){return this.__base.apply(this),kt(this.params),!1}}),BEM.DOM.decl("main",{onSetMod:{js:function(){this._bindEvents(),this._blocks={banner_status:"banner",link_bro:"yabrowser-promo"}}},_bindEvents:function(){this.channel("i-init-data").on("data",this._onInitData,this)},_onInitData:function(t,e){e.block.forEach((function(t){var e=this._blocks[t.id];e&&t.data&&this._renderBlock(e,t.data)}),this)},_renderBlock:function(n,i){var o={"yabrowser-promo":ye,banner:Ie}[n];if(o){var r=$(".main__block-"+n),s=(0,d.M)(o,i,{});s&&(r.html(s),(0,e.Dn)(r),BEM.DOM.init(r))}else(0,t.H)({block:"main",message:"View not found "+n})}});r(7302),r(8353),r(997),r(4468),r(4401),r(2289),r(8764),r(8260),r(6493);(0,n.Yu)("init.asyncInitExp")||MBEM.ready((function(){var t=document.documentElement;t&&(MBEM.channel("i-mini-bem").trigger("start-init"),MBEM.initAll(t,"i-mini-bem"),MBEM.channel("i-mini-bem").trigger("init"))}))}()}(),window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&Ya.Rum.timeEnd("2095");